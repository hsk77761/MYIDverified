{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/workbox-precaching/_version.js","webpack:///./node_modules/workbox-core/_version.js","webpack:///./node_modules/workbox-routing/_version.js","webpack:///./node_modules/workbox-strategies/_version.js","webpack:///./node_modules/workbox-expiration/_version.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/unescape.js","webpack:///./app/javascript/mastodon/service_worker/web_push_locales.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/lodash/_baseToString.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_unescapeHtmlChar.js","webpack:///./node_modules/lodash/_basePropertyOf.js","webpack:///./node_modules/workbox-core/models/messages/messages.js","webpack:///./node_modules/workbox-core/models/messages/messageGenerator.js","webpack:///./node_modules/workbox-core/_private/WorkboxError.js","webpack:///./node_modules/workbox-core/_private/dontWaitFor.js","webpack:///./node_modules/workbox-core/_private/logger.js","webpack:///./node_modules/idb/build/wrap-idb-value.js","webpack:///./node_modules/idb/build/index.js","webpack:///./node_modules/workbox-expiration/models/CacheTimestampsModel.js","webpack:///./node_modules/workbox-expiration/CacheExpiration.js","webpack:///./node_modules/workbox-core/_private/cacheNames.js","webpack:///./node_modules/workbox-core/_private/getFriendlyURL.js","webpack:///./node_modules/workbox-core/models/quotaErrorCallbacks.js","webpack:///./node_modules/workbox-expiration/ExpirationPlugin.js","webpack:///./node_modules/workbox-core/registerQuotaErrorCallback.js","webpack:///./node_modules/workbox-core/_private/waitUntil.js","webpack:///./node_modules/workbox-precaching/utils/createCacheKey.js","webpack:///./node_modules/workbox-precaching/utils/PrecacheInstallReportPlugin.js","webpack:///./node_modules/workbox-precaching/utils/PrecacheCacheKeyPlugin.js","webpack:///./node_modules/workbox-core/_private/canConstructResponseFromBodyStream.js","webpack:///./node_modules/workbox-core/copyResponse.js","webpack:///./node_modules/workbox-core/_private/cacheMatchIgnoreParams.js","webpack:///./node_modules/workbox-core/_private/Deferred.js","webpack:///./node_modules/workbox-core/_private/timeout.js","webpack:///./node_modules/workbox-strategies/StrategyHandler.js","webpack:///./node_modules/workbox-core/_private/executeQuotaErrorCallbacks.js","webpack:///./node_modules/workbox-strategies/Strategy.js","webpack:///./node_modules/workbox-precaching/PrecacheStrategy.js","webpack:///./node_modules/workbox-precaching/PrecacheController.js","webpack:///./node_modules/workbox-precaching/utils/getOrCreatePrecacheController.js","webpack:///./node_modules/workbox-routing/utils/constants.js","webpack:///./node_modules/workbox-routing/utils/normalizeHandler.js","webpack:///./node_modules/workbox-routing/Route.js","webpack:///./node_modules/workbox-routing/RegExpRoute.js","webpack:///./node_modules/workbox-routing/Router.js","webpack:///./node_modules/workbox-routing/utils/getOrCreateDefaultRouter.js","webpack:///./node_modules/workbox-routing/registerRoute.js","webpack:///./node_modules/workbox-precaching/PrecacheRoute.js","webpack:///./node_modules/workbox-precaching/utils/generateURLVariations.js","webpack:///./node_modules/workbox-precaching/utils/removeIgnoredSearchParams.js","webpack:///./node_modules/workbox-strategies/CacheFirst.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@formatjs/icu-messageformat-parser/lib/error.js","webpack:///./node_modules/@formatjs/icu-messageformat-parser/lib/types.js","webpack:///./node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","webpack:///./node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","webpack:///./node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","webpack:///./node_modules/@formatjs/icu-skeleton-parser/lib/number.js","webpack:///./node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js","webpack:///./node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","webpack:///./node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js","webpack:///./node_modules/@formatjs/icu-messageformat-parser/lib/index.js","webpack:///./node_modules/@formatjs/fast-memoize/lib/index.js","webpack:///./node_modules/intl-messageformat/lib/src/error.js","webpack:///./node_modules/intl-messageformat/lib/src/formatters.js","webpack:///./node_modules/intl-messageformat/lib/src/core.js","webpack:///./app/javascript/mastodon/service_worker/web_push_notifications.js","webpack:///./app/javascript/mastodon/service_worker/entry.js","webpack:///./node_modules/workbox-precaching/precacheAndRoute.js","webpack:///./node_modules/workbox-precaching/precache.js","webpack:///./node_modules/workbox-precaching/addRoute.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","self","_","e","toString","unescapeHtmlChar","reEscapedHtml","reHasEscapedHtml","RegExp","source","string","test","replace","baseToString","arrayMap","isArray","isSymbol","symbolProto","undefined","symbolToString","result","freeGlobal","freeSelf","root","Function","global","g","this","window","array","iteratee","index","length","Array","baseGetTag","isObjectLike","getRawTag","objectToString","symToStringTag","objectProto","nativeObjectToString","isOwn","tag","unmasked","basePropertyOf","messageGenerator","code","msg","_len","arguments","args","_key","JSON","stringify","Error","constructor","errorCode","details","super","dontWaitFor","promise","then","instanceOfAny","constructors","some","idbProxyableTypes","cursorAdvanceMethods","cursorRequestMap","WeakMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","idbProxyTraps","target","prop","receiver","IDBTransaction","objectStoreNames","objectStore","wrap","set","has","wrapFunction","func","IDBDatabase","transaction","IDBCursor","advance","continue","continuePrimaryKey","includes","_len2","_key2","apply","unwrap","_len3","_key3","storeNames","tx","sort","transformCachableValue","done","Promise","resolve","reject","unlisten","removeEventListener","complete","error","DOMException","addEventListener","cacheDonePromiseForTransaction","IDBObjectStore","IDBIndex","Proxy","IDBRequest","request","success","catch","promisifyRequest","newValue","readMethods","writeMethods","cachedMethods","Map","getMethod","targetFuncName","useIndex","isWrite","method","async","storeName","store","shift","all","oldTraps","callback","CACHE_OBJECT_STORE","normalizeURL","unNormalizedUrl","url","URL","location","href","hash","cacheName","_db","_cacheName","_upgradeDb","db","objStore","createObjectStore","keyPath","createIndex","unique","_upgradeDbAndDeleteOldDbs","_temp2","blocked","indexedDB","deleteDatabase","event","oldVersion","deleteDB","setTimestamp","timestamp","entry","id","_getId","getDb","durability","put","getTimestamp","expireEntries","minTimestamp","maxCount","cursor","openCursor","entriesToDelete","entriesNotDeletedCount","push","urlsDeleted","delete","version","_temp","upgrade","blocking","terminated","open","openPromise","newVersion","openDB","config","_isRunning","_rerunRequested","_maxEntries","maxEntries","_maxAgeSeconds","maxAgeSeconds","_matchOptions","matchOptions","_timestampModel","Date","now","urlsExpired","cache","caches","updateTimestamp","isURLExpired","expireOlderThan","Infinity","_cacheNameDetails","googleAnalytics","precache","prefix","runtime","suffix","registration","scope","_createCacheName","filter","join","cacheNames","userCacheName","getFriendlyURL","String","origin","quotaErrorCallbacks","Set","cachedResponseWillBeUsed","cachedResponse","_ref","isFresh","_isResponseDateFresh","cacheExpiration","_getCacheExpiration","updateTimestampDone","waitUntil","cacheDidUpdate","_ref2","_config","_cacheExpirations","purgeOnQuotaError","add","registerQuotaErrorCallback","deleteCacheAndMetadata","dateHeaderTimestamp","_getDateHeaderTimestamp","headers","dateHeader","headerTime","getTime","isNaN","asyncFn","returnPromise","createCacheKey","urlObject","cacheKey","revision","cacheKeyURL","originalURL","searchParams","PrecacheInstallReportPlugin","updatedURLs","notUpdatedURLs","handlerWillStart","state","originalRequest","type","Request","PrecacheCacheKeyPlugin","precacheController","cacheKeyWillBeUsed","params","_precacheController","getCacheKeyForURL","supportStatus","copyResponse","response","modifier","clonedResponse","clone","responseInit","Headers","status","statusText","modifiedResponseInit","body","testResponse","Response","canConstructResponseFromBodyStream","blob","stripParams","fullURL","ignoreParams","strippedURL","param","Deferred","timeout","ms","setTimeout","toRequest","input","strategy","options","_cacheKeys","assign","_strategy","_handlerDeferred","_extendLifetimePromises","_plugins","plugins","_pluginStateMap","plugin","fetch","FetchEvent","preloadResponse","possiblePreloadResponse","hasCallback","cb","iterateCallbacks","err","thrownErrorMessage","message","pluginFilteredRequest","fetchResponse","fetchOptions","runCallbacks","fetchAndCachePut","responseClone","cachePut","cacheMatch","effectiveRequest","getCacheKey","multiMatchOptions","match","responseToCache","_ensureResponseSafeToCache","hasCacheUpdateCallback","oldResponse","strippedRequestURL","keysOptions","ignoreSearch","cacheKeys","keys","cacheMatchIgnoreParams","executeQuotaErrorCallbacks","newResponse","statefulCallback","statefulParam","doneWaiting","destroy","pluginsUsed","handle","responseDone","handleAll","handler","_getResponse","_awaitComplete","_handle","waitUntilError","_fallbackToNetwork","fallbackToNetwork","copyRedirectedCacheableResponsesPlugin","_handleInstall","_handleFetch","integrityInManifest","integrity","integrityInRequest","noIntegrityConflict","_useDefaultCacheabilityPluginIfNeeded","defaultPluginIndex","cacheWillUpdatePluginCount","entries","defaultPrecacheCacheabilityPlugin","cacheWillUpdate","splice","redirected","_urlsToCacheKeys","_urlsToCacheModes","_cacheKeysToIntegrities","install","activate","addToCacheList","_installAndActiveListenersAdded","urlsToWarnAbout","cacheMode","firstEntry","secondEntry","warningMessage","console","warn","installReportPlugin","credentials","currentlyCachedRequests","expectedCacheKeys","values","deletedURLs","getURLsToCacheKeys","getCachedURLs","getIntegrityForCacheKey","matchPrecache","createHandlerBoundToURL","getOrCreatePrecacheController","normalizeHandler","setCatchHandler","catchHandler","regExp","exec","slice","_routes","_defaultHandlerMap","routes","addFetchListener","responsePromise","handleRequest","respondWith","addCacheListener","data","payload","requestPromises","urlsToCache","map","ports","postMessage","protocol","startsWith","sameOrigin","route","findMatchingRoute","_catchHandler","catchErr","matchResult","setDefaultHandler","registerRoute","unregisterRoute","routeIndex","indexOf","getOrCreateDefaultRouter","capture","captureUrl","moduleName","funcName","paramName","urlsToCacheKeys","possibleURL","ignoreURLParametersMatching","directoryIndex","cleanURLs","urlManipulation","urlWithoutIgnoredParams","removeIgnoredSearchParams","pathname","endsWith","directoryURL","cleanURL","additionalURLs","urlToAttempt","generateURLVariations","extendStatics","b","setPrototypeOf","__proto__","__extends","TypeError","__","__assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","concat","SuppressedError","ErrorKind","TYPE","SKELETON_TYPE","isLiteralElement","el","literal","isArgumentElement","argument","isNumberElement","number","isDateElement","date","isTimeElement","time","isSelectElement","select","isPluralElement","plural","isPoundElement","pound","isTagElement","isNumberSkeleton","isDateTimeSkeleton","dateTime","SPACE_SEPARATOR_REGEX","DATE_TIME_REGEX","parseDateTimeSkeleton","skeleton","len","era","year","RangeError","month","day","weekday","hour12","hourCycle","hour","minute","second","timeZoneName","FRACTION_PRECISION_REGEX","SIGNIFICANT_PRECISION_REGEX","INTEGER_WIDTH_REGEX","CONCISE_INTEGER_WIDTH_REGEX","parseSignificantPrecision","str","roundingPriority","g1","g2","minimumSignificantDigits","maximumSignificantDigits","parseSign","signDisplay","currencySign","parseConciseScientificAndEngineeringStem","stem","notation","minimumIntegerDigits","parseNotationOptions","opt","signOpts","parseNumberSkeleton","tokens","_i","tokens_1","token","style","scale","currency","useGrouping","maximumFractionDigits","unit","compactDisplay","reduce","currencyDisplay","unitDisplay","parseFloat","g3","g4","g5","minimumFractionDigits","trailingZeroDisplay","conciseScientificAndEngineeringOpts","timeData","getDefaultHourSymbolFromLocale","locale","hourCycles","regionTag","languageTag","language","maximize","region","SPACE_SEPARATOR_START_REGEX","SPACE_SEPARATOR_END_REGEX","createLocation","start","end","hasNativeStartsWith","hasNativeFromCodePoint","fromCodePoint","hasNativeFromEntries","fromEntries","hasNativeCodePointAt","codePointAt","hasTrimStart","trimStart","hasTrimEnd","trimEnd","isSafeInteger","Number","isFinite","Math","floor","abs","REGEX_SUPPORTS_U_AND_Y","RE","matchIdentifierAtIndex","search","position","codePoints","elements","fromCharCode","obj","entries_1","_a","k","v","size","first","charCodeAt","flag","IDENTIFIER_PREFIX_RE_1","lastIndex","_isWhiteSpace","_isPatternSyntax","Parser","offset","line","column","ignoreTag","requiresOtherClause","shouldParseSkeletons","parse","parseMessage","nestingLevel","parentArgType","expectingCloseTag","isEOF","char","parseArgument","val","peek","UNMATCHED_CLOSING_TAG","clonePosition","_isAlpha","parseTag","parseLiteral","bump","startPosition","tagName","parseTagName","bumpSpace","bumpIf","childrenResult","children","endTagStartPosition","INVALID_TAG","closingTagNameStartPosition","UNCLOSED_TAG","startOffset","parseQuoteResult","tryParseQuote","parseUnquotedResult","tryParseUnquoted","parseLeftAngleResult","tryParseLeftAngleBracket","codepoint","ch","openingBracePosition","EXPECT_ARGUMENT_CLOSING_BRACE","EMPTY_ARGUMENT","parseIdentifierIfPossible","MALFORMED_ARGUMENT","parseArgumentOptions","startingPosition","endOffset","bumpTo","typeStartPosition","argType","typeEndPosition","EXPECT_ARGUMENT_TYPE","styleAndLocation","styleStartPosition","parseSimpleArgStyleIfPossible","EXPECT_ARGUMENT_STYLE","styleLocation","argCloseResult","tryParseArgumentClose","location_1","parseNumberSkeletonFromString","EXPECT_DATE_TIME_SKELETON","dateTimePattern","skeletonCopy","patternPos","patternChar","charAt","extraLength","hourLen","dayPeriodLen","hourChar","getBestPattern","pattern","parsedOptions","typeEndPosition_1","EXPECT_SELECT_ARGUMENT_OPTIONS","identifierAndLocation","pluralOffset","EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE","tryParseDecimalInteger","INVALID_PLURAL_ARGUMENT_OFFSET_VALUE","optionsResult","tryParsePluralOrSelectOptions","location_2","pluralType","INVALID_ARGUMENT_TYPE","nestedBraces","apostrophePosition","bumpUntil","UNCLOSED_QUOTE_IN_ARGUMENT_STYLE","stringTokens_1","split","x","stemAndOptions","options_1","INVALID_NUMBER_SKELETON","expectCloseTag","parsedFirstIdentifier","hasOtherClause","parsedSelectors","selector","selectorLocation","EXPECT_PLURAL_ARGUMENT_SELECTOR","INVALID_PLURAL_ARGUMENT_SELECTOR","DUPLICATE_SELECT_ARGUMENT_SELECTOR","DUPLICATE_PLURAL_ARGUMENT_SELECTOR","EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT","EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT","fragmentResult","EXPECT_SELECT_ARGUMENT_SELECTOR","MISSING_OTHER_CLAUSE","expectNumberError","invalidNumberError","sign","hasDigits","decimal","kind","currentOffset","targetOffset","min","nextCode","pruneLocation","els","forEach","opts","SyntaxError","originalMessage","captureLocation","memoize","fn","cacheDefault","serializer","serializerDefault","strategyDefault","monadic","arg","computedValue","variadic","assemble","context","serialize","ObjectWithoutPrototypeCache","ErrorCode","strategies","PART_TYPE","_super","FormatError","_this","InvalidValueError","variableId","INVALID_VALUE","InvalidValueTypeError","MissingValueError","MISSING_VALUE","isFormatXMLElementFn","formatToParts","locales","formatters","formats","currentPluralValue","els_1","getNumberFormat","format","varName","getDateTimeFormat","medium","value_1","formatFn","chunks","other","Intl","PluralRules","MISSING_INTL_API","rule","getPluralRules","parts","part","lastPart","mergeLiteral","mergeConfigs","defaultConfig","configs","c1","c2","createFastMemoizeCache","IntlMessageFormat","overrideFormats","defaultLocale","formatterCache","pluralRules","ast","resolvedOptions","resolvedLocale","NumberFormat","supportedLocalesOf","getAst","resolveLocale","__parse","parseOpts","DateTimeFormat","memoizedDefaultLocale","configurable","Locale","supportedLocales","integer","percent","short","long","full","notify","getNotifications","notifications","group","title","formatMessage","preferred_locale","count","n1","n2","notification","badge","icon","close","showNotification","cloneNotification","fetchFromApi","path","accessToken","res","ok","json","messageId","htmlToPlainText","html","_unescape","actionExpand","action","actionReblog","actionFavourite","removeActionFromNotification","newNotification","actions","item","CACHE_NAME_PREFIX","openWebCache","__WB_MANIFEST","addRoute","CacheFirst","ExpirationPlugin","destination","redirect","_ref3","clients","claim","asyncResponse","asyncCache","access_token","notification_id","account","display_name","username","content","avatar_static","created_at","image","media_attachments","preview_url","acct","spoiler_text","sensitive","hiddenBody","hiddenImage","reactToNotificationClick","expandNotification","matchAll","clientList","focusedClient","find","client","focused","visibleClient","visibilityState","findBestClient","navigate","focus","openWindow"],"mappings":"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AN,GAAsB,MAAN,GAAgB,GAAK,KAAU,GAAK,KAAgB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAsB,MAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAsB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAsB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAsB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAsB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAsB,OAAN,GAAsB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,KAAgB,OAAN,GAAsB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAU,GAAK,MAAgB,OAAN,GAAgB,GAAK,MAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAU,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,OAAgB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAsB,QAAN,GAAgB,GAAK,OAAU,GAAK,KAC/9J,CEv9BA,SAAS,GAAc,GACrB,EAAI,SAAQ,SAAU,GAEpB,UADO,EAAG,SACN,GAAgB,IAAO,GAAgB,GACzC,IAAK,IAAI,KAAK,EAAG,eACR,EAAG,QAAQ,GAAG,SACrB,GAAc,EAAG,QAAQ,GAAG,YAErB,GAAgB,IAAO,GAAiB,EAAG,SAE1C,GAAc,IAAO,GAAc,KAAQ,GAAmB,EAAG,cADpE,EAAG,MAAM,SAGP,GAAa,IACtB,GAAc,EAAG,SAErB,GACF,CACO,SAAS,GAAM,EAAS,QAChB,IAAT,IACF,EAAO,CAAC,GAEV,EAAO,GAAS,CACd,sBAAsB,EACtB,qBAAqB,GACpB,GACH,IAAI,EAAS,IAAI,GAAO,EAAS,GAAM,QACvC,GAAI,EAAO,IAAK,CACd,IAAI,EAAQ,YAAY,GAAU,EAAO,IAAI,OAK7C,MAHA,EAAM,SAAW,EAAO,IAAI,SAE5B,EAAM,gBAAkB,EAAO,IAAI,QAC7B,CACR,CAIA,OAHM,aAAmC,EAAS,EAAK,kBACrD,GAAc,EAAO,KAEhB,EAAO,GAChB,CCvCO,SAAS,GAAQ,EAAI,GAC1B,IAAI,EAAQ,GAAW,EAAQ,MAAQ,EAAQ,MAAQ,GACnD,EAAa,GAAW,EAAQ,WAAa,EAAQ,WAAa,GAEtE,OADe,GAAW,EAAQ,SAAW,EAAQ,SAAW,IAChD,EAAI,CAClB,MAAO,EACP,WAAY,GAEhB,CAQA,SAAS,GAAQ,EAAI,EAAO,EAAY,GACtC,IALmB,EAKf,EAJY,OADG,EAKQ,IAJc,iBAAV,GAAuC,kBAAV,EAI1B,EAAM,EAAW,GAC/C,EAAgB,EAAM,IAAI,GAK9B,YAJ6B,IAAlB,IACT,EAAgB,EAAG,KAAK,KAAM,GAC9B,EAAM,IAAI,EAAU,IAEf,CACT,CACA,SAAS,GAAS,EAAI,EAAO,GAC3B,IAAI,EAAO,MAAM,UAAU,MAAM,KAAK,UAAW,GAC7C,EAAW,EAAW,GACtB,EAAgB,EAAM,IAAI,GAK9B,YAJ6B,IAAlB,IACT,EAAgB,EAAG,MAAM,KAAM,GAC/B,EAAM,IAAI,EAAU,IAEf,CACT,CACA,SAAS,GAAS,EAAI,EAAS,EAAU,EAAO,GAC9C,OAAO,EAAS,KAAK,EAAS,EAAI,EAAO,EAC3C,CACA,SAAS,GAAgB,EAAI,GAE3B,OAAO,GAAS,EAAI,KADS,IAAd,EAAG,OAAe,GAAU,GACP,EAAQ,MAAM,SAAU,EAAQ,WACtE,CAUA,IAAI,GAAoB,WACtB,OAAO,KAAK,UAAU,UACxB,EAIA,SAAS,KACP,KAAK,MAAQ,OAAO,OAAO,KAC7B,CACA,GAA4B,UAAU,IAAM,SAAU,GACpD,OAAO,KAAK,MAAM,EACpB,EACA,GAA4B,UAAU,IAAM,SAAU,EAAK,GACzD,KAAK,MAAM,GAAO,CACpB,EACA,ICpEW,GDoEP,GAAe,CACjB,OAAQ,WAEN,OAAO,IAAI,EACb,GAES,GAAa,CACtB,SA/BF,SAA0B,EAAI,GAC5B,OAAO,GAAS,EAAI,KAAM,GAAU,EAAQ,MAAM,SAAU,EAAQ,WACtE,EA8BE,QA7BF,SAAyB,EAAI,GAC3B,OAAO,GAAS,EAAI,KAAM,GAAS,EAAQ,MAAM,SAAU,EAAQ,WACrE,IChDA,SAAW,GAET,EAAyB,cAAI,gBAE7B,EAAyB,cAAI,gBAE7B,EAA4B,iBAAI,kBACjC,CAPD,CAOG,KAAc,GAAY,CAAC,IAC9B,ICRW,GDQP,GAA2B,SAAU,GAEvC,SAAS,EAAY,EAAK,EAAM,GAC9B,IAAI,EAAQ,EAAO,KAAK,KAAM,IAAQ,KAGtC,OAFA,EAAM,KAAO,EACb,EAAM,gBAAkB,EACjB,CACT,CAIA,OAVA,GAAU,EAAa,GAOvB,EAAY,UAAU,SAAW,WAC/B,MAAO,oBAAoB,OAAO,KAAK,KAAM,MAAM,OAAO,KAAK,QACjE,EACO,CACT,CAZ+B,CAY7B,OAEE,GAAiC,SAAU,GAE7C,SAAS,EAAkB,EAAY,EAAO,EAAS,GACrD,OAAO,EAAO,KAAK,KAAM,uBAAwB,OAAO,EAAY,QAAU,OAAO,EAAO,oBAAsB,OAAO,OAAO,KAAK,GAAS,KAAK,QAAS,KAAO,GAAU,cAAe,IAAoB,IAClN,CACA,OAJA,GAAU,EAAmB,GAItB,CACT,CANqC,CAMnC,IAEE,GAAqC,SAAU,GAEjD,SAAS,EAAsB,EAAO,EAAM,GAC1C,OAAO,EAAO,KAAK,KAAM,cAAe,OAAO,EAAO,sBAAuB,OAAO,GAAO,GAAU,cAAe,IAAoB,IAC1I,CACA,OAJA,GAAU,EAAuB,GAI1B,CACT,CANyC,CAMvC,IAEE,GAAiC,SAAU,GAE7C,SAAS,EAAkB,EAAY,GACrC,OAAO,EAAO,KAAK,KAAM,qCAAsC,OAAO,EAAY,sCAAwC,OAAO,EAAiB,KAAO,GAAU,cAAe,IAAoB,IACxM,CACA,OAJA,GAAU,EAAmB,GAItB,CACT,CANqC,CAMnC,ICzBK,SAAS,GAAqB,GACnC,MAAqB,mBAAP,CAChB,CAEO,SAAS,GAAc,EAAK,EAAS,EAAY,EAAS,EAAQ,EAEzE,GAEE,GAAmB,IAAf,EAAI,QAAgB,GAAiB,EAAI,IAC3C,MAAO,CAAC,CACN,KAAM,GAAU,QAChB,MAAO,EAAI,GAAG,QAIlB,IADA,IAAI,EAAS,GACJ,EAAK,EAAG,EAAQ,EAAK,EAAK,EAAM,OAAQ,IAAM,CACrD,IAAI,EAAK,EAAM,GAEf,GAAI,GAAiB,GACnB,EAAO,KAAK,CACV,KAAM,GAAU,QAChB,MAAO,EAAG,aAMd,GAAI,GAAe,GACiB,iBAAvB,GACT,EAAO,KAAK,CACV,KAAM,GAAU,QAChB,MAAO,EAAW,gBAAgB,GAAS,OAAO,SAJxD,CASA,IAAI,EAAU,EAAG,MAEjB,IAAM,KAAU,KAAW,GACzB,MAAM,IAAI,GAAkB,EAAS,GAEvC,IAAI,EAAQ,EAAO,GACnB,GAAI,GAAkB,GACf,GAA0B,iBAAV,GAAuC,iBAAV,IAChD,EAAyB,iBAAV,GAAuC,iBAAV,EAAqB,OAAO,GAAS,IAEnF,EAAO,KAAK,CACV,KAAuB,iBAAV,EAAqB,GAAU,QAAU,GAAU,OAChE,MAAO,SAOX,GAAI,GAAc,GAAlB,CACE,IAAI,EAA4B,iBAAb,EAAG,MAAqB,EAAQ,KAAK,EAAG,OAAS,GAAmB,EAAG,OAAS,EAAG,MAAM,mBAAgB,EAC5H,EAAO,KAAK,CACV,KAAM,GAAU,QAChB,MAAO,EAAW,kBAAkB,EAAS,GAAO,OAAO,IAG/D,MACA,GAAI,GAAc,GAAlB,CACM,EAA4B,iBAAb,EAAG,MAAqB,EAAQ,KAAK,EAAG,OAAS,GAAmB,EAAG,OAAS,EAAG,MAAM,cAAgB,EAAQ,KAAK,OACzI,EAAO,KAAK,CACV,KAAM,GAAU,QAChB,MAAO,EAAW,kBAAkB,EAAS,GAAO,OAAO,IAG/D,MACA,GAAI,GAAgB,GAApB,EACM,EAA4B,iBAAb,EAAG,MAAqB,EAAQ,OAAO,EAAG,OAAS,GAAiB,EAAG,OAAS,EAAG,MAAM,mBAAgB,IAC/G,EAAM,QACjB,GAAiB,EAAM,OAAS,GAElC,EAAO,KAAK,CACV,KAAM,GAAU,QAChB,MAAO,EAAW,gBAAgB,EAAS,GAAO,OAAO,IAG7D,KAVA,CAWA,GAAI,GAAa,GAAK,CACpB,IAAI,EAAW,EAAG,SAChB,EAAU,EAAG,MACX,EAAW,EAAO,GACtB,IAAK,GAAqB,GACxB,MAAM,IAAI,GAAsB,EAAS,WAAY,GAEvD,IACI,EAAS,EADD,GAAc,EAAU,EAAS,EAAY,EAAS,EAAQ,GAC9C,KAAI,SAAU,GACxC,OAAO,EAAE,KACX,KACK,MAAM,QAAQ,KACjB,EAAS,CAAC,IAEZ,EAAO,KAAK,MAAM,EAAQ,EAAO,KAAI,SAAU,GAC7C,MAAO,CACL,KAAmB,iBAAN,EAAiB,GAAU,QAAU,GAAU,OAC5D,MAAO,EAEX,IACF,CACA,GAAI,GAAgB,GAApB,CAEE,KADI,EAAM,EAAG,QAAQ,IAAU,EAAG,QAAQ,OAExC,MAAM,IAAI,GAAkB,EAAG,MAAO,EAAO,OAAO,KAAK,EAAG,SAAU,GAExE,EAAO,KAAK,MAAM,EAAQ,GAAc,EAAI,MAAO,EAAS,EAAY,EAAS,GAEnF,MACA,GAAI,GAAgB,GAApB,CACE,IAAI,EACJ,KADI,EAAM,EAAG,QAAQ,IAAI,OAAO,KACtB,CACR,IAAK,KAAK,YACR,MAAM,IAAI,GAAY,kHAAqH,GAAU,iBAAkB,GAEzK,IAAI,EAAO,EAAW,eAAe,EAAS,CAC5C,KAAM,EAAG,aACR,OAAO,GAAS,EAAG,QAAU,IAChC,EAAM,EAAG,QAAQ,IAAS,EAAG,QAAQ,KACvC,CACA,IAAK,EACH,MAAM,IAAI,GAAkB,EAAG,MAAO,EAAO,OAAO,KAAK,EAAG,SAAU,GAExE,EAAO,KAAK,MAAM,EAAQ,GAAc,EAAI,MAAO,EAAS,EAAY,EAAS,EAAQ,GAAS,EAAG,QAAU,IAEjH,MA9CA,CA9CA,CA6FF,CACA,OA/IF,SAAsB,GACpB,OAAI,EAAM,OAAS,EACV,EAEF,EAAM,QAAO,SAAU,EAAK,GACjC,IAAI,EAAW,EAAI,EAAI,OAAS,GAMhC,OALK,GAAY,EAAS,OAAS,GAAU,SAAW,EAAK,OAAS,GAAU,QAG9E,EAAS,OAAS,EAAK,MAFvB,EAAI,KAAK,GAIJ,CACT,GAAG,GACL,CAkIS,CAAa,EACtB,CCpIA,SAAS,GAAa,EAAe,GACnC,OAAK,EAGE,OAAO,KAAK,GAAe,QAAO,SAAU,EAAK,GAb1D,IAAqB,EAAI,EAerB,OADA,EAAI,IAda,EAcI,EAAc,IAdd,EAckB,EAAQ,IAV1C,GAAS,GAAS,GAAS,CAAC,EAAG,GAAM,CAAC,GAAI,GAAM,CAAC,GAAI,OAAO,KAAK,GAAI,QAAO,SAAU,EAAK,GAEhG,OADA,EAAI,GAAK,GAAS,GAAS,CAAC,EAAG,EAAG,IAAK,EAAG,IAAM,CAAC,GAC1C,CACT,GAAG,CAAC,IALK,GAaA,CACT,GAAG,GAAS,CAAC,EAAG,IALP,CAMX,CACA,SAAS,GAAuB,GAC9B,MAAO,CACL,OAAQ,WACN,MAAO,CACL,IAAK,SAAU,GACb,OAAO,EAAM,EACf,EACA,IAAK,SAAU,EAAK,GAClB,EAAM,GAAO,CACf,EAEJ,EAEJ,EDtCA,SAAW,GACT,EAAU,EAAmB,QAAI,GAAK,UACtC,EAAU,EAAkB,OAAI,GAAK,QACtC,CAHD,CAGG,KAAc,GAAY,CAAC,ICgFvB,IAAI,GAAiC,WAC1C,SAAS,EAAkB,EAAS,EAAS,EAAiB,QAC5C,IAAZ,IACF,EAAU,EAAkB,eAE9B,IAjD6B,EAiDzB,EAAQ,KAwCZ,GAvCA,KAAK,eAAiB,CACpB,OAAQ,CAAC,EACT,SAAU,CAAC,EACX,YAAa,CAAC,GAEhB,KAAK,OAAS,SAAU,GACtB,IAAI,EAAQ,EAAM,cAAc,GAEhC,GAAqB,IAAjB,EAAM,OACR,OAAO,EAAM,GAAG,MAElB,IAAI,EAAS,EAAM,QAAO,SAAU,EAAK,GAMvC,OALK,EAAI,QAAU,EAAK,OAAS,GAAU,SAA0C,iBAAxB,EAAI,EAAI,OAAS,GAG5E,EAAI,EAAI,OAAS,IAAM,EAAK,MAF5B,EAAI,KAAK,EAAK,OAIT,CACT,GAAG,IACH,OAAI,EAAO,QAAU,EACZ,EAAO,IAAM,GAEf,CACT,EACA,KAAK,cAAgB,SAAU,GAC7B,OAAO,GAAc,EAAM,IAAK,EAAM,QAAS,EAAM,WAAY,EAAM,QAAS,OAAQ,EAAW,EAAM,QAC3G,EACA,KAAK,gBAAkB,WACrB,IAAI,EACJ,MAAO,CACL,QAAyC,QAA/B,EAAK,EAAM,sBAAmC,IAAP,OAAgB,EAAS,EAAG,aAAe,KAAK,aAAa,mBAAmB,EAAM,SAAS,GAEpJ,EACA,KAAK,OAAS,WACZ,OAAO,EAAM,GACf,EAEA,KAAK,QAAU,EACf,KAAK,eAAiB,EAAkB,cAAc,GAC/B,iBAAZ,EAAsB,CAE/B,GADA,KAAK,QAAU,GACV,EAAkB,QACrB,MAAM,IAAI,UAAU,+EAEtB,IAAI,EAAK,GAAQ,CAAC,EAEhB,GADa,EAAG,WACJ,GAAO,EAAI,CAAC,gBAE1B,KAAK,IAAM,EAAkB,QAAQ,EAAS,GAAS,GAAS,CAAC,EAAG,GAAY,CAC9E,OAAQ,KAAK,iBAEjB,MACE,KAAK,IAAM,EAEb,IAAK,MAAM,QAAQ,KAAK,KACtB,MAAM,IAAI,UAAU,kDAItB,KAAK,QAAU,GAAa,EAAkB,QAAS,GACvD,KAAK,WAAa,GAAQ,EAAK,kBA7GnB,KADiB,EA8GwC,KAAK,kBA5G1E,EAAQ,CACN,OAAQ,CAAC,EACT,SAAU,CAAC,EACX,YAAa,CAAC,IAGX,CACL,gBAAiB,IAAQ,WAGvB,IAFA,IAAI,EACA,EAAO,GACF,EAAK,EAAG,EAAK,UAAU,OAAQ,IACtC,EAAK,GAAM,UAAU,GAEvB,OAAO,KAAM,EAAK,KAAK,cAAc,KAAK,MAAM,EAAI,GAAc,MAAC,GAAS,GAAM,IACpF,GAAG,CACD,MAAO,GAAuB,EAAM,QACpC,SAAU,GAAW,WAEvB,kBAAmB,IAAQ,WAGzB,IAFA,IAAI,EACA,EAAO,GACF,EAAK,EAAG,EAAK,UAAU,OAAQ,IACtC,EAAK,GAAM,UAAU,GAEvB,OAAO,KAAM,EAAK,KAAK,gBAAgB,KAAK,MAAM,EAAI,GAAc,MAAC,GAAS,GAAM,IACtF,GAAG,CACD,MAAO,GAAuB,EAAM,UACpC,SAAU,GAAW,WAEvB,eAAgB,IAAQ,WAGtB,IAFA,IAAI,EACA,EAAO,GACF,EAAK,EAAG,EAAK,UAAU,OAAQ,IACtC,EAAK,GAAM,UAAU,GAEvB,OAAO,KAAM,EAAK,KAAK,aAAa,KAAK,MAAM,EAAI,GAAc,MAAC,GAAS,GAAM,IACnF,GAAG,CACD,MAAO,GAAuB,EAAM,aACpC,SAAU,GAAW,YAuEzB,CAqFA,OApFA,OAAO,eAAe,EAAmB,gBAAiB,CACxD,IAAK,WAIH,OAHK,EAAkB,wBACrB,EAAkB,uBAAwB,IAAI,KAAK,cAAe,kBAAkB,QAE/E,EAAkB,qBAC3B,EACA,YAAY,EACZ,cAAc,IAEhB,EAAkB,sBAAwB,KAC1C,EAAkB,cAAgB,SAAU,GAC1C,QAA2B,IAAhB,KAAK,OAAhB,CAGA,IAAI,EAAmB,KAAK,aAAa,mBAAmB,GAC5D,OAAI,EAAiB,OAAS,EACrB,IAAI,KAAK,OAAO,EAAiB,IAEnC,IAAI,KAAK,OAA0B,iBAAZ,EAAuB,EAAU,EAAQ,GALvE,CAMF,EACA,EAAkB,QAAU,GAI5B,EAAkB,QAAU,CAC1B,OAAQ,CACN,QAAS,CACP,sBAAuB,GAEzB,SAAU,CACR,MAAO,YAET,QAAS,CACP,MAAO,YAGX,KAAM,CACJ,MAAO,CACL,MAAO,UACP,IAAK,UACL,KAAM,WAER,OAAQ,CACN,MAAO,QACP,IAAK,UACL,KAAM,WAER,KAAM,CACJ,MAAO,OACP,IAAK,UACL,KAAM,WAER,KAAM,CACJ,QAAS,OACT,MAAO,OACP,IAAK,UACL,KAAM,YAGV,KAAM,CACJ,MAAO,CACL,KAAM,UACN,OAAQ,WAEV,OAAQ,CACN,KAAM,UACN,OAAQ,UACR,OAAQ,WAEV,KAAM,CACJ,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,aAAc,SAEhB,KAAM,CACJ,KAAM,UACN,OAAQ,UACR,OAAQ,UACR,aAAc,WAIb,CACT,CAzJ4C,sBChF5C,MAGM,GAAS,GACb,KAAK,aAAa,mBAAmB,MAAK,IACxC,GAAI,EAAc,QALI,EAKyB,CAC7C,MAAM,EAAQ,CACZ,MAAO,GAAc,sBAAuB,EAAQ,KAAK,iBAAkB,CAAE,MAAO,EAAc,OAAS,IAC3G,KAAM,EAAc,MAAK,CAAC,EAAI,IAAO,EAAG,UAAY,EAAG,YAAW,KAAI,GAAgB,EAAa,QAAO,KAAK,MAC/G,MAAO,aACP,KAAM,8BACN,IAVU,MAWV,KAAM,CACJ,IAAM,IAAI,IAAI,iBAAkB,KAAK,UAAW,KAChD,MAAO,EAAc,OAAS,EAC9B,iBAAkB,EAAQ,KAAK,mBAMnC,OAFA,EAAc,SAAQ,GAAgB,EAAa,UAE5C,KAAK,aAAa,iBAAiB,EAAM,MAAO,EACzD,CAAO,GAA6B,IAAzB,EAAc,QArBX,QAqB2B,EAAc,GAAG,IAAmB,CAC3E,MAAM,EAAQ,GAAkB,EAAc,IAM9C,OAJA,EAAM,MAAQ,GAAc,sBAAuB,EAAQ,KAAK,iBAAkB,CAAE,MAAO,EAAM,KAAK,MAAQ,IAC9G,EAAM,KAAS,GAAE,EAAQ,UAAU,EAAM,OACzC,EAAM,KAAQ,IAAK,EAAM,KAAM,MAAO,EAAM,KAAK,MAAQ,GAElD,KAAK,aAAa,iBAAiB,EAAM,MAAO,EACzD,CAEA,OAAO,KAAK,aAAa,iBAAiB,EAAQ,MAAO,EAAQ,IAG/D,GAAe,CAAC,EAAM,EAAQ,KAClC,MAAM,EAAO,IAAI,IAAI,EAAM,KAAK,UAAW,KAE3C,OAAO,MAAM,EAAK,CAChB,QAAS,CACP,cAAkB,UAAS,IAC3B,eAAgB,oBAGlB,OAAQ,EACR,YAAa,YACZ,MAAK,IACN,GAAI,EAAI,GACN,OAAO,EAEP,MAAM,IAAI,MAAM,EAAI,OACtB,IACC,MAAK,GAAO,EAAI,QAAO,EAGtB,GAAoB,IACxB,MAAM,EAAQ,CAAC,EACf,IAAI,EAGJ,IAAI,KAAK,EACP,EAAM,GAAK,EAAa,GAG1B,OAAO,CAAK,EAGR,GAAgB,SAAC,EAAW,EAAQ,GAAW,YAAL,IAAN,MAAS,CAAC,GACjD,IAAI,GAAkB,KAAQ,GAAQ,GAAY,GAAS,OAAO,EAAQ,EAEvE,GAAkB,GACtB,KAAS,EAAK,QAAQ,cAAe,MAAM,QAAQ,YAAa,QAAQ,QAAQ,WAAY,KAsDxF,GAAe,IAAgB,CACnC,OAAQ,SACR,KAAM,4BACN,MAAO,GAAc,mBAAoB,KAGrC,GAAe,IAAgB,CACnC,OAAQ,SACR,KAAM,4BACN,MAAO,GAAc,gBAAiB,KAGlC,GAAkB,IAAgB,CACtC,OAAQ,YACR,KAAM,+BACN,MAAO,GAAc,mBAAoB,KAoBrC,GAA+B,CAAC,EAAc,KAClD,MAAM,EAAkB,GAAkB,GAI1C,OAFA,EAAgB,QAAU,EAAgB,QAAQ,QAAO,GAAQ,EAAK,SAAW,IAE1E,KAAK,aAAa,iBAAiB,EAAgB,MAAO,EAAgB,ECpK7E,GAAoB,YAE1B,SAAS,KACP,OAAO,OAAO,KAAM,GAAE,QACxB,CCaA,IAAmC,ICInC,SAAkB,GACW,IACR,SAAS,EAC9B,EDNE,CDRe,mtsDAAK,eGQtB,SAAkB,GAChB,MAAM,EAAqB,IAE3B,GADsB,IAAI,GAAc,EAAoB,GAE9D,CFHE,CAAS,IDPX,GACE,iBACA,IAAI,GAAW,CACb,UAAY,GAAE,YACd,QAAS,CACP,IAAI,EAAiB,CACnB,cAAe,OACf,WAAY,QAMpB,IACE,IAAA,IAAC,QAAE,GAAS,EAAA,MAA6B,SAAxB,EAAQ,WAAsB,GAC/C,IAAI,GAAW,CACb,UAAY,GAAE,UACd,QAAS,CACP,IAAI,EAAiB,CACnB,cAAe,OACf,WAAY,QAMpB,IACE,IAAA,IAAC,QAAE,GAAS,EAAA,MAA6B,UAAxB,EAAQ,WAAuB,GAChD,IAAI,GAAW,CACb,UAAY,IAAG,UACf,QAAS,CACP,IAAI,EAAiB,CACnB,cAAe,OACf,WAAY,UAQpB,KAAK,iBAAiB,WAAW,SAAS,GACxC,EAAM,UAAU,QAAQ,IAAI,CAAC,KA/CtB,MAAM,IAAK,CAAE,YAAa,UAAW,SAAU,aA+CK,MAAK,IAAA,IAAE,EAAO,GAAK,EAAA,OAAK,EAAM,IAAI,IAAK,EAAK,IACzG,IAEA,KAAK,iBAAiB,YAAY,SAAS,GACzC,EAAM,UAAU,KAAK,QAAQ,QAC/B,IAEA,KAAK,iBAAiB,SAAS,SAAS,GAGtC,GAAqB,mBAFT,IAAI,IAAI,EAAM,QAAQ,KAE1B,SAA+B,CACrC,MAAM,EAAgB,MAAM,EAAM,SAC5B,EAAa,KAEnB,EAAM,YAAY,EAAc,MAAK,GAC/B,EAAS,IAAwB,mBAAlB,EAAS,KACnB,QAAQ,IAAI,CACjB,EAAW,MAAK,GAAS,EAAM,OAAO,OACtC,UAAU,eAAe,cACxB,MAAK,IAAM,IAGT,IAEX,CACF,IAEA,KAAK,iBAAiB,QDTK,IACzB,MAAM,aAAE,EAAY,gBAAE,EAAe,iBAAE,EAAgB,MAAE,EAAK,KAAE,EAAI,KAAE,GAAS,EAAM,KAAK,OAG1F,EAAM,UACJ,GAAc,yBAAwB,IAAmB,MAAO,GAAc,MAAK,IACjF,MAAM,EAAU,CAAC,EA+BjB,OA7BA,EAAQ,MAAY,GAAe,gBAAe,EAAa,OAAQ,EAAkB,CAAE,KAAM,EAAa,QAAQ,aAAa,OAAS,EAAI,EAAa,QAAQ,aAAe,EAAa,QAAQ,WACzM,EAAQ,KAAY,EAAa,QAAU,GAAgB,EAAa,OAAO,SAC/E,EAAQ,KAAY,EAAa,QAAQ,cACzC,EAAQ,UAAY,EAAa,YAAc,IAAI,KAAK,EAAa,YACrE,EAAQ,IAAY,EAAa,GACjC,EAAQ,MAAY,aACpB,EAAQ,MAAY,EAAa,QAAU,EAAa,OAAO,kBAAkB,OAAS,GAAK,EAAa,OAAO,kBAAkB,GAAG,kBAAe,EACvJ,EAAQ,KAAY,CAAE,eAAc,mBAAkB,GAAI,EAAa,OAAS,EAAa,OAAO,GAAK,EAAa,QAAQ,IAE1H,EAAa,OACf,EAAQ,KAAK,IAAO,KAAI,EAAa,OAAO,QAAQ,QAAQ,EAAa,OAAO,KAEhF,EAAQ,KAAK,IAAO,KAAI,EAAa,QAAQ,OAG3C,EAAa,QAAU,EAAa,OAAO,cAAgB,EAAa,OAAO,WACjF,EAAQ,KAAK,WAAc,GAAgB,EAAa,OAAO,SAC/D,EAAQ,KAAK,YAAc,EAAa,OAAO,kBAAkB,OAAS,GAAK,EAAa,OAAO,kBAAkB,GAAG,YAEpH,EAAa,OAAO,eACtB,EAAQ,KAAU,EAAa,OAAO,cAGxC,EAAQ,WAAU,EAClB,EAAQ,QAAU,CAAC,GAAa,KACvB,CAAC,UAAW,UAAU,SAAS,EAAa,QACrD,EAAQ,QAAU,CAAC,GAAa,GAAmB,GAAgB,KAG9D,GAAO,EAAQ,IACrB,OAAM,IACA,GAAO,CACZ,QACA,OACA,OACA,IAAK,EACL,UAAW,IAAI,KACf,MAAO,aACP,KAAM,CAAE,eAAc,mBAAkB,IAAK,sBAGlD,ICvCH,KAAK,iBAAiB,qBDgGkB,IACtC,MAAM,EAA2B,IAAI,SAAQ,CAAC,EAAS,KACrD,GAAI,EAAM,OACR,GAAqB,WAAjB,EAAM,OACR,EAjCmB,KACzB,MAAM,EAAkB,GAAkB,GAM1C,OAJA,EAAgB,KAAU,EAAgB,KAAK,WAC/C,EAAgB,MAAU,EAAgB,KAAK,YAC/C,EAAgB,QAAU,CAAC,GAAa,EAAa,KAAK,kBAAmB,GAAgB,EAAa,KAAK,mBAExG,KAAK,aAAa,iBAAiB,EAAgB,MAAO,EAAgB,EA0BnE,CAAmB,EAAM,oBAC5B,GAAqB,WAAjB,EAAM,OAAqB,CACpC,MAAM,KAAE,GAAS,EAAM,aACvB,EAAQ,GAAc,oBAAmB,EAAK,YAAa,OAAQ,EAAK,cAAc,MAAK,IAAM,GAA6B,EAAM,aAAc,YACpJ,MAAO,GAAqB,cAAjB,EAAM,OAAwB,CACvC,MAAM,KAAE,GAAS,EAAM,aACvB,EAAQ,GAAc,oBAAmB,EAAK,eAAgB,OAAQ,EAAK,cAAc,MAAK,IAAM,GAA6B,EAAM,aAAc,eACvJ,MACE,EAAQ,mBAAkB,EAAM,eAGlC,EAAM,aAAa,QACnB,GA3BU,EA2BM,EAAM,aAAa,KAAK,IA1B5C,KAAK,QAAQ,SAAS,CAAE,KAAM,WAAY,MAAK,GACnB,IAAtB,EAAW,QAAgB,aAAc,EAAW,GA3BrC,KACrB,MAAM,EAAgB,EAAQ,MAAK,GAAU,EAAO,UAC9C,EAAgB,EAAQ,MAAK,GAAqC,YAA3B,EAAO,kBAEpD,OAAO,GAAiB,GAAiB,EAAQ,EAAE,EAwBhC,CAAe,GAEhB,SAAS,GAAK,MAAK,GAAU,EAAO,UAG7C,KAAK,QAAQ,WAAW,OARnB,KA4BZ,IAGF,EAAM,UAAU,EAAyB","file":"sw.js","sourceRoot":"","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/packs/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n","\"use strict\";\n\n// @ts-ignore\ntry {\n  self['workbox:precaching:7.0.0'] && _();\n} catch (e) {}","\"use strict\";\n\n// @ts-ignore\ntry {\n  self['workbox:core:7.0.0'] && _();\n} catch (e) {}","\"use strict\";\n\n// @ts-ignore\ntry {\n  self['workbox:routing:7.0.0'] && _();\n} catch (e) {}","\"use strict\";\n\n// @ts-ignore\ntry {\n  self['workbox:strategies:7.0.0'] && _();\n} catch (e) {}","\"use strict\";\n\n// @ts-ignore\ntry {\n  self['workbox:expiration:7.0.0'] && _();\n} catch (e) {}","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\nmodule.exports = Symbol;","var toString = require('./toString'),\n  unescapeHtmlChar = require('./_unescapeHtmlChar');\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n  reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return string && reHasEscapedHtml.test(string) ? string.replace(reEscapedHtml, unescapeHtmlChar) : string;\n}\nmodule.exports = unescape;","/* eslint-disable import/no-commonjs --\n   We need to use CommonJS here as its imported into a preval file (`emoji_compressed.js`) */\n\n/* @preval */\n\nconst fs   = require('fs');\nconst path = require('path');\n\nconst filtered  = {};\nconst filenames = fs.readdirSync(path.resolve(__dirname, '../locales'));\n\nfilenames.forEach(filename => {\n  if (!filename.match(/\\.json$/)) return;\n\n  const content = fs.readFileSync(path.resolve(__dirname, `../locales/${filename}`), 'utf-8');\n  const full    = JSON.parse(content);\n  const locale  = filename.split('.')[0];\n\n  filtered[locale] = {\n    'notification.favourite': full['notification.favourite'] || '',\n    'notification.follow': full['notification.follow'] || '',\n    'notification.follow_request': full['notification.follow_request'] || '',\n    'notification.mention': full['notification.mention'] || '',\n    'notification.reblog': full['notification.reblog'] || '',\n    'notification.poll': full['notification.poll'] || '',\n    'notification.status': full['notification.status'] || '',\n    'notification.update': full['notification.update'] || '',\n    'notification.admin.sign_up': full['notification.admin.sign_up'] || '',\n\n    'status.show_more': full['status.show_more'] || '',\n    'status.reblog': full['status.reblog'] || '',\n    'status.favourite': full['status.favourite'] || '',\n\n    'notifications.group': full['notifications.group'] || '',\n  };\n});\n\nmodule.exports = JSON.parse(JSON.stringify(filtered));\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\nmodule.exports = toString;","var Symbol = require('./_Symbol'),\n  arrayMap = require('./_arrayMap'),\n  isArray = require('./isArray'),\n  isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n  symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n}\nmodule.exports = baseToString;","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\nmodule.exports = root;","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\nmodule.exports = freeGlobal;","var g;\n\n// This works in non-strict mode\ng = function () {\n  return this;\n}();\ntry {\n  // This works if eval is allowed (see CSP)\n  g = g || new Function(\"return this\")();\n} catch (e) {\n  // This works if the window reference is available\n  if (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n    length = array == null ? 0 : array.length,\n    result = Array(length);\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\nmodule.exports = arrayMap;","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\nmodule.exports = isArray;","var baseGetTag = require('./_baseGetTag'),\n  isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && baseGetTag(value) == symbolTag;\n}\nmodule.exports = isSymbol;","var Symbol = require('./_Symbol'),\n  getRawTag = require('./_getRawTag'),\n  objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n  undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n}\nmodule.exports = baseGetTag;","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n    tag = value[symToStringTag];\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\nmodule.exports = getRawTag;","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\nmodule.exports = objectToString;","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\nmodule.exports = isObjectLike;","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nvar unescapeHtmlChar = basePropertyOf(htmlUnescapes);\nmodule.exports = unescapeHtmlChar;","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function (key) {\n    return object == null ? undefined : object[key];\n  };\n}\nmodule.exports = basePropertyOf;","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../../_version.js';\nexport const messages = {\n  'invalid-value': _ref => {\n    let {\n      paramName,\n      validValueDescription,\n      value\n    } = _ref;\n    if (!paramName || !validValueDescription) {\n      throw new Error(`Unexpected input to 'invalid-value' error.`);\n    }\n    return `The '${paramName}' parameter was given a value with an ` + `unexpected value. ${validValueDescription} Received a value of ` + `${JSON.stringify(value)}.`;\n  },\n  'not-an-array': _ref2 => {\n    let {\n      moduleName,\n      className,\n      funcName,\n      paramName\n    } = _ref2;\n    if (!moduleName || !className || !funcName || !paramName) {\n      throw new Error(`Unexpected input to 'not-an-array' error.`);\n    }\n    return `The parameter '${paramName}' passed into ` + `'${moduleName}.${className}.${funcName}()' must be an array.`;\n  },\n  'incorrect-type': _ref3 => {\n    let {\n      expectedType,\n      paramName,\n      moduleName,\n      className,\n      funcName\n    } = _ref3;\n    if (!expectedType || !paramName || !moduleName || !funcName) {\n      throw new Error(`Unexpected input to 'incorrect-type' error.`);\n    }\n    const classNameStr = className ? `${className}.` : '';\n    return `The parameter '${paramName}' passed into ` + `'${moduleName}.${classNameStr}` + `${funcName}()' must be of type ${expectedType}.`;\n  },\n  'incorrect-class': _ref4 => {\n    let {\n      expectedClassName,\n      paramName,\n      moduleName,\n      className,\n      funcName,\n      isReturnValueProblem\n    } = _ref4;\n    if (!expectedClassName || !moduleName || !funcName) {\n      throw new Error(`Unexpected input to 'incorrect-class' error.`);\n    }\n    const classNameStr = className ? `${className}.` : '';\n    if (isReturnValueProblem) {\n      return `The return value from ` + `'${moduleName}.${classNameStr}${funcName}()' ` + `must be an instance of class ${expectedClassName}.`;\n    }\n    return `The parameter '${paramName}' passed into ` + `'${moduleName}.${classNameStr}${funcName}()' ` + `must be an instance of class ${expectedClassName}.`;\n  },\n  'missing-a-method': _ref5 => {\n    let {\n      expectedMethod,\n      paramName,\n      moduleName,\n      className,\n      funcName\n    } = _ref5;\n    if (!expectedMethod || !paramName || !moduleName || !className || !funcName) {\n      throw new Error(`Unexpected input to 'missing-a-method' error.`);\n    }\n    return `${moduleName}.${className}.${funcName}() expected the ` + `'${paramName}' parameter to expose a '${expectedMethod}' method.`;\n  },\n  'add-to-cache-list-unexpected-type': _ref6 => {\n    let {\n      entry\n    } = _ref6;\n    return `An unexpected entry was passed to ` + `'workbox-precaching.PrecacheController.addToCacheList()' The entry ` + `'${JSON.stringify(entry)}' isn't supported. You must supply an array of ` + `strings with one or more characters, objects with a url property or ` + `Request objects.`;\n  },\n  'add-to-cache-list-conflicting-entries': _ref7 => {\n    let {\n      firstEntry,\n      secondEntry\n    } = _ref7;\n    if (!firstEntry || !secondEntry) {\n      throw new Error(`Unexpected input to ` + `'add-to-cache-list-duplicate-entries' error.`);\n    }\n    return `Two of the entries passed to ` + `'workbox-precaching.PrecacheController.addToCacheList()' had the URL ` + `${firstEntry} but different revision details. Workbox is ` + `unable to cache and version the asset correctly. Please remove one ` + `of the entries.`;\n  },\n  'plugin-error-request-will-fetch': _ref8 => {\n    let {\n      thrownErrorMessage\n    } = _ref8;\n    if (!thrownErrorMessage) {\n      throw new Error(`Unexpected input to ` + `'plugin-error-request-will-fetch', error.`);\n    }\n    return `An error was thrown by a plugins 'requestWillFetch()' method. ` + `The thrown error message was: '${thrownErrorMessage}'.`;\n  },\n  'invalid-cache-name': _ref9 => {\n    let {\n      cacheNameId,\n      value\n    } = _ref9;\n    if (!cacheNameId) {\n      throw new Error(`Expected a 'cacheNameId' for error 'invalid-cache-name'`);\n    }\n    return `You must provide a name containing at least one character for ` + `setCacheDetails({${cacheNameId}: '...'}). Received a value of ` + `'${JSON.stringify(value)}'`;\n  },\n  'unregister-route-but-not-found-with-method': _ref10 => {\n    let {\n      method\n    } = _ref10;\n    if (!method) {\n      throw new Error(`Unexpected input to ` + `'unregister-route-but-not-found-with-method' error.`);\n    }\n    return `The route you're trying to unregister was not  previously ` + `registered for the method type '${method}'.`;\n  },\n  'unregister-route-route-not-registered': () => {\n    return `The route you're trying to unregister was not previously ` + `registered.`;\n  },\n  'queue-replay-failed': _ref11 => {\n    let {\n      name\n    } = _ref11;\n    return `Replaying the background sync queue '${name}' failed.`;\n  },\n  'duplicate-queue-name': _ref12 => {\n    let {\n      name\n    } = _ref12;\n    return `The Queue name '${name}' is already being used. ` + `All instances of backgroundSync.Queue must be given unique names.`;\n  },\n  'expired-test-without-max-age': _ref13 => {\n    let {\n      methodName,\n      paramName\n    } = _ref13;\n    return `The '${methodName}()' method can only be used when the ` + `'${paramName}' is used in the constructor.`;\n  },\n  'unsupported-route-type': _ref14 => {\n    let {\n      moduleName,\n      className,\n      funcName,\n      paramName\n    } = _ref14;\n    return `The supplied '${paramName}' parameter was an unsupported type. ` + `Please check the docs for ${moduleName}.${className}.${funcName} for ` + `valid input types.`;\n  },\n  'not-array-of-class': _ref15 => {\n    let {\n      value,\n      expectedClass,\n      moduleName,\n      className,\n      funcName,\n      paramName\n    } = _ref15;\n    return `The supplied '${paramName}' parameter must be an array of ` + `'${expectedClass}' objects. Received '${JSON.stringify(value)},'. ` + `Please check the call to ${moduleName}.${className}.${funcName}() ` + `to fix the issue.`;\n  },\n  'max-entries-or-age-required': _ref16 => {\n    let {\n      moduleName,\n      className,\n      funcName\n    } = _ref16;\n    return `You must define either config.maxEntries or config.maxAgeSeconds` + `in ${moduleName}.${className}.${funcName}`;\n  },\n  'statuses-or-headers-required': _ref17 => {\n    let {\n      moduleName,\n      className,\n      funcName\n    } = _ref17;\n    return `You must define either config.statuses or config.headers` + `in ${moduleName}.${className}.${funcName}`;\n  },\n  'invalid-string': _ref18 => {\n    let {\n      moduleName,\n      funcName,\n      paramName\n    } = _ref18;\n    if (!paramName || !moduleName || !funcName) {\n      throw new Error(`Unexpected input to 'invalid-string' error.`);\n    }\n    return `When using strings, the '${paramName}' parameter must start with ` + `'http' (for cross-origin matches) or '/' (for same-origin matches). ` + `Please see the docs for ${moduleName}.${funcName}() for ` + `more info.`;\n  },\n  'channel-name-required': () => {\n    return `You must provide a channelName to construct a ` + `BroadcastCacheUpdate instance.`;\n  },\n  'invalid-responses-are-same-args': () => {\n    return `The arguments passed into responsesAreSame() appear to be ` + `invalid. Please ensure valid Responses are used.`;\n  },\n  'expire-custom-caches-only': () => {\n    return `You must provide a 'cacheName' property when using the ` + `expiration plugin with a runtime caching strategy.`;\n  },\n  'unit-must-be-bytes': _ref19 => {\n    let {\n      normalizedRangeHeader\n    } = _ref19;\n    if (!normalizedRangeHeader) {\n      throw new Error(`Unexpected input to 'unit-must-be-bytes' error.`);\n    }\n    return `The 'unit' portion of the Range header must be set to 'bytes'. ` + `The Range header provided was \"${normalizedRangeHeader}\"`;\n  },\n  'single-range-only': _ref20 => {\n    let {\n      normalizedRangeHeader\n    } = _ref20;\n    if (!normalizedRangeHeader) {\n      throw new Error(`Unexpected input to 'single-range-only' error.`);\n    }\n    return `Multiple ranges are not supported. Please use a  single start ` + `value, and optional end value. The Range header provided was ` + `\"${normalizedRangeHeader}\"`;\n  },\n  'invalid-range-values': _ref21 => {\n    let {\n      normalizedRangeHeader\n    } = _ref21;\n    if (!normalizedRangeHeader) {\n      throw new Error(`Unexpected input to 'invalid-range-values' error.`);\n    }\n    return `The Range header is missing both start and end values. At least ` + `one of those values is needed. The Range header provided was ` + `\"${normalizedRangeHeader}\"`;\n  },\n  'no-range-header': () => {\n    return `No Range header was found in the Request provided.`;\n  },\n  'range-not-satisfiable': _ref22 => {\n    let {\n      size,\n      start,\n      end\n    } = _ref22;\n    return `The start (${start}) and end (${end}) values in the Range are ` + `not satisfiable by the cached response, which is ${size} bytes.`;\n  },\n  'attempt-to-cache-non-get-request': _ref23 => {\n    let {\n      url,\n      method\n    } = _ref23;\n    return `Unable to cache '${url}' because it is a '${method}' request and ` + `only 'GET' requests can be cached.`;\n  },\n  'cache-put-with-no-response': _ref24 => {\n    let {\n      url\n    } = _ref24;\n    return `There was an attempt to cache '${url}' but the response was not ` + `defined.`;\n  },\n  'no-response': _ref25 => {\n    let {\n      url,\n      error\n    } = _ref25;\n    let message = `The strategy could not generate a response for '${url}'.`;\n    if (error) {\n      message += ` The underlying error is ${error}.`;\n    }\n    return message;\n  },\n  'bad-precaching-response': _ref26 => {\n    let {\n      url,\n      status\n    } = _ref26;\n    return `The precaching request for '${url}' failed` + (status ? ` with an HTTP status of ${status}.` : `.`);\n  },\n  'non-precached-url': _ref27 => {\n    let {\n      url\n    } = _ref27;\n    return `createHandlerBoundToURL('${url}') was called, but that URL is ` + `not precached. Please pass in a URL that is precached instead.`;\n  },\n  'add-to-cache-list-conflicting-integrities': _ref28 => {\n    let {\n      url\n    } = _ref28;\n    return `Two of the entries passed to ` + `'workbox-precaching.PrecacheController.addToCacheList()' had the URL ` + `${url} with different integrity values. Please remove one of them.`;\n  },\n  'missing-precache-entry': _ref29 => {\n    let {\n      cacheName,\n      url\n    } = _ref29;\n    return `Unable to find a precached response in ${cacheName} for ${url}.`;\n  },\n  'cross-origin-copy-response': _ref30 => {\n    let {\n      origin\n    } = _ref30;\n    return `workbox-core.copyResponse() can only be used with same-origin ` + `responses. It was passed a response with origin ${origin}.`;\n  },\n  'opaque-streams-source': _ref31 => {\n    let {\n      type\n    } = _ref31;\n    const message = `One of the workbox-streams sources resulted in an ` + `'${type}' response.`;\n    if (type === 'opaqueredirect') {\n      return `${message} Please do not use a navigation request that results ` + `in a redirect as a source.`;\n    }\n    return `${message} Please ensure your sources are CORS-enabled.`;\n  }\n};","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { messages } from './messages.js';\nimport '../../_version.js';\nconst fallback = function (code) {\n  let msg = code;\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n  if (args.length > 0) {\n    msg += ` :: ${JSON.stringify(args)}`;\n  }\n  return msg;\n};\nconst generatorFunction = function (code, details) {\n  if (details === void 0) {\n    details = {};\n  }\n  const message = messages[code];\n  if (!message) {\n    throw new Error(`Unable to find message for code '${code}'.`);\n  }\n  return message(details);\n};\nexport const messageGenerator = process.env.NODE_ENV === 'production' ? fallback : generatorFunction;","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { messageGenerator } from '../models/messages/messageGenerator.js';\nimport '../_version.js';\n/**\n * Workbox errors should be thrown with this class.\n * This allows use to ensure the type easily in tests,\n * helps developers identify errors from workbox\n * easily and allows use to optimise error\n * messages correctly.\n *\n * @private\n */\nclass WorkboxError extends Error {\n  /**\n   *\n   * @param {string} errorCode The error code that\n   * identifies this particular error.\n   * @param {Object=} details Any relevant arguments\n   * that will help developers identify issues should\n   * be added as a key on the context object.\n   */\n  constructor(errorCode, details) {\n    const message = messageGenerator(errorCode, details);\n    super(message);\n    this.name = errorCode;\n    this.details = details;\n  }\n}\nexport { WorkboxError };","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A helper function that prevents a promise from being flagged as unused.\n *\n * @private\n **/\nexport function dontWaitFor(promise) {\n  // Effective no-op.\n  void promise.then(() => {});\n}","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nconst logger = process.env.NODE_ENV === 'production' ? null : (() => {\n  // Don't overwrite this value if it's already set.\n  // See https://github.com/GoogleChrome/workbox/pull/2284#issuecomment-560470923\n  if (!('__WB_DISABLE_DEV_LOGS' in globalThis)) {\n    self.__WB_DISABLE_DEV_LOGS = false;\n  }\n  let inGroup = false;\n  const methodToColorMap = {\n    debug: `#7f8c8d`,\n    log: `#2ecc71`,\n    warn: `#f39c12`,\n    error: `#c0392b`,\n    groupCollapsed: `#3498db`,\n    groupEnd: null // No colored prefix on groupEnd\n  };\n\n  const print = function (method, args) {\n    if (self.__WB_DISABLE_DEV_LOGS) {\n      return;\n    }\n    if (method === 'groupCollapsed') {\n      // Safari doesn't print all console.groupCollapsed() arguments:\n      // https://bugs.webkit.org/show_bug.cgi?id=182754\n      if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n        console[method](...args);\n        return;\n      }\n    }\n    const styles = [`background: ${methodToColorMap[method]}`, `border-radius: 0.5em`, `color: white`, `font-weight: bold`, `padding: 2px 0.5em`];\n    // When in a group, the workbox prefix is not displayed.\n    const logPrefix = inGroup ? [] : ['%cworkbox', styles.join(';')];\n    console[method](...logPrefix, ...args);\n    if (method === 'groupCollapsed') {\n      inGroup = true;\n    }\n    if (method === 'groupEnd') {\n      inGroup = false;\n    }\n  };\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  const api = {};\n  const loggerMethods = Object.keys(methodToColorMap);\n  for (const key of loggerMethods) {\n    const method = key;\n    api[method] = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      print(method, args);\n    };\n  }\n  return api;\n})();\nexport { logger };","const instanceOfAny = (object, constructors) => constructors.some(c => object instanceof c);\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n  return idbProxyableTypes || (idbProxyableTypes = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction]);\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n  return cursorAdvanceMethods || (cursorAdvanceMethods = [IDBCursor.prototype.advance, IDBCursor.prototype.continue, IDBCursor.prototype.continuePrimaryKey]);\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n  const promise = new Promise((resolve, reject) => {\n    const unlisten = () => {\n      request.removeEventListener('success', success);\n      request.removeEventListener('error', error);\n    };\n    const success = () => {\n      resolve(wrap(request.result));\n      unlisten();\n    };\n    const error = () => {\n      reject(request.error);\n      unlisten();\n    };\n    request.addEventListener('success', success);\n    request.addEventListener('error', error);\n  });\n  promise.then(value => {\n    // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n    // (see wrapFunction).\n    if (value instanceof IDBCursor) {\n      cursorRequestMap.set(value, request);\n    }\n    // Catching to avoid \"Uncaught Promise exceptions\"\n  }).catch(() => {});\n  // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n  // is because we create many promises from a single IDBRequest.\n  reverseTransformCache.set(promise, request);\n  return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n  // Early bail if we've already created a done promise for this transaction.\n  if (transactionDoneMap.has(tx)) return;\n  const done = new Promise((resolve, reject) => {\n    const unlisten = () => {\n      tx.removeEventListener('complete', complete);\n      tx.removeEventListener('error', error);\n      tx.removeEventListener('abort', error);\n    };\n    const complete = () => {\n      resolve();\n      unlisten();\n    };\n    const error = () => {\n      reject(tx.error || new DOMException('AbortError', 'AbortError'));\n      unlisten();\n    };\n    tx.addEventListener('complete', complete);\n    tx.addEventListener('error', error);\n    tx.addEventListener('abort', error);\n  });\n  // Cache it for later retrieval.\n  transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n  get(target, prop, receiver) {\n    if (target instanceof IDBTransaction) {\n      // Special handling for transaction.done.\n      if (prop === 'done') return transactionDoneMap.get(target);\n      // Polyfill for objectStoreNames because of Edge.\n      if (prop === 'objectStoreNames') {\n        return target.objectStoreNames || transactionStoreNamesMap.get(target);\n      }\n      // Make tx.store return the only store in the transaction, or undefined if there are many.\n      if (prop === 'store') {\n        return receiver.objectStoreNames[1] ? undefined : receiver.objectStore(receiver.objectStoreNames[0]);\n      }\n    }\n    // Else transform whatever we get back.\n    return wrap(target[prop]);\n  },\n  set(target, prop, value) {\n    target[prop] = value;\n    return true;\n  },\n  has(target, prop) {\n    if (target instanceof IDBTransaction && (prop === 'done' || prop === 'store')) {\n      return true;\n    }\n    return prop in target;\n  }\n};\nfunction replaceTraps(callback) {\n  idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n  // Due to expected object equality (which is enforced by the caching in `wrap`), we\n  // only create one new func per func.\n  // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n  if (func === IDBDatabase.prototype.transaction && !('objectStoreNames' in IDBTransaction.prototype)) {\n    return function (storeNames) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      const tx = func.call(unwrap(this), storeNames, ...args);\n      transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n      return wrap(tx);\n    };\n  }\n  // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n  // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n  // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n  // with real promises, so each advance methods returns a new promise for the cursor object, or\n  // undefined if the end of the cursor has been reached.\n  if (getCursorAdvanceMethods().includes(func)) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n      // the original object.\n      func.apply(unwrap(this), args);\n      return wrap(cursorRequestMap.get(this));\n    };\n  }\n  return function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n    // the original object.\n    return wrap(func.apply(unwrap(this), args));\n  };\n}\nfunction transformCachableValue(value) {\n  if (typeof value === 'function') return wrapFunction(value);\n  // This doesn't return, it just creates a 'done' promise for the transaction,\n  // which is later returned for transaction.done (see idbObjectHandler).\n  if (value instanceof IDBTransaction) cacheDonePromiseForTransaction(value);\n  if (instanceOfAny(value, getIdbProxyableTypes())) return new Proxy(value, idbProxyTraps);\n  // Return the same value back if we're not going to transform it.\n  return value;\n}\nfunction wrap(value) {\n  // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n  // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n  if (value instanceof IDBRequest) return promisifyRequest(value);\n  // If we've already transformed this value before, reuse the transformed value.\n  // This is faster, but it also provides object equality.\n  if (transformCache.has(value)) return transformCache.get(value);\n  const newValue = transformCachableValue(value);\n  // Not all types are transformed.\n  // These may be primitive types, so they can't be WeakMap keys.\n  if (newValue !== value) {\n    transformCache.set(value, newValue);\n    reverseTransformCache.set(newValue, value);\n  }\n  return newValue;\n}\nconst unwrap = value => reverseTransformCache.get(value);\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, _temp) {\n  let {\n    blocked,\n    upgrade,\n    blocking,\n    terminated\n  } = _temp === void 0 ? {} : _temp;\n  const request = indexedDB.open(name, version);\n  const openPromise = wrap(request);\n  if (upgrade) {\n    request.addEventListener('upgradeneeded', event => {\n      upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n    });\n  }\n  if (blocked) {\n    request.addEventListener('blocked', event => blocked(\n    // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n    event.oldVersion, event.newVersion, event));\n  }\n  openPromise.then(db => {\n    if (terminated) db.addEventListener('close', () => terminated());\n    if (blocking) {\n      db.addEventListener('versionchange', event => blocking(event.oldVersion, event.newVersion, event));\n    }\n  }).catch(() => {});\n  return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, _temp2) {\n  let {\n    blocked\n  } = _temp2 === void 0 ? {} : _temp2;\n  const request = indexedDB.deleteDatabase(name);\n  if (blocked) {\n    request.addEventListener('blocked', event => blocked(\n    // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n    event.oldVersion, event));\n  }\n  return wrap(request).then(() => undefined);\n}\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n  if (!(target instanceof IDBDatabase && !(prop in target) && typeof prop === 'string')) {\n    return;\n  }\n  if (cachedMethods.get(prop)) return cachedMethods.get(prop);\n  const targetFuncName = prop.replace(/FromIndex$/, '');\n  const useIndex = prop !== targetFuncName;\n  const isWrite = writeMethods.includes(targetFuncName);\n  if (\n  // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n  !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) || !(isWrite || readMethods.includes(targetFuncName))) {\n    return;\n  }\n  const method = async function (storeName) {\n    // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n    const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n    let target = tx.store;\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (useIndex) target = target.index(args.shift());\n    // Must reject if op rejects.\n    // If it's a write operation, must reject if tx.done rejects.\n    // Must reject with op rejection first.\n    // Must resolve with op value.\n    // Must handle both promises (no unhandled rejections)\n    return (await Promise.all([target[targetFuncName](...args), isWrite && tx.done]))[0];\n  };\n  cachedMethods.set(prop, method);\n  return method;\n}\nreplaceTraps(oldTraps => ({\n  ...oldTraps,\n  get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n  has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop)\n}));\nexport { deleteDB, openDB };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { openDB, deleteDB } from 'idb';\nimport '../_version.js';\nconst DB_NAME = 'workbox-expiration';\nconst CACHE_OBJECT_STORE = 'cache-entries';\nconst normalizeURL = unNormalizedUrl => {\n  const url = new URL(unNormalizedUrl, location.href);\n  url.hash = '';\n  return url.href;\n};\n/**\n * Returns the timestamp model.\n *\n * @private\n */\nclass CacheTimestampsModel {\n  /**\n   *\n   * @param {string} cacheName\n   *\n   * @private\n   */\n  constructor(cacheName) {\n    this._db = null;\n    this._cacheName = cacheName;\n  }\n  /**\n   * Performs an upgrade of indexedDB.\n   *\n   * @param {IDBPDatabase<CacheDbSchema>} db\n   *\n   * @private\n   */\n  _upgradeDb(db) {\n    // TODO(philipwalton): EdgeHTML doesn't support arrays as a keyPath, so we\n    // have to use the `id` keyPath here and create our own values (a\n    // concatenation of `url + cacheName`) instead of simply using\n    // `keyPath: ['url', 'cacheName']`, which is supported in other browsers.\n    const objStore = db.createObjectStore(CACHE_OBJECT_STORE, {\n      keyPath: 'id'\n    });\n    // TODO(philipwalton): once we don't have to support EdgeHTML, we can\n    // create a single index with the keyPath `['cacheName', 'timestamp']`\n    // instead of doing both these indexes.\n    objStore.createIndex('cacheName', 'cacheName', {\n      unique: false\n    });\n    objStore.createIndex('timestamp', 'timestamp', {\n      unique: false\n    });\n  }\n  /**\n   * Performs an upgrade of indexedDB and deletes deprecated DBs.\n   *\n   * @param {IDBPDatabase<CacheDbSchema>} db\n   *\n   * @private\n   */\n  _upgradeDbAndDeleteOldDbs(db) {\n    this._upgradeDb(db);\n    if (this._cacheName) {\n      void deleteDB(this._cacheName);\n    }\n  }\n  /**\n   * @param {string} url\n   * @param {number} timestamp\n   *\n   * @private\n   */\n  async setTimestamp(url, timestamp) {\n    url = normalizeURL(url);\n    const entry = {\n      url,\n      timestamp,\n      cacheName: this._cacheName,\n      // Creating an ID from the URL and cache name won't be necessary once\n      // Edge switches to Chromium and all browsers we support work with\n      // array keyPaths.\n      id: this._getId(url)\n    };\n    const db = await this.getDb();\n    const tx = db.transaction(CACHE_OBJECT_STORE, 'readwrite', {\n      durability: 'relaxed'\n    });\n    await tx.store.put(entry);\n    await tx.done;\n  }\n  /**\n   * Returns the timestamp stored for a given URL.\n   *\n   * @param {string} url\n   * @return {number | undefined}\n   *\n   * @private\n   */\n  async getTimestamp(url) {\n    const db = await this.getDb();\n    const entry = await db.get(CACHE_OBJECT_STORE, this._getId(url));\n    return entry === null || entry === void 0 ? void 0 : entry.timestamp;\n  }\n  /**\n   * Iterates through all the entries in the object store (from newest to\n   * oldest) and removes entries once either `maxCount` is reached or the\n   * entry's timestamp is less than `minTimestamp`.\n   *\n   * @param {number} minTimestamp\n   * @param {number} maxCount\n   * @return {Array<string>}\n   *\n   * @private\n   */\n  async expireEntries(minTimestamp, maxCount) {\n    const db = await this.getDb();\n    let cursor = await db.transaction(CACHE_OBJECT_STORE).store.index('timestamp').openCursor(null, 'prev');\n    const entriesToDelete = [];\n    let entriesNotDeletedCount = 0;\n    while (cursor) {\n      const result = cursor.value;\n      // TODO(philipwalton): once we can use a multi-key index, we\n      // won't have to check `cacheName` here.\n      if (result.cacheName === this._cacheName) {\n        // Delete an entry if it's older than the max age or\n        // if we already have the max number allowed.\n        if (minTimestamp && result.timestamp < minTimestamp || maxCount && entriesNotDeletedCount >= maxCount) {\n          // TODO(philipwalton): we should be able to delete the\n          // entry right here, but doing so causes an iteration\n          // bug in Safari stable (fixed in TP). Instead we can\n          // store the keys of the entries to delete, and then\n          // delete the separate transactions.\n          // https://github.com/GoogleChrome/workbox/issues/1978\n          // cursor.delete();\n          // We only need to return the URL, not the whole entry.\n          entriesToDelete.push(cursor.value);\n        } else {\n          entriesNotDeletedCount++;\n        }\n      }\n      cursor = await cursor.continue();\n    }\n    // TODO(philipwalton): once the Safari bug in the following issue is fixed,\n    // we should be able to remove this loop and do the entry deletion in the\n    // cursor loop above:\n    // https://github.com/GoogleChrome/workbox/issues/1978\n    const urlsDeleted = [];\n    for (const entry of entriesToDelete) {\n      await db.delete(CACHE_OBJECT_STORE, entry.id);\n      urlsDeleted.push(entry.url);\n    }\n    return urlsDeleted;\n  }\n  /**\n   * Takes a URL and returns an ID that will be unique in the object store.\n   *\n   * @param {string} url\n   * @return {string}\n   *\n   * @private\n   */\n  _getId(url) {\n    // Creating an ID from the URL and cache name won't be necessary once\n    // Edge switches to Chromium and all browsers we support work with\n    // array keyPaths.\n    return this._cacheName + '|' + normalizeURL(url);\n  }\n  /**\n   * Returns an open connection to the database.\n   *\n   * @private\n   */\n  async getDb() {\n    if (!this._db) {\n      this._db = await openDB(DB_NAME, 1, {\n        upgrade: this._upgradeDbAndDeleteOldDbs.bind(this)\n      });\n    }\n    return this._db;\n  }\n}\nexport { CacheTimestampsModel };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { dontWaitFor } from 'workbox-core/_private/dontWaitFor.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { CacheTimestampsModel } from './models/CacheTimestampsModel.js';\nimport './_version.js';\n/**\n * The `CacheExpiration` class allows you define an expiration and / or\n * limit on the number of responses stored in a\n * [`Cache`](https://developer.mozilla.org/en-US/docs/Web/API/Cache).\n *\n * @memberof workbox-expiration\n */\nclass CacheExpiration {\n  /**\n   * To construct a new CacheExpiration instance you must provide at least\n   * one of the `config` properties.\n   *\n   * @param {string} cacheName Name of the cache to apply restrictions to.\n   * @param {Object} config\n   * @param {number} [config.maxEntries] The maximum number of entries to cache.\n   * Entries used the least will be removed as the maximum is reached.\n   * @param {number} [config.maxAgeSeconds] The maximum age of an entry before\n   * it's treated as stale and removed.\n   * @param {Object} [config.matchOptions] The [`CacheQueryOptions`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete#Parameters)\n   * that will be used when calling `delete()` on the cache.\n   */\n  constructor(cacheName, config) {\n    if (config === void 0) {\n      config = {};\n    }\n    this._isRunning = false;\n    this._rerunRequested = false;\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isType(cacheName, 'string', {\n        moduleName: 'workbox-expiration',\n        className: 'CacheExpiration',\n        funcName: 'constructor',\n        paramName: 'cacheName'\n      });\n      if (!(config.maxEntries || config.maxAgeSeconds)) {\n        throw new WorkboxError('max-entries-or-age-required', {\n          moduleName: 'workbox-expiration',\n          className: 'CacheExpiration',\n          funcName: 'constructor'\n        });\n      }\n      if (config.maxEntries) {\n        assert.isType(config.maxEntries, 'number', {\n          moduleName: 'workbox-expiration',\n          className: 'CacheExpiration',\n          funcName: 'constructor',\n          paramName: 'config.maxEntries'\n        });\n      }\n      if (config.maxAgeSeconds) {\n        assert.isType(config.maxAgeSeconds, 'number', {\n          moduleName: 'workbox-expiration',\n          className: 'CacheExpiration',\n          funcName: 'constructor',\n          paramName: 'config.maxAgeSeconds'\n        });\n      }\n    }\n    this._maxEntries = config.maxEntries;\n    this._maxAgeSeconds = config.maxAgeSeconds;\n    this._matchOptions = config.matchOptions;\n    this._cacheName = cacheName;\n    this._timestampModel = new CacheTimestampsModel(cacheName);\n  }\n  /**\n   * Expires entries for the given cache and given criteria.\n   */\n  async expireEntries() {\n    if (this._isRunning) {\n      this._rerunRequested = true;\n      return;\n    }\n    this._isRunning = true;\n    const minTimestamp = this._maxAgeSeconds ? Date.now() - this._maxAgeSeconds * 1000 : 0;\n    const urlsExpired = await this._timestampModel.expireEntries(minTimestamp, this._maxEntries);\n    // Delete URLs from the cache\n    const cache = await self.caches.open(this._cacheName);\n    for (const url of urlsExpired) {\n      await cache.delete(url, this._matchOptions);\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (urlsExpired.length > 0) {\n        logger.groupCollapsed(`Expired ${urlsExpired.length} ` + `${urlsExpired.length === 1 ? 'entry' : 'entries'} and removed ` + `${urlsExpired.length === 1 ? 'it' : 'them'} from the ` + `'${this._cacheName}' cache.`);\n        logger.log(`Expired the following ${urlsExpired.length === 1 ? 'URL' : 'URLs'}:`);\n        urlsExpired.forEach(url => logger.log(`    ${url}`));\n        logger.groupEnd();\n      } else {\n        logger.debug(`Cache expiration ran and found no entries to remove.`);\n      }\n    }\n    this._isRunning = false;\n    if (this._rerunRequested) {\n      this._rerunRequested = false;\n      dontWaitFor(this.expireEntries());\n    }\n  }\n  /**\n   * Update the timestamp for the given URL. This ensures the when\n   * removing entries based on maximum entries, most recently used\n   * is accurate or when expiring, the timestamp is up-to-date.\n   *\n   * @param {string} url\n   */\n  async updateTimestamp(url) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isType(url, 'string', {\n        moduleName: 'workbox-expiration',\n        className: 'CacheExpiration',\n        funcName: 'updateTimestamp',\n        paramName: 'url'\n      });\n    }\n    await this._timestampModel.setTimestamp(url, Date.now());\n  }\n  /**\n   * Can be used to check if a URL has expired or not before it's used.\n   *\n   * This requires a look up from IndexedDB, so can be slow.\n   *\n   * Note: This method will not remove the cached entry, call\n   * `expireEntries()` to remove indexedDB and Cache entries.\n   *\n   * @param {string} url\n   * @return {boolean}\n   */\n  async isURLExpired(url) {\n    if (!this._maxAgeSeconds) {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new WorkboxError(`expired-test-without-max-age`, {\n          methodName: 'isURLExpired',\n          paramName: 'maxAgeSeconds'\n        });\n      }\n      return false;\n    } else {\n      const timestamp = await this._timestampModel.getTimestamp(url);\n      const expireOlderThan = Date.now() - this._maxAgeSeconds * 1000;\n      return timestamp !== undefined ? timestamp < expireOlderThan : true;\n    }\n  }\n  /**\n   * Removes the IndexedDB object store used to keep track of cache expiration\n   * metadata.\n   */\n  async delete() {\n    // Make sure we don't attempt another rerun if we're called in the middle of\n    // a cache expiration.\n    this._rerunRequested = false;\n    await this._timestampModel.expireEntries(Infinity); // Expires all.\n  }\n}\n\nexport { CacheExpiration };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nconst _cacheNameDetails = {\n  googleAnalytics: 'googleAnalytics',\n  precache: 'precache-v2',\n  prefix: 'workbox',\n  runtime: 'runtime',\n  suffix: typeof registration !== 'undefined' ? registration.scope : ''\n};\nconst _createCacheName = cacheName => {\n  return [_cacheNameDetails.prefix, cacheName, _cacheNameDetails.suffix].filter(value => value && value.length > 0).join('-');\n};\nconst eachCacheNameDetail = fn => {\n  for (const key of Object.keys(_cacheNameDetails)) {\n    fn(key);\n  }\n};\nexport const cacheNames = {\n  updateDetails: details => {\n    eachCacheNameDetail(key => {\n      if (typeof details[key] === 'string') {\n        _cacheNameDetails[key] = details[key];\n      }\n    });\n  },\n  getGoogleAnalyticsName: userCacheName => {\n    return userCacheName || _createCacheName(_cacheNameDetails.googleAnalytics);\n  },\n  getPrecacheName: userCacheName => {\n    return userCacheName || _createCacheName(_cacheNameDetails.precache);\n  },\n  getPrefix: () => {\n    return _cacheNameDetails.prefix;\n  },\n  getRuntimeName: userCacheName => {\n    return userCacheName || _createCacheName(_cacheNameDetails.runtime);\n  },\n  getSuffix: () => {\n    return _cacheNameDetails.suffix;\n  }\n};","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nconst getFriendlyURL = url => {\n  const urlObj = new URL(String(url), location.href);\n  // See https://github.com/GoogleChrome/workbox/issues/2323\n  // We want to include everything, except for the origin if it's same-origin.\n  return urlObj.href.replace(new RegExp(`^${location.origin}`), '');\n};\nexport { getFriendlyURL };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n// Callbacks to be executed whenever there's a quota error.\n// Can't change Function type right now.\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst quotaErrorCallbacks = new Set();\nexport { quotaErrorCallbacks };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { dontWaitFor } from 'workbox-core/_private/dontWaitFor.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { registerQuotaErrorCallback } from 'workbox-core/registerQuotaErrorCallback.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { CacheExpiration } from './CacheExpiration.js';\nimport './_version.js';\n/**\n * This plugin can be used in a `workbox-strategy` to regularly enforce a\n * limit on the age and / or the number of cached requests.\n *\n * It can only be used with `workbox-strategy` instances that have a\n * [custom `cacheName` property set](/web/tools/workbox/guides/configure-workbox#custom_cache_names_in_strategies).\n * In other words, it can't be used to expire entries in strategy that uses the\n * default runtime cache name.\n *\n * Whenever a cached response is used or updated, this plugin will look\n * at the associated cache and remove any old or extra responses.\n *\n * When using `maxAgeSeconds`, responses may be used *once* after expiring\n * because the expiration clean up will not have occurred until *after* the\n * cached response has been used. If the response has a \"Date\" header, then\n * a light weight expiration check is performed and the response will not be\n * used immediately.\n *\n * When using `maxEntries`, the entry least-recently requested will be removed\n * from the cache first.\n *\n * @memberof workbox-expiration\n */\nclass ExpirationPlugin {\n  /**\n   * @param {ExpirationPluginOptions} config\n   * @param {number} [config.maxEntries] The maximum number of entries to cache.\n   * Entries used the least will be removed as the maximum is reached.\n   * @param {number} [config.maxAgeSeconds] The maximum age of an entry before\n   * it's treated as stale and removed.\n   * @param {Object} [config.matchOptions] The [`CacheQueryOptions`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete#Parameters)\n   * that will be used when calling `delete()` on the cache.\n   * @param {boolean} [config.purgeOnQuotaError] Whether to opt this cache in to\n   * automatic deletion if the available storage quota has been exceeded.\n   */\n  constructor(config) {\n    if (config === void 0) {\n      config = {};\n    }\n    /**\n     * A \"lifecycle\" callback that will be triggered automatically by the\n     * `workbox-strategies` handlers when a `Response` is about to be returned\n     * from a [Cache](https://developer.mozilla.org/en-US/docs/Web/API/Cache) to\n     * the handler. It allows the `Response` to be inspected for freshness and\n     * prevents it from being used if the `Response`'s `Date` header value is\n     * older than the configured `maxAgeSeconds`.\n     *\n     * @param {Object} options\n     * @param {string} options.cacheName Name of the cache the response is in.\n     * @param {Response} options.cachedResponse The `Response` object that's been\n     *     read from a cache and whose freshness should be checked.\n     * @return {Response} Either the `cachedResponse`, if it's\n     *     fresh, or `null` if the `Response` is older than `maxAgeSeconds`.\n     *\n     * @private\n     */\n    this.cachedResponseWillBeUsed = async _ref => {\n      let {\n        event,\n        request,\n        cacheName,\n        cachedResponse\n      } = _ref;\n      if (!cachedResponse) {\n        return null;\n      }\n      const isFresh = this._isResponseDateFresh(cachedResponse);\n      // Expire entries to ensure that even if the expiration date has\n      // expired, it'll only be used once.\n      const cacheExpiration = this._getCacheExpiration(cacheName);\n      dontWaitFor(cacheExpiration.expireEntries());\n      // Update the metadata for the request URL to the current timestamp,\n      // but don't `await` it as we don't want to block the response.\n      const updateTimestampDone = cacheExpiration.updateTimestamp(request.url);\n      if (event) {\n        try {\n          event.waitUntil(updateTimestampDone);\n        } catch (error) {\n          if (process.env.NODE_ENV !== 'production') {\n            // The event may not be a fetch event; only log the URL if it is.\n            if ('request' in event) {\n              logger.warn(`Unable to ensure service worker stays alive when ` + `updating cache entry for ` + `'${getFriendlyURL(event.request.url)}'.`);\n            }\n          }\n        }\n      }\n      return isFresh ? cachedResponse : null;\n    };\n    /**\n     * A \"lifecycle\" callback that will be triggered automatically by the\n     * `workbox-strategies` handlers when an entry is added to a cache.\n     *\n     * @param {Object} options\n     * @param {string} options.cacheName Name of the cache that was updated.\n     * @param {string} options.request The Request for the cached entry.\n     *\n     * @private\n     */\n    this.cacheDidUpdate = async _ref2 => {\n      let {\n        cacheName,\n        request\n      } = _ref2;\n      if (process.env.NODE_ENV !== 'production') {\n        assert.isType(cacheName, 'string', {\n          moduleName: 'workbox-expiration',\n          className: 'Plugin',\n          funcName: 'cacheDidUpdate',\n          paramName: 'cacheName'\n        });\n        assert.isInstance(request, Request, {\n          moduleName: 'workbox-expiration',\n          className: 'Plugin',\n          funcName: 'cacheDidUpdate',\n          paramName: 'request'\n        });\n      }\n      const cacheExpiration = this._getCacheExpiration(cacheName);\n      await cacheExpiration.updateTimestamp(request.url);\n      await cacheExpiration.expireEntries();\n    };\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(config.maxEntries || config.maxAgeSeconds)) {\n        throw new WorkboxError('max-entries-or-age-required', {\n          moduleName: 'workbox-expiration',\n          className: 'Plugin',\n          funcName: 'constructor'\n        });\n      }\n      if (config.maxEntries) {\n        assert.isType(config.maxEntries, 'number', {\n          moduleName: 'workbox-expiration',\n          className: 'Plugin',\n          funcName: 'constructor',\n          paramName: 'config.maxEntries'\n        });\n      }\n      if (config.maxAgeSeconds) {\n        assert.isType(config.maxAgeSeconds, 'number', {\n          moduleName: 'workbox-expiration',\n          className: 'Plugin',\n          funcName: 'constructor',\n          paramName: 'config.maxAgeSeconds'\n        });\n      }\n    }\n    this._config = config;\n    this._maxAgeSeconds = config.maxAgeSeconds;\n    this._cacheExpirations = new Map();\n    if (config.purgeOnQuotaError) {\n      registerQuotaErrorCallback(() => this.deleteCacheAndMetadata());\n    }\n  }\n  /**\n   * A simple helper method to return a CacheExpiration instance for a given\n   * cache name.\n   *\n   * @param {string} cacheName\n   * @return {CacheExpiration}\n   *\n   * @private\n   */\n  _getCacheExpiration(cacheName) {\n    if (cacheName === cacheNames.getRuntimeName()) {\n      throw new WorkboxError('expire-custom-caches-only');\n    }\n    let cacheExpiration = this._cacheExpirations.get(cacheName);\n    if (!cacheExpiration) {\n      cacheExpiration = new CacheExpiration(cacheName, this._config);\n      this._cacheExpirations.set(cacheName, cacheExpiration);\n    }\n    return cacheExpiration;\n  }\n  /**\n   * @param {Response} cachedResponse\n   * @return {boolean}\n   *\n   * @private\n   */\n  _isResponseDateFresh(cachedResponse) {\n    if (!this._maxAgeSeconds) {\n      // We aren't expiring by age, so return true, it's fresh\n      return true;\n    }\n    // Check if the 'date' header will suffice a quick expiration check.\n    // See https://github.com/GoogleChromeLabs/sw-toolbox/issues/164 for\n    // discussion.\n    const dateHeaderTimestamp = this._getDateHeaderTimestamp(cachedResponse);\n    if (dateHeaderTimestamp === null) {\n      // Unable to parse date, so assume it's fresh.\n      return true;\n    }\n    // If we have a valid headerTime, then our response is fresh iff the\n    // headerTime plus maxAgeSeconds is greater than the current time.\n    const now = Date.now();\n    return dateHeaderTimestamp >= now - this._maxAgeSeconds * 1000;\n  }\n  /**\n   * This method will extract the data header and parse it into a useful\n   * value.\n   *\n   * @param {Response} cachedResponse\n   * @return {number|null}\n   *\n   * @private\n   */\n  _getDateHeaderTimestamp(cachedResponse) {\n    if (!cachedResponse.headers.has('date')) {\n      return null;\n    }\n    const dateHeader = cachedResponse.headers.get('date');\n    const parsedDate = new Date(dateHeader);\n    const headerTime = parsedDate.getTime();\n    // If the Date header was invalid for some reason, parsedDate.getTime()\n    // will return NaN.\n    if (isNaN(headerTime)) {\n      return null;\n    }\n    return headerTime;\n  }\n  /**\n   * This is a helper method that performs two operations:\n   *\n   * - Deletes *all* the underlying Cache instances associated with this plugin\n   * instance, by calling caches.delete() on your behalf.\n   * - Deletes the metadata from IndexedDB used to keep track of expiration\n   * details for each Cache instance.\n   *\n   * When using cache expiration, calling this method is preferable to calling\n   * `caches.delete()` directly, since this will ensure that the IndexedDB\n   * metadata is also cleanly removed and open IndexedDB instances are deleted.\n   *\n   * Note that if you're *not* using cache expiration for a given cache, calling\n   * `caches.delete()` and passing in the cache's name should be sufficient.\n   * There is no Workbox-specific method needed for cleanup in that case.\n   */\n  async deleteCacheAndMetadata() {\n    // Do this one at a time instead of all at once via `Promise.all()` to\n    // reduce the chance of inconsistency if a promise rejects.\n    for (const [cacheName, cacheExpiration] of this._cacheExpirations) {\n      await self.caches.delete(cacheName);\n      await cacheExpiration.delete();\n    }\n    // Reset this._cacheExpirations to its initial state.\n    this._cacheExpirations = new Map();\n  }\n}\nexport { ExpirationPlugin };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { logger } from './_private/logger.js';\nimport { assert } from './_private/assert.js';\nimport { quotaErrorCallbacks } from './models/quotaErrorCallbacks.js';\nimport './_version.js';\n/**\n * Adds a function to the set of quotaErrorCallbacks that will be executed if\n * there's a quota error.\n *\n * @param {Function} callback\n * @memberof workbox-core\n */\n// Can't change Function type\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction registerQuotaErrorCallback(callback) {\n  if (process.env.NODE_ENV !== 'production') {\n    assert.isType(callback, 'function', {\n      moduleName: 'workbox-core',\n      funcName: 'register',\n      paramName: 'callback'\n    });\n  }\n  quotaErrorCallbacks.add(callback);\n  if (process.env.NODE_ENV !== 'production') {\n    logger.log('Registered a callback to respond to quota errors.', callback);\n  }\n}\nexport { registerQuotaErrorCallback };","/*\n  Copyright 2020 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A utility method that makes it easier to use `event.waitUntil` with\n * async functions and return the result.\n *\n * @param {ExtendableEvent} event\n * @param {Function} asyncFn\n * @return {Function}\n * @private\n */\nfunction waitUntil(event, asyncFn) {\n  const returnPromise = asyncFn();\n  event.waitUntil(returnPromise);\n  return returnPromise;\n}\nexport { waitUntil };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport '../_version.js';\n// Name of the search parameter used to store revision info.\nconst REVISION_SEARCH_PARAM = '__WB_REVISION__';\n/**\n * Converts a manifest entry into a versioned URL suitable for precaching.\n *\n * @param {Object|string} entry\n * @return {string} A URL with versioning info.\n *\n * @private\n * @memberof workbox-precaching\n */\nexport function createCacheKey(entry) {\n  if (!entry) {\n    throw new WorkboxError('add-to-cache-list-unexpected-type', {\n      entry\n    });\n  }\n  // If a precache manifest entry is a string, it's assumed to be a versioned\n  // URL, like '/app.abcd1234.js'. Return as-is.\n  if (typeof entry === 'string') {\n    const urlObject = new URL(entry, location.href);\n    return {\n      cacheKey: urlObject.href,\n      url: urlObject.href\n    };\n  }\n  const {\n    revision,\n    url\n  } = entry;\n  if (!url) {\n    throw new WorkboxError('add-to-cache-list-unexpected-type', {\n      entry\n    });\n  }\n  // If there's just a URL and no revision, then it's also assumed to be a\n  // versioned URL.\n  if (!revision) {\n    const urlObject = new URL(url, location.href);\n    return {\n      cacheKey: urlObject.href,\n      url: urlObject.href\n    };\n  }\n  // Otherwise, construct a properly versioned URL using the custom Workbox\n  // search parameter along with the revision info.\n  const cacheKeyURL = new URL(url, location.href);\n  const originalURL = new URL(url, location.href);\n  cacheKeyURL.searchParams.set(REVISION_SEARCH_PARAM, revision);\n  return {\n    cacheKey: cacheKeyURL.href,\n    url: originalURL.href\n  };\n}","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A plugin, designed to be used with PrecacheController, to determine the\n * of assets that were updated (or not updated) during the install event.\n *\n * @private\n */\nclass PrecacheInstallReportPlugin {\n  constructor() {\n    this.updatedURLs = [];\n    this.notUpdatedURLs = [];\n    this.handlerWillStart = async _ref => {\n      let {\n        request,\n        state\n      } = _ref;\n      // TODO: `state` should never be undefined...\n      if (state) {\n        state.originalRequest = request;\n      }\n    };\n    this.cachedResponseWillBeUsed = async _ref2 => {\n      let {\n        event,\n        state,\n        cachedResponse\n      } = _ref2;\n      if (event.type === 'install') {\n        if (state && state.originalRequest && state.originalRequest instanceof Request) {\n          // TODO: `state` should never be undefined...\n          const url = state.originalRequest.url;\n          if (cachedResponse) {\n            this.notUpdatedURLs.push(url);\n          } else {\n            this.updatedURLs.push(url);\n          }\n        }\n      }\n      return cachedResponse;\n    };\n  }\n}\nexport { PrecacheInstallReportPlugin };","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * A plugin, designed to be used with PrecacheController, to translate URLs into\n * the corresponding cache key, based on the current revision info.\n *\n * @private\n */\nclass PrecacheCacheKeyPlugin {\n  constructor(_ref) {\n    let {\n      precacheController\n    } = _ref;\n    this.cacheKeyWillBeUsed = async _ref2 => {\n      let {\n        request,\n        params\n      } = _ref2;\n      // Params is type any, can't change right now.\n      /* eslint-disable */\n      const cacheKey = (params === null || params === void 0 ? void 0 : params.cacheKey) || this._precacheController.getCacheKeyForURL(request.url);\n      /* eslint-enable */\n      return cacheKey ? new Request(cacheKey, {\n        headers: request.headers\n      }) : request;\n    };\n    this._precacheController = precacheController;\n  }\n}\nexport { PrecacheCacheKeyPlugin };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nlet supportStatus;\n/**\n * A utility function that determines whether the current browser supports\n * constructing a new `Response` from a `response.body` stream.\n *\n * @return {boolean} `true`, if the current browser can successfully\n *     construct a `Response` from a `response.body` stream, `false` otherwise.\n *\n * @private\n */\nfunction canConstructResponseFromBodyStream() {\n  if (supportStatus === undefined) {\n    const testResponse = new Response('');\n    if ('body' in testResponse) {\n      try {\n        new Response(testResponse.body);\n        supportStatus = true;\n      } catch (error) {\n        supportStatus = false;\n      }\n    }\n    supportStatus = false;\n  }\n  return supportStatus;\n}\nexport { canConstructResponseFromBodyStream };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { canConstructResponseFromBodyStream } from './_private/canConstructResponseFromBodyStream.js';\nimport { WorkboxError } from './_private/WorkboxError.js';\nimport './_version.js';\n/**\n * Allows developers to copy a response and modify its `headers`, `status`,\n * or `statusText` values (the values settable via a\n * [`ResponseInit`]{@link https://developer.mozilla.org/en-US/docs/Web/API/Response/Response#Syntax}\n * object in the constructor).\n * To modify these values, pass a function as the second argument. That\n * function will be invoked with a single object with the response properties\n * `{headers, status, statusText}`. The return value of this function will\n * be used as the `ResponseInit` for the new `Response`. To change the values\n * either modify the passed parameter(s) and return it, or return a totally\n * new object.\n *\n * This method is intentionally limited to same-origin responses, regardless of\n * whether CORS was used or not.\n *\n * @param {Response} response\n * @param {Function} modifier\n * @memberof workbox-core\n */\nasync function copyResponse(response, modifier) {\n  let origin = null;\n  // If response.url isn't set, assume it's cross-origin and keep origin null.\n  if (response.url) {\n    const responseURL = new URL(response.url);\n    origin = responseURL.origin;\n  }\n  if (origin !== self.location.origin) {\n    throw new WorkboxError('cross-origin-copy-response', {\n      origin\n    });\n  }\n  const clonedResponse = response.clone();\n  // Create a fresh `ResponseInit` object by cloning the headers.\n  const responseInit = {\n    headers: new Headers(clonedResponse.headers),\n    status: clonedResponse.status,\n    statusText: clonedResponse.statusText\n  };\n  // Apply any user modifications.\n  const modifiedResponseInit = modifier ? modifier(responseInit) : responseInit;\n  // Create the new response from the body stream and `ResponseInit`\n  // modifications. Note: not all browsers support the Response.body stream,\n  // so fall back to reading the entire body into memory as a blob.\n  const body = canConstructResponseFromBodyStream() ? clonedResponse.body : await clonedResponse.blob();\n  return new Response(body, modifiedResponseInit);\n}\nexport { copyResponse };","/*\n  Copyright 2020 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\nfunction stripParams(fullURL, ignoreParams) {\n  const strippedURL = new URL(fullURL);\n  for (const param of ignoreParams) {\n    strippedURL.searchParams.delete(param);\n  }\n  return strippedURL.href;\n}\n/**\n * Matches an item in the cache, ignoring specific URL params. This is similar\n * to the `ignoreSearch` option, but it allows you to ignore just specific\n * params (while continuing to match on the others).\n *\n * @private\n * @param {Cache} cache\n * @param {Request} request\n * @param {Object} matchOptions\n * @param {Array<string>} ignoreParams\n * @return {Promise<Response|undefined>}\n */\nasync function cacheMatchIgnoreParams(cache, request, ignoreParams, matchOptions) {\n  const strippedRequestURL = stripParams(request.url, ignoreParams);\n  // If the request doesn't include any ignored params, match as normal.\n  if (request.url === strippedRequestURL) {\n    return cache.match(request, matchOptions);\n  }\n  // Otherwise, match by comparing keys\n  const keysOptions = Object.assign(Object.assign({}, matchOptions), {\n    ignoreSearch: true\n  });\n  const cacheKeys = await cache.keys(request, keysOptions);\n  for (const cacheKey of cacheKeys) {\n    const strippedCacheKeyURL = stripParams(cacheKey.url, ignoreParams);\n    if (strippedRequestURL === strippedCacheKeyURL) {\n      return cache.match(cacheKey, matchOptions);\n    }\n  }\n  return;\n}\nexport { cacheMatchIgnoreParams };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * The Deferred class composes Promises in a way that allows for them to be\n * resolved or rejected from outside the constructor. In most cases promises\n * should be used directly, but Deferreds can be necessary when the logic to\n * resolve a promise must be separate.\n *\n * @private\n */\nclass Deferred {\n  /**\n   * Creates a promise and exposes its resolve and reject functions as methods.\n   */\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n}\nexport { Deferred };","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * Returns a promise that resolves and the passed number of milliseconds.\n * This utility is an async/await-friendly version of `setTimeout`.\n *\n * @param {number} ms\n * @return {Promise}\n * @private\n */\nexport function timeout(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { cacheMatchIgnoreParams } from 'workbox-core/_private/cacheMatchIgnoreParams.js';\nimport { Deferred } from 'workbox-core/_private/Deferred.js';\nimport { executeQuotaErrorCallbacks } from 'workbox-core/_private/executeQuotaErrorCallbacks.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { timeout } from 'workbox-core/_private/timeout.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport './_version.js';\nfunction toRequest(input) {\n  return typeof input === 'string' ? new Request(input) : input;\n}\n/**\n * A class created every time a Strategy instance instance calls\n * {@link workbox-strategies.Strategy~handle} or\n * {@link workbox-strategies.Strategy~handleAll} that wraps all fetch and\n * cache actions around plugin callbacks and keeps track of when the strategy\n * is \"done\" (i.e. all added `event.waitUntil()` promises have resolved).\n *\n * @memberof workbox-strategies\n */\nclass StrategyHandler {\n  /**\n   * Creates a new instance associated with the passed strategy and event\n   * that's handling the request.\n   *\n   * The constructor also initializes the state that will be passed to each of\n   * the plugins handling this request.\n   *\n   * @param {workbox-strategies.Strategy} strategy\n   * @param {Object} options\n   * @param {Request|string} options.request A request to run this strategy for.\n   * @param {ExtendableEvent} options.event The event associated with the\n   *     request.\n   * @param {URL} [options.url]\n   * @param {*} [options.params] The return value from the\n   *     {@link workbox-routing~matchCallback} (if applicable).\n   */\n  constructor(strategy, options) {\n    this._cacheKeys = {};\n    /**\n     * The request the strategy is performing (passed to the strategy's\n     * `handle()` or `handleAll()` method).\n     * @name request\n     * @instance\n     * @type {Request}\n     * @memberof workbox-strategies.StrategyHandler\n     */\n    /**\n     * The event associated with this request.\n     * @name event\n     * @instance\n     * @type {ExtendableEvent}\n     * @memberof workbox-strategies.StrategyHandler\n     */\n    /**\n     * A `URL` instance of `request.url` (if passed to the strategy's\n     * `handle()` or `handleAll()` method).\n     * Note: the `url` param will be present if the strategy was invoked\n     * from a workbox `Route` object.\n     * @name url\n     * @instance\n     * @type {URL|undefined}\n     * @memberof workbox-strategies.StrategyHandler\n     */\n    /**\n     * A `param` value (if passed to the strategy's\n     * `handle()` or `handleAll()` method).\n     * Note: the `param` param will be present if the strategy was invoked\n     * from a workbox `Route` object and the\n     * {@link workbox-routing~matchCallback} returned\n     * a truthy value (it will be that value).\n     * @name params\n     * @instance\n     * @type {*|undefined}\n     * @memberof workbox-strategies.StrategyHandler\n     */\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isInstance(options.event, ExtendableEvent, {\n        moduleName: 'workbox-strategies',\n        className: 'StrategyHandler',\n        funcName: 'constructor',\n        paramName: 'options.event'\n      });\n    }\n    Object.assign(this, options);\n    this.event = options.event;\n    this._strategy = strategy;\n    this._handlerDeferred = new Deferred();\n    this._extendLifetimePromises = [];\n    // Copy the plugins list (since it's mutable on the strategy),\n    // so any mutations don't affect this handler instance.\n    this._plugins = [...strategy.plugins];\n    this._pluginStateMap = new Map();\n    for (const plugin of this._plugins) {\n      this._pluginStateMap.set(plugin, {});\n    }\n    this.event.waitUntil(this._handlerDeferred.promise);\n  }\n  /**\n   * Fetches a given request (and invokes any applicable plugin callback\n   * methods) using the `fetchOptions` (for non-navigation requests) and\n   * `plugins` defined on the `Strategy` object.\n   *\n   * The following plugin lifecycle methods are invoked when using this method:\n   * - `requestWillFetch()`\n   * - `fetchDidSucceed()`\n   * - `fetchDidFail()`\n   *\n   * @param {Request|string} input The URL or request to fetch.\n   * @return {Promise<Response>}\n   */\n  async fetch(input) {\n    const {\n      event\n    } = this;\n    let request = toRequest(input);\n    if (request.mode === 'navigate' && event instanceof FetchEvent && event.preloadResponse) {\n      const possiblePreloadResponse = await event.preloadResponse;\n      if (possiblePreloadResponse) {\n        if (process.env.NODE_ENV !== 'production') {\n          logger.log(`Using a preloaded navigation response for ` + `'${getFriendlyURL(request.url)}'`);\n        }\n        return possiblePreloadResponse;\n      }\n    }\n    // If there is a fetchDidFail plugin, we need to save a clone of the\n    // original request before it's either modified by a requestWillFetch\n    // plugin or before the original request's body is consumed via fetch().\n    const originalRequest = this.hasCallback('fetchDidFail') ? request.clone() : null;\n    try {\n      for (const cb of this.iterateCallbacks('requestWillFetch')) {\n        request = await cb({\n          request: request.clone(),\n          event\n        });\n      }\n    } catch (err) {\n      if (err instanceof Error) {\n        throw new WorkboxError('plugin-error-request-will-fetch', {\n          thrownErrorMessage: err.message\n        });\n      }\n    }\n    // The request can be altered by plugins with `requestWillFetch` making\n    // the original request (most likely from a `fetch` event) different\n    // from the Request we make. Pass both to `fetchDidFail` to aid debugging.\n    const pluginFilteredRequest = request.clone();\n    try {\n      let fetchResponse;\n      // See https://github.com/GoogleChrome/workbox/issues/1796\n      fetchResponse = await fetch(request, request.mode === 'navigate' ? undefined : this._strategy.fetchOptions);\n      if (process.env.NODE_ENV !== 'production') {\n        logger.debug(`Network request for ` + `'${getFriendlyURL(request.url)}' returned a response with ` + `status '${fetchResponse.status}'.`);\n      }\n      for (const callback of this.iterateCallbacks('fetchDidSucceed')) {\n        fetchResponse = await callback({\n          event,\n          request: pluginFilteredRequest,\n          response: fetchResponse\n        });\n      }\n      return fetchResponse;\n    } catch (error) {\n      if (process.env.NODE_ENV !== 'production') {\n        logger.log(`Network request for ` + `'${getFriendlyURL(request.url)}' threw an error.`, error);\n      }\n      // `originalRequest` will only exist if a `fetchDidFail` callback\n      // is being used (see above).\n      if (originalRequest) {\n        await this.runCallbacks('fetchDidFail', {\n          error: error,\n          event,\n          originalRequest: originalRequest.clone(),\n          request: pluginFilteredRequest.clone()\n        });\n      }\n      throw error;\n    }\n  }\n  /**\n   * Calls `this.fetch()` and (in the background) runs `this.cachePut()` on\n   * the response generated by `this.fetch()`.\n   *\n   * The call to `this.cachePut()` automatically invokes `this.waitUntil()`,\n   * so you do not have to manually call `waitUntil()` on the event.\n   *\n   * @param {Request|string} input The request or URL to fetch and cache.\n   * @return {Promise<Response>}\n   */\n  async fetchAndCachePut(input) {\n    const response = await this.fetch(input);\n    const responseClone = response.clone();\n    void this.waitUntil(this.cachePut(input, responseClone));\n    return response;\n  }\n  /**\n   * Matches a request from the cache (and invokes any applicable plugin\n   * callback methods) using the `cacheName`, `matchOptions`, and `plugins`\n   * defined on the strategy object.\n   *\n   * The following plugin lifecycle methods are invoked when using this method:\n   * - cacheKeyWillByUsed()\n   * - cachedResponseWillByUsed()\n   *\n   * @param {Request|string} key The Request or URL to use as the cache key.\n   * @return {Promise<Response|undefined>} A matching response, if found.\n   */\n  async cacheMatch(key) {\n    const request = toRequest(key);\n    let cachedResponse;\n    const {\n      cacheName,\n      matchOptions\n    } = this._strategy;\n    const effectiveRequest = await this.getCacheKey(request, 'read');\n    const multiMatchOptions = Object.assign(Object.assign({}, matchOptions), {\n      cacheName\n    });\n    cachedResponse = await caches.match(effectiveRequest, multiMatchOptions);\n    if (process.env.NODE_ENV !== 'production') {\n      if (cachedResponse) {\n        logger.debug(`Found a cached response in '${cacheName}'.`);\n      } else {\n        logger.debug(`No cached response found in '${cacheName}'.`);\n      }\n    }\n    for (const callback of this.iterateCallbacks('cachedResponseWillBeUsed')) {\n      cachedResponse = (await callback({\n        cacheName,\n        matchOptions,\n        cachedResponse,\n        request: effectiveRequest,\n        event: this.event\n      })) || undefined;\n    }\n    return cachedResponse;\n  }\n  /**\n   * Puts a request/response pair in the cache (and invokes any applicable\n   * plugin callback methods) using the `cacheName` and `plugins` defined on\n   * the strategy object.\n   *\n   * The following plugin lifecycle methods are invoked when using this method:\n   * - cacheKeyWillByUsed()\n   * - cacheWillUpdate()\n   * - cacheDidUpdate()\n   *\n   * @param {Request|string} key The request or URL to use as the cache key.\n   * @param {Response} response The response to cache.\n   * @return {Promise<boolean>} `false` if a cacheWillUpdate caused the response\n   * not be cached, and `true` otherwise.\n   */\n  async cachePut(key, response) {\n    const request = toRequest(key);\n    // Run in the next task to avoid blocking other cache reads.\n    // https://github.com/w3c/ServiceWorker/issues/1397\n    await timeout(0);\n    const effectiveRequest = await this.getCacheKey(request, 'write');\n    if (process.env.NODE_ENV !== 'production') {\n      if (effectiveRequest.method && effectiveRequest.method !== 'GET') {\n        throw new WorkboxError('attempt-to-cache-non-get-request', {\n          url: getFriendlyURL(effectiveRequest.url),\n          method: effectiveRequest.method\n        });\n      }\n      // See https://github.com/GoogleChrome/workbox/issues/2818\n      const vary = response.headers.get('Vary');\n      if (vary) {\n        logger.debug(`The response for ${getFriendlyURL(effectiveRequest.url)} ` + `has a 'Vary: ${vary}' header. ` + `Consider setting the {ignoreVary: true} option on your strategy ` + `to ensure cache matching and deletion works as expected.`);\n      }\n    }\n    if (!response) {\n      if (process.env.NODE_ENV !== 'production') {\n        logger.error(`Cannot cache non-existent response for ` + `'${getFriendlyURL(effectiveRequest.url)}'.`);\n      }\n      throw new WorkboxError('cache-put-with-no-response', {\n        url: getFriendlyURL(effectiveRequest.url)\n      });\n    }\n    const responseToCache = await this._ensureResponseSafeToCache(response);\n    if (!responseToCache) {\n      if (process.env.NODE_ENV !== 'production') {\n        logger.debug(`Response '${getFriendlyURL(effectiveRequest.url)}' ` + `will not be cached.`, responseToCache);\n      }\n      return false;\n    }\n    const {\n      cacheName,\n      matchOptions\n    } = this._strategy;\n    const cache = await self.caches.open(cacheName);\n    const hasCacheUpdateCallback = this.hasCallback('cacheDidUpdate');\n    const oldResponse = hasCacheUpdateCallback ? await cacheMatchIgnoreParams(\n    // TODO(philipwalton): the `__WB_REVISION__` param is a precaching\n    // feature. Consider into ways to only add this behavior if using\n    // precaching.\n    cache, effectiveRequest.clone(), ['__WB_REVISION__'], matchOptions) : null;\n    if (process.env.NODE_ENV !== 'production') {\n      logger.debug(`Updating the '${cacheName}' cache with a new Response ` + `for ${getFriendlyURL(effectiveRequest.url)}.`);\n    }\n    try {\n      await cache.put(effectiveRequest, hasCacheUpdateCallback ? responseToCache.clone() : responseToCache);\n    } catch (error) {\n      if (error instanceof Error) {\n        // See https://developer.mozilla.org/en-US/docs/Web/API/DOMException#exception-QuotaExceededError\n        if (error.name === 'QuotaExceededError') {\n          await executeQuotaErrorCallbacks();\n        }\n        throw error;\n      }\n    }\n    for (const callback of this.iterateCallbacks('cacheDidUpdate')) {\n      await callback({\n        cacheName,\n        oldResponse,\n        newResponse: responseToCache.clone(),\n        request: effectiveRequest,\n        event: this.event\n      });\n    }\n    return true;\n  }\n  /**\n   * Checks the list of plugins for the `cacheKeyWillBeUsed` callback, and\n   * executes any of those callbacks found in sequence. The final `Request`\n   * object returned by the last plugin is treated as the cache key for cache\n   * reads and/or writes. If no `cacheKeyWillBeUsed` plugin callbacks have\n   * been registered, the passed request is returned unmodified\n   *\n   * @param {Request} request\n   * @param {string} mode\n   * @return {Promise<Request>}\n   */\n  async getCacheKey(request, mode) {\n    const key = `${request.url} | ${mode}`;\n    if (!this._cacheKeys[key]) {\n      let effectiveRequest = request;\n      for (const callback of this.iterateCallbacks('cacheKeyWillBeUsed')) {\n        effectiveRequest = toRequest(await callback({\n          mode,\n          request: effectiveRequest,\n          event: this.event,\n          // params has a type any can't change right now.\n          params: this.params // eslint-disable-line\n        }));\n      }\n\n      this._cacheKeys[key] = effectiveRequest;\n    }\n    return this._cacheKeys[key];\n  }\n  /**\n   * Returns true if the strategy has at least one plugin with the given\n   * callback.\n   *\n   * @param {string} name The name of the callback to check for.\n   * @return {boolean}\n   */\n  hasCallback(name) {\n    for (const plugin of this._strategy.plugins) {\n      if (name in plugin) {\n        return true;\n      }\n    }\n    return false;\n  }\n  /**\n   * Runs all plugin callbacks matching the given name, in order, passing the\n   * given param object (merged ith the current plugin state) as the only\n   * argument.\n   *\n   * Note: since this method runs all plugins, it's not suitable for cases\n   * where the return value of a callback needs to be applied prior to calling\n   * the next callback. See\n   * {@link workbox-strategies.StrategyHandler#iterateCallbacks}\n   * below for how to handle that case.\n   *\n   * @param {string} name The name of the callback to run within each plugin.\n   * @param {Object} param The object to pass as the first (and only) param\n   *     when executing each callback. This object will be merged with the\n   *     current plugin state prior to callback execution.\n   */\n  async runCallbacks(name, param) {\n    for (const callback of this.iterateCallbacks(name)) {\n      // TODO(philipwalton): not sure why `any` is needed. It seems like\n      // this should work with `as WorkboxPluginCallbackParam[C]`.\n      await callback(param);\n    }\n  }\n  /**\n   * Accepts a callback and returns an iterable of matching plugin callbacks,\n   * where each callback is wrapped with the current handler state (i.e. when\n   * you call each callback, whatever object parameter you pass it will\n   * be merged with the plugin's current state).\n   *\n   * @param {string} name The name fo the callback to run\n   * @return {Array<Function>}\n   */\n  *iterateCallbacks(name) {\n    for (const plugin of this._strategy.plugins) {\n      if (typeof plugin[name] === 'function') {\n        const state = this._pluginStateMap.get(plugin);\n        const statefulCallback = param => {\n          const statefulParam = Object.assign(Object.assign({}, param), {\n            state\n          });\n          // TODO(philipwalton): not sure why `any` is needed. It seems like\n          // this should work with `as WorkboxPluginCallbackParam[C]`.\n          return plugin[name](statefulParam);\n        };\n        yield statefulCallback;\n      }\n    }\n  }\n  /**\n   * Adds a promise to the\n   * [extend lifetime promises]{@link https://w3c.github.io/ServiceWorker/#extendableevent-extend-lifetime-promises}\n   * of the event event associated with the request being handled (usually a\n   * `FetchEvent`).\n   *\n   * Note: you can await\n   * {@link workbox-strategies.StrategyHandler~doneWaiting}\n   * to know when all added promises have settled.\n   *\n   * @param {Promise} promise A promise to add to the extend lifetime promises\n   *     of the event that triggered the request.\n   */\n  waitUntil(promise) {\n    this._extendLifetimePromises.push(promise);\n    return promise;\n  }\n  /**\n   * Returns a promise that resolves once all promises passed to\n   * {@link workbox-strategies.StrategyHandler~waitUntil}\n   * have settled.\n   *\n   * Note: any work done after `doneWaiting()` settles should be manually\n   * passed to an event's `waitUntil()` method (not this handler's\n   * `waitUntil()` method), otherwise the service worker thread my be killed\n   * prior to your work completing.\n   */\n  async doneWaiting() {\n    let promise;\n    while (promise = this._extendLifetimePromises.shift()) {\n      await promise;\n    }\n  }\n  /**\n   * Stops running the strategy and immediately resolves any pending\n   * `waitUntil()` promises.\n   */\n  destroy() {\n    this._handlerDeferred.resolve(null);\n  }\n  /**\n   * This method will call cacheWillUpdate on the available plugins (or use\n   * status === 200) to determine if the Response is safe and valid to cache.\n   *\n   * @param {Request} options.request\n   * @param {Response} options.response\n   * @return {Promise<Response|undefined>}\n   *\n   * @private\n   */\n  async _ensureResponseSafeToCache(response) {\n    let responseToCache = response;\n    let pluginsUsed = false;\n    for (const callback of this.iterateCallbacks('cacheWillUpdate')) {\n      responseToCache = (await callback({\n        request: this.request,\n        response: responseToCache,\n        event: this.event\n      })) || undefined;\n      pluginsUsed = true;\n      if (!responseToCache) {\n        break;\n      }\n    }\n    if (!pluginsUsed) {\n      if (responseToCache && responseToCache.status !== 200) {\n        responseToCache = undefined;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        if (responseToCache) {\n          if (responseToCache.status !== 200) {\n            if (responseToCache.status === 0) {\n              logger.warn(`The response for '${this.request.url}' ` + `is an opaque response. The caching strategy that you're ` + `using will not cache opaque responses by default.`);\n            } else {\n              logger.debug(`The response for '${this.request.url}' ` + `returned a status code of '${response.status}' and won't ` + `be cached as a result.`);\n            }\n          }\n        }\n      }\n    }\n    return responseToCache;\n  }\n}\nexport { StrategyHandler };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { logger } from '../_private/logger.js';\nimport { quotaErrorCallbacks } from '../models/quotaErrorCallbacks.js';\nimport '../_version.js';\n/**\n * Runs all of the callback functions, one at a time sequentially, in the order\n * in which they were registered.\n *\n * @memberof workbox-core\n * @private\n */\nasync function executeQuotaErrorCallbacks() {\n  if (process.env.NODE_ENV !== 'production') {\n    logger.log(`About to run ${quotaErrorCallbacks.size} ` + `callbacks to clean up caches.`);\n  }\n  for (const callback of quotaErrorCallbacks) {\n    await callback();\n    if (process.env.NODE_ENV !== 'production') {\n      logger.log(callback, 'is complete.');\n    }\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    logger.log('Finished running callbacks.');\n  }\n}\nexport { executeQuotaErrorCallbacks };","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { StrategyHandler } from './StrategyHandler.js';\nimport './_version.js';\n/**\n * An abstract base class that all other strategy classes must extend from:\n *\n * @memberof workbox-strategies\n */\nclass Strategy {\n  /**\n   * Creates a new instance of the strategy and sets all documented option\n   * properties as public instance properties.\n   *\n   * Note: if a custom strategy class extends the base Strategy class and does\n   * not need more than these properties, it does not need to define its own\n   * constructor.\n   *\n   * @param {Object} [options]\n   * @param {string} [options.cacheName] Cache name to store and retrieve\n   * requests. Defaults to the cache names provided by\n   * {@link workbox-core.cacheNames}.\n   * @param {Array<Object>} [options.plugins] [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n   * to use in conjunction with this caching strategy.\n   * @param {Object} [options.fetchOptions] Values passed along to the\n   * [`init`](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters)\n   * of [non-navigation](https://github.com/GoogleChrome/workbox/issues/1796)\n   * `fetch()` requests made by this strategy.\n   * @param {Object} [options.matchOptions] The\n   * [`CacheQueryOptions`]{@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions}\n   * for any `cache.match()` or `cache.put()` calls made by this strategy.\n   */\n  constructor(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    /**\n     * Cache name to store and retrieve\n     * requests. Defaults to the cache names provided by\n     * {@link workbox-core.cacheNames}.\n     *\n     * @type {string}\n     */\n    this.cacheName = cacheNames.getRuntimeName(options.cacheName);\n    /**\n     * The list\n     * [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n     * used by this strategy.\n     *\n     * @type {Array<Object>}\n     */\n    this.plugins = options.plugins || [];\n    /**\n     * Values passed along to the\n     * [`init`]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters}\n     * of all fetch() requests made by this strategy.\n     *\n     * @type {Object}\n     */\n    this.fetchOptions = options.fetchOptions;\n    /**\n     * The\n     * [`CacheQueryOptions`]{@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions}\n     * for any `cache.match()` or `cache.put()` calls made by this strategy.\n     *\n     * @type {Object}\n     */\n    this.matchOptions = options.matchOptions;\n  }\n  /**\n   * Perform a request strategy and returns a `Promise` that will resolve with\n   * a `Response`, invoking all relevant plugin callbacks.\n   *\n   * When a strategy instance is registered with a Workbox\n   * {@link workbox-routing.Route}, this method is automatically\n   * called when the route matches.\n   *\n   * Alternatively, this method can be used in a standalone `FetchEvent`\n   * listener by passing it to `event.respondWith()`.\n   *\n   * @param {FetchEvent|Object} options A `FetchEvent` or an object with the\n   *     properties listed below.\n   * @param {Request|string} options.request A request to run this strategy for.\n   * @param {ExtendableEvent} options.event The event associated with the\n   *     request.\n   * @param {URL} [options.url]\n   * @param {*} [options.params]\n   */\n  handle(options) {\n    const [responseDone] = this.handleAll(options);\n    return responseDone;\n  }\n  /**\n   * Similar to {@link workbox-strategies.Strategy~handle}, but\n   * instead of just returning a `Promise` that resolves to a `Response` it\n   * it will return an tuple of `[response, done]` promises, where the former\n   * (`response`) is equivalent to what `handle()` returns, and the latter is a\n   * Promise that will resolve once any promises that were added to\n   * `event.waitUntil()` as part of performing the strategy have completed.\n   *\n   * You can await the `done` promise to ensure any extra work performed by\n   * the strategy (usually caching responses) completes successfully.\n   *\n   * @param {FetchEvent|Object} options A `FetchEvent` or an object with the\n   *     properties listed below.\n   * @param {Request|string} options.request A request to run this strategy for.\n   * @param {ExtendableEvent} options.event The event associated with the\n   *     request.\n   * @param {URL} [options.url]\n   * @param {*} [options.params]\n   * @return {Array<Promise>} A tuple of [response, done]\n   *     promises that can be used to determine when the response resolves as\n   *     well as when the handler has completed all its work.\n   */\n  handleAll(options) {\n    // Allow for flexible options to be passed.\n    if (options instanceof FetchEvent) {\n      options = {\n        event: options,\n        request: options.request\n      };\n    }\n    const event = options.event;\n    const request = typeof options.request === 'string' ? new Request(options.request) : options.request;\n    const params = 'params' in options ? options.params : undefined;\n    const handler = new StrategyHandler(this, {\n      event,\n      request,\n      params\n    });\n    const responseDone = this._getResponse(handler, request, event);\n    const handlerDone = this._awaitComplete(responseDone, handler, request, event);\n    // Return an array of promises, suitable for use with Promise.all().\n    return [responseDone, handlerDone];\n  }\n  async _getResponse(handler, request, event) {\n    await handler.runCallbacks('handlerWillStart', {\n      event,\n      request\n    });\n    let response = undefined;\n    try {\n      response = await this._handle(request, handler);\n      // The \"official\" Strategy subclasses all throw this error automatically,\n      // but in case a third-party Strategy doesn't, ensure that we have a\n      // consistent failure when there's no response or an error response.\n      if (!response || response.type === 'error') {\n        throw new WorkboxError('no-response', {\n          url: request.url\n        });\n      }\n    } catch (error) {\n      if (error instanceof Error) {\n        for (const callback of handler.iterateCallbacks('handlerDidError')) {\n          response = await callback({\n            error,\n            event,\n            request\n          });\n          if (response) {\n            break;\n          }\n        }\n      }\n      if (!response) {\n        throw error;\n      } else if (process.env.NODE_ENV !== 'production') {\n        logger.log(`While responding to '${getFriendlyURL(request.url)}', ` + `an ${error instanceof Error ? error.toString() : ''} error occurred. Using a fallback response provided by ` + `a handlerDidError plugin.`);\n      }\n    }\n    for (const callback of handler.iterateCallbacks('handlerWillRespond')) {\n      response = await callback({\n        event,\n        request,\n        response\n      });\n    }\n    return response;\n  }\n  async _awaitComplete(responseDone, handler, request, event) {\n    let response;\n    let error;\n    try {\n      response = await responseDone;\n    } catch (error) {\n      // Ignore errors, as response errors should be caught via the `response`\n      // promise above. The `done` promise will only throw for errors in\n      // promises passed to `handler.waitUntil()`.\n    }\n    try {\n      await handler.runCallbacks('handlerDidRespond', {\n        event,\n        request,\n        response\n      });\n      await handler.doneWaiting();\n    } catch (waitUntilError) {\n      if (waitUntilError instanceof Error) {\n        error = waitUntilError;\n      }\n    }\n    await handler.runCallbacks('handlerDidComplete', {\n      event,\n      request,\n      response,\n      error: error\n    });\n    handler.destroy();\n    if (error) {\n      throw error;\n    }\n  }\n}\nexport { Strategy };\n/**\n * Classes extending the `Strategy` based class should implement this method,\n * and leverage the {@link workbox-strategies.StrategyHandler}\n * arg to perform all fetching and cache logic, which will ensure all relevant\n * cache, cache options, fetch options and plugins are used (per the current\n * strategy instance).\n *\n * @name _handle\n * @instance\n * @abstract\n * @function\n * @param {Request} request\n * @param {workbox-strategies.StrategyHandler} handler\n * @return {Promise<Response>}\n *\n * @memberof workbox-strategies.Strategy\n */","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { copyResponse } from 'workbox-core/copyResponse.js';\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { Strategy } from 'workbox-strategies/Strategy.js';\nimport './_version.js';\n/**\n * A {@link workbox-strategies.Strategy} implementation\n * specifically designed to work with\n * {@link workbox-precaching.PrecacheController}\n * to both cache and fetch precached assets.\n *\n * Note: an instance of this class is created automatically when creating a\n * `PrecacheController`; it's generally not necessary to create this yourself.\n *\n * @extends workbox-strategies.Strategy\n * @memberof workbox-precaching\n */\nclass PrecacheStrategy extends Strategy {\n  /**\n   *\n   * @param {Object} [options]\n   * @param {string} [options.cacheName] Cache name to store and retrieve\n   * requests. Defaults to the cache names provided by\n   * {@link workbox-core.cacheNames}.\n   * @param {Array<Object>} [options.plugins] {@link https://developers.google.com/web/tools/workbox/guides/using-plugins|Plugins}\n   * to use in conjunction with this caching strategy.\n   * @param {Object} [options.fetchOptions] Values passed along to the\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters|init}\n   * of all fetch() requests made by this strategy.\n   * @param {Object} [options.matchOptions] The\n   * {@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions|CacheQueryOptions}\n   * for any `cache.match()` or `cache.put()` calls made by this strategy.\n   * @param {boolean} [options.fallbackToNetwork=true] Whether to attempt to\n   * get the response from the network if there's a precache miss.\n   */\n  constructor(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    options.cacheName = cacheNames.getPrecacheName(options.cacheName);\n    super(options);\n    this._fallbackToNetwork = options.fallbackToNetwork === false ? false : true;\n    // Redirected responses cannot be used to satisfy a navigation request, so\n    // any redirected response must be \"copied\" rather than cloned, so the new\n    // response doesn't contain the `redirected` flag. See:\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=669363&desc=2#c1\n    this.plugins.push(PrecacheStrategy.copyRedirectedCacheableResponsesPlugin);\n  }\n  /**\n   * @private\n   * @param {Request|string} request A request to run this strategy for.\n   * @param {workbox-strategies.StrategyHandler} handler The event that\n   *     triggered the request.\n   * @return {Promise<Response>}\n   */\n  async _handle(request, handler) {\n    const response = await handler.cacheMatch(request);\n    if (response) {\n      return response;\n    }\n    // If this is an `install` event for an entry that isn't already cached,\n    // then populate the cache.\n    if (handler.event && handler.event.type === 'install') {\n      return await this._handleInstall(request, handler);\n    }\n    // Getting here means something went wrong. An entry that should have been\n    // precached wasn't found in the cache.\n    return await this._handleFetch(request, handler);\n  }\n  async _handleFetch(request, handler) {\n    let response;\n    const params = handler.params || {};\n    // Fall back to the network if we're configured to do so.\n    if (this._fallbackToNetwork) {\n      if (process.env.NODE_ENV !== 'production') {\n        logger.warn(`The precached response for ` + `${getFriendlyURL(request.url)} in ${this.cacheName} was not ` + `found. Falling back to the network.`);\n      }\n      const integrityInManifest = params.integrity;\n      const integrityInRequest = request.integrity;\n      const noIntegrityConflict = !integrityInRequest || integrityInRequest === integrityInManifest;\n      // Do not add integrity if the original request is no-cors\n      // See https://github.com/GoogleChrome/workbox/issues/3096\n      response = await handler.fetch(new Request(request, {\n        integrity: request.mode !== 'no-cors' ? integrityInRequest || integrityInManifest : undefined\n      }));\n      // It's only \"safe\" to repair the cache if we're using SRI to guarantee\n      // that the response matches the precache manifest's expectations,\n      // and there's either a) no integrity property in the incoming request\n      // or b) there is an integrity, and it matches the precache manifest.\n      // See https://github.com/GoogleChrome/workbox/issues/2858\n      // Also if the original request users no-cors we don't use integrity.\n      // See https://github.com/GoogleChrome/workbox/issues/3096\n      if (integrityInManifest && noIntegrityConflict && request.mode !== 'no-cors') {\n        this._useDefaultCacheabilityPluginIfNeeded();\n        const wasCached = await handler.cachePut(request, response.clone());\n        if (process.env.NODE_ENV !== 'production') {\n          if (wasCached) {\n            logger.log(`A response for ${getFriendlyURL(request.url)} ` + `was used to \"repair\" the precache.`);\n          }\n        }\n      }\n    } else {\n      // This shouldn't normally happen, but there are edge cases:\n      // https://github.com/GoogleChrome/workbox/issues/1441\n      throw new WorkboxError('missing-precache-entry', {\n        cacheName: this.cacheName,\n        url: request.url\n      });\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      const cacheKey = params.cacheKey || (await handler.getCacheKey(request, 'read'));\n      // Workbox is going to handle the route.\n      // print the routing details to the console.\n      logger.groupCollapsed(`Precaching is responding to: ` + getFriendlyURL(request.url));\n      logger.log(`Serving the precached url: ${getFriendlyURL(cacheKey instanceof Request ? cacheKey.url : cacheKey)}`);\n      logger.groupCollapsed(`View request details here.`);\n      logger.log(request);\n      logger.groupEnd();\n      logger.groupCollapsed(`View response details here.`);\n      logger.log(response);\n      logger.groupEnd();\n      logger.groupEnd();\n    }\n    return response;\n  }\n  async _handleInstall(request, handler) {\n    this._useDefaultCacheabilityPluginIfNeeded();\n    const response = await handler.fetch(request);\n    // Make sure we defer cachePut() until after we know the response\n    // should be cached; see https://github.com/GoogleChrome/workbox/issues/2737\n    const wasCached = await handler.cachePut(request, response.clone());\n    if (!wasCached) {\n      // Throwing here will lead to the `install` handler failing, which\n      // we want to do if *any* of the responses aren't safe to cache.\n      throw new WorkboxError('bad-precaching-response', {\n        url: request.url,\n        status: response.status\n      });\n    }\n    return response;\n  }\n  /**\n   * This method is complex, as there a number of things to account for:\n   *\n   * The `plugins` array can be set at construction, and/or it might be added to\n   * to at any time before the strategy is used.\n   *\n   * At the time the strategy is used (i.e. during an `install` event), there\n   * needs to be at least one plugin that implements `cacheWillUpdate` in the\n   * array, other than `copyRedirectedCacheableResponsesPlugin`.\n   *\n   * - If this method is called and there are no suitable `cacheWillUpdate`\n   * plugins, we need to add `defaultPrecacheCacheabilityPlugin`.\n   *\n   * - If this method is called and there is exactly one `cacheWillUpdate`, then\n   * we don't have to do anything (this might be a previously added\n   * `defaultPrecacheCacheabilityPlugin`, or it might be a custom plugin).\n   *\n   * - If this method is called and there is more than one `cacheWillUpdate`,\n   * then we need to check if one is `defaultPrecacheCacheabilityPlugin`. If so,\n   * we need to remove it. (This situation is unlikely, but it could happen if\n   * the strategy is used multiple times, the first without a `cacheWillUpdate`,\n   * and then later on after manually adding a custom `cacheWillUpdate`.)\n   *\n   * See https://github.com/GoogleChrome/workbox/issues/2737 for more context.\n   *\n   * @private\n   */\n  _useDefaultCacheabilityPluginIfNeeded() {\n    let defaultPluginIndex = null;\n    let cacheWillUpdatePluginCount = 0;\n    for (const [index, plugin] of this.plugins.entries()) {\n      // Ignore the copy redirected plugin when determining what to do.\n      if (plugin === PrecacheStrategy.copyRedirectedCacheableResponsesPlugin) {\n        continue;\n      }\n      // Save the default plugin's index, in case it needs to be removed.\n      if (plugin === PrecacheStrategy.defaultPrecacheCacheabilityPlugin) {\n        defaultPluginIndex = index;\n      }\n      if (plugin.cacheWillUpdate) {\n        cacheWillUpdatePluginCount++;\n      }\n    }\n    if (cacheWillUpdatePluginCount === 0) {\n      this.plugins.push(PrecacheStrategy.defaultPrecacheCacheabilityPlugin);\n    } else if (cacheWillUpdatePluginCount > 1 && defaultPluginIndex !== null) {\n      // Only remove the default plugin; multiple custom plugins are allowed.\n      this.plugins.splice(defaultPluginIndex, 1);\n    }\n    // Nothing needs to be done if cacheWillUpdatePluginCount is 1\n  }\n}\n\nPrecacheStrategy.defaultPrecacheCacheabilityPlugin = {\n  async cacheWillUpdate(_ref) {\n    let {\n      response\n    } = _ref;\n    if (!response || response.status >= 400) {\n      return null;\n    }\n    return response;\n  }\n};\nPrecacheStrategy.copyRedirectedCacheableResponsesPlugin = {\n  async cacheWillUpdate(_ref2) {\n    let {\n      response\n    } = _ref2;\n    return response.redirected ? await copyResponse(response) : response;\n  }\n};\nexport { PrecacheStrategy };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { cacheNames } from 'workbox-core/_private/cacheNames.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { waitUntil } from 'workbox-core/_private/waitUntil.js';\nimport { createCacheKey } from './utils/createCacheKey.js';\nimport { PrecacheInstallReportPlugin } from './utils/PrecacheInstallReportPlugin.js';\nimport { PrecacheCacheKeyPlugin } from './utils/PrecacheCacheKeyPlugin.js';\nimport { printCleanupDetails } from './utils/printCleanupDetails.js';\nimport { printInstallDetails } from './utils/printInstallDetails.js';\nimport { PrecacheStrategy } from './PrecacheStrategy.js';\nimport './_version.js';\n/**\n * Performs efficient precaching of assets.\n *\n * @memberof workbox-precaching\n */\nclass PrecacheController {\n  /**\n   * Create a new PrecacheController.\n   *\n   * @param {Object} [options]\n   * @param {string} [options.cacheName] The cache to use for precaching.\n   * @param {string} [options.plugins] Plugins to use when precaching as well\n   * as responding to fetch events for precached assets.\n   * @param {boolean} [options.fallbackToNetwork=true] Whether to attempt to\n   * get the response from the network if there's a precache miss.\n   */\n  constructor(_temp) {\n    let {\n      cacheName,\n      plugins = [],\n      fallbackToNetwork = true\n    } = _temp === void 0 ? {} : _temp;\n    this._urlsToCacheKeys = new Map();\n    this._urlsToCacheModes = new Map();\n    this._cacheKeysToIntegrities = new Map();\n    this._strategy = new PrecacheStrategy({\n      cacheName: cacheNames.getPrecacheName(cacheName),\n      plugins: [...plugins, new PrecacheCacheKeyPlugin({\n        precacheController: this\n      })],\n      fallbackToNetwork\n    });\n    // Bind the install and activate methods to the instance.\n    this.install = this.install.bind(this);\n    this.activate = this.activate.bind(this);\n  }\n  /**\n   * @type {workbox-precaching.PrecacheStrategy} The strategy created by this controller and\n   * used to cache assets and respond to fetch events.\n   */\n  get strategy() {\n    return this._strategy;\n  }\n  /**\n   * Adds items to the precache list, removing any duplicates and\n   * stores the files in the\n   * {@link workbox-core.cacheNames|\"precache cache\"} when the service\n   * worker installs.\n   *\n   * This method can be called multiple times.\n   *\n   * @param {Array<Object|string>} [entries=[]] Array of entries to precache.\n   */\n  precache(entries) {\n    this.addToCacheList(entries);\n    if (!this._installAndActiveListenersAdded) {\n      self.addEventListener('install', this.install);\n      self.addEventListener('activate', this.activate);\n      this._installAndActiveListenersAdded = true;\n    }\n  }\n  /**\n   * This method will add items to the precache list, removing duplicates\n   * and ensuring the information is valid.\n   *\n   * @param {Array<workbox-precaching.PrecacheController.PrecacheEntry|string>} entries\n   *     Array of entries to precache.\n   */\n  addToCacheList(entries) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isArray(entries, {\n        moduleName: 'workbox-precaching',\n        className: 'PrecacheController',\n        funcName: 'addToCacheList',\n        paramName: 'entries'\n      });\n    }\n    const urlsToWarnAbout = [];\n    for (const entry of entries) {\n      // See https://github.com/GoogleChrome/workbox/issues/2259\n      if (typeof entry === 'string') {\n        urlsToWarnAbout.push(entry);\n      } else if (entry && entry.revision === undefined) {\n        urlsToWarnAbout.push(entry.url);\n      }\n      const {\n        cacheKey,\n        url\n      } = createCacheKey(entry);\n      const cacheMode = typeof entry !== 'string' && entry.revision ? 'reload' : 'default';\n      if (this._urlsToCacheKeys.has(url) && this._urlsToCacheKeys.get(url) !== cacheKey) {\n        throw new WorkboxError('add-to-cache-list-conflicting-entries', {\n          firstEntry: this._urlsToCacheKeys.get(url),\n          secondEntry: cacheKey\n        });\n      }\n      if (typeof entry !== 'string' && entry.integrity) {\n        if (this._cacheKeysToIntegrities.has(cacheKey) && this._cacheKeysToIntegrities.get(cacheKey) !== entry.integrity) {\n          throw new WorkboxError('add-to-cache-list-conflicting-integrities', {\n            url\n          });\n        }\n        this._cacheKeysToIntegrities.set(cacheKey, entry.integrity);\n      }\n      this._urlsToCacheKeys.set(url, cacheKey);\n      this._urlsToCacheModes.set(url, cacheMode);\n      if (urlsToWarnAbout.length > 0) {\n        const warningMessage = `Workbox is precaching URLs without revision ` + `info: ${urlsToWarnAbout.join(', ')}\\nThis is generally NOT safe. ` + `Learn more at https://bit.ly/wb-precache`;\n        if (process.env.NODE_ENV === 'production') {\n          // Use console directly to display this warning without bloating\n          // bundle sizes by pulling in all of the logger codebase in prod.\n          console.warn(warningMessage);\n        } else {\n          logger.warn(warningMessage);\n        }\n      }\n    }\n  }\n  /**\n   * Precaches new and updated assets. Call this method from the service worker\n   * install event.\n   *\n   * Note: this method calls `event.waitUntil()` for you, so you do not need\n   * to call it yourself in your event handlers.\n   *\n   * @param {ExtendableEvent} event\n   * @return {Promise<workbox-precaching.InstallResult>}\n   */\n  install(event) {\n    // waitUntil returns Promise<any>\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return waitUntil(event, async () => {\n      const installReportPlugin = new PrecacheInstallReportPlugin();\n      this.strategy.plugins.push(installReportPlugin);\n      // Cache entries one at a time.\n      // See https://github.com/GoogleChrome/workbox/issues/2528\n      for (const [url, cacheKey] of this._urlsToCacheKeys) {\n        const integrity = this._cacheKeysToIntegrities.get(cacheKey);\n        const cacheMode = this._urlsToCacheModes.get(url);\n        const request = new Request(url, {\n          integrity,\n          cache: cacheMode,\n          credentials: 'same-origin'\n        });\n        await Promise.all(this.strategy.handleAll({\n          params: {\n            cacheKey\n          },\n          request,\n          event\n        }));\n      }\n      const {\n        updatedURLs,\n        notUpdatedURLs\n      } = installReportPlugin;\n      if (process.env.NODE_ENV !== 'production') {\n        printInstallDetails(updatedURLs, notUpdatedURLs);\n      }\n      return {\n        updatedURLs,\n        notUpdatedURLs\n      };\n    });\n  }\n  /**\n   * Deletes assets that are no longer present in the current precache manifest.\n   * Call this method from the service worker activate event.\n   *\n   * Note: this method calls `event.waitUntil()` for you, so you do not need\n   * to call it yourself in your event handlers.\n   *\n   * @param {ExtendableEvent} event\n   * @return {Promise<workbox-precaching.CleanupResult>}\n   */\n  activate(event) {\n    // waitUntil returns Promise<any>\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    return waitUntil(event, async () => {\n      const cache = await self.caches.open(this.strategy.cacheName);\n      const currentlyCachedRequests = await cache.keys();\n      const expectedCacheKeys = new Set(this._urlsToCacheKeys.values());\n      const deletedURLs = [];\n      for (const request of currentlyCachedRequests) {\n        if (!expectedCacheKeys.has(request.url)) {\n          await cache.delete(request);\n          deletedURLs.push(request.url);\n        }\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        printCleanupDetails(deletedURLs);\n      }\n      return {\n        deletedURLs\n      };\n    });\n  }\n  /**\n   * Returns a mapping of a precached URL to the corresponding cache key, taking\n   * into account the revision information for the URL.\n   *\n   * @return {Map<string, string>} A URL to cache key mapping.\n   */\n  getURLsToCacheKeys() {\n    return this._urlsToCacheKeys;\n  }\n  /**\n   * Returns a list of all the URLs that have been precached by the current\n   * service worker.\n   *\n   * @return {Array<string>} The precached URLs.\n   */\n  getCachedURLs() {\n    return [...this._urlsToCacheKeys.keys()];\n  }\n  /**\n   * Returns the cache key used for storing a given URL. If that URL is\n   * unversioned, like `/index.html', then the cache key will be the original\n   * URL with a search parameter appended to it.\n   *\n   * @param {string} url A URL whose cache key you want to look up.\n   * @return {string} The versioned URL that corresponds to a cache key\n   * for the original URL, or undefined if that URL isn't precached.\n   */\n  getCacheKeyForURL(url) {\n    const urlObject = new URL(url, location.href);\n    return this._urlsToCacheKeys.get(urlObject.href);\n  }\n  /**\n   * @param {string} url A cache key whose SRI you want to look up.\n   * @return {string} The subresource integrity associated with the cache key,\n   * or undefined if it's not set.\n   */\n  getIntegrityForCacheKey(cacheKey) {\n    return this._cacheKeysToIntegrities.get(cacheKey);\n  }\n  /**\n   * This acts as a drop-in replacement for\n   * [`cache.match()`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/match)\n   * with the following differences:\n   *\n   * - It knows what the name of the precache is, and only checks in that cache.\n   * - It allows you to pass in an \"original\" URL without versioning parameters,\n   * and it will automatically look up the correct cache key for the currently\n   * active revision of that URL.\n   *\n   * E.g., `matchPrecache('index.html')` will find the correct precached\n   * response for the currently active service worker, even if the actual cache\n   * key is `'/index.html?__WB_REVISION__=1234abcd'`.\n   *\n   * @param {string|Request} request The key (without revisioning parameters)\n   * to look up in the precache.\n   * @return {Promise<Response|undefined>}\n   */\n  async matchPrecache(request) {\n    const url = request instanceof Request ? request.url : request;\n    const cacheKey = this.getCacheKeyForURL(url);\n    if (cacheKey) {\n      const cache = await self.caches.open(this.strategy.cacheName);\n      return cache.match(cacheKey);\n    }\n    return undefined;\n  }\n  /**\n   * Returns a function that looks up `url` in the precache (taking into\n   * account revision information), and returns the corresponding `Response`.\n   *\n   * @param {string} url The precached URL which will be used to lookup the\n   * `Response`.\n   * @return {workbox-routing~handlerCallback}\n   */\n  createHandlerBoundToURL(url) {\n    const cacheKey = this.getCacheKeyForURL(url);\n    if (!cacheKey) {\n      throw new WorkboxError('non-precached-url', {\n        url\n      });\n    }\n    return options => {\n      options.request = new Request(url);\n      options.params = Object.assign({\n        cacheKey\n      }, options.params);\n      return this.strategy.handle(options);\n    };\n  }\n}\nexport { PrecacheController };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { PrecacheController } from '../PrecacheController.js';\nimport '../_version.js';\nlet precacheController;\n/**\n * @return {PrecacheController}\n * @private\n */\nexport const getOrCreatePrecacheController = () => {\n  if (!precacheController) {\n    precacheController = new PrecacheController();\n  }\n  return precacheController;\n};","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * The default HTTP method, 'GET', used when there's no specific method\n * configured for a route.\n *\n * @type {string}\n *\n * @private\n */\nexport const defaultMethod = 'GET';\n/**\n * The list of valid HTTP methods associated with requests that could be routed.\n *\n * @type {Array<string>}\n *\n * @private\n */\nexport const validMethods = ['DELETE', 'GET', 'HEAD', 'PATCH', 'POST', 'PUT'];","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport '../_version.js';\n/**\n * @param {function()|Object} handler Either a function, or an object with a\n * 'handle' method.\n * @return {Object} An object with a handle method.\n *\n * @private\n */\nexport const normalizeHandler = handler => {\n  if (handler && typeof handler === 'object') {\n    if (process.env.NODE_ENV !== 'production') {\n      assert.hasMethod(handler, 'handle', {\n        moduleName: 'workbox-routing',\n        className: 'Route',\n        funcName: 'constructor',\n        paramName: 'handler'\n      });\n    }\n    return handler;\n  } else {\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isType(handler, 'function', {\n        moduleName: 'workbox-routing',\n        className: 'Route',\n        funcName: 'constructor',\n        paramName: 'handler'\n      });\n    }\n    return {\n      handle: handler\n    };\n  }\n};","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { defaultMethod, validMethods } from './utils/constants.js';\nimport { normalizeHandler } from './utils/normalizeHandler.js';\nimport './_version.js';\n/**\n * A `Route` consists of a pair of callback functions, \"match\" and \"handler\".\n * The \"match\" callback determine if a route should be used to \"handle\" a\n * request by returning a non-falsy value if it can. The \"handler\" callback\n * is called when there is a match and should return a Promise that resolves\n * to a `Response`.\n *\n * @memberof workbox-routing\n */\nclass Route {\n  /**\n   * Constructor for Route class.\n   *\n   * @param {workbox-routing~matchCallback} match\n   * A callback function that determines whether the route matches a given\n   * `fetch` event by returning a non-falsy value.\n   * @param {workbox-routing~handlerCallback} handler A callback\n   * function that returns a Promise resolving to a Response.\n   * @param {string} [method='GET'] The HTTP method to match the Route\n   * against.\n   */\n  constructor(match, handler, method) {\n    if (method === void 0) {\n      method = defaultMethod;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isType(match, 'function', {\n        moduleName: 'workbox-routing',\n        className: 'Route',\n        funcName: 'constructor',\n        paramName: 'match'\n      });\n      if (method) {\n        assert.isOneOf(method, validMethods, {\n          paramName: 'method'\n        });\n      }\n    }\n    // These values are referenced directly by Router so cannot be\n    // altered by minificaton.\n    this.handler = normalizeHandler(handler);\n    this.match = match;\n    this.method = method;\n  }\n  /**\n   *\n   * @param {workbox-routing-handlerCallback} handler A callback\n   * function that returns a Promise resolving to a Response\n   */\n  setCatchHandler(handler) {\n    this.catchHandler = normalizeHandler(handler);\n  }\n}\nexport { Route };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { Route } from './Route.js';\nimport './_version.js';\n/**\n * RegExpRoute makes it easy to create a regular expression based\n * {@link workbox-routing.Route}.\n *\n * For same-origin requests the RegExp only needs to match part of the URL. For\n * requests against third-party servers, you must define a RegExp that matches\n * the start of the URL.\n *\n * @memberof workbox-routing\n * @extends workbox-routing.Route\n */\nclass RegExpRoute extends Route {\n  /**\n   * If the regular expression contains\n   * [capture groups]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#grouping-back-references},\n   * the captured values will be passed to the\n   * {@link workbox-routing~handlerCallback} `params`\n   * argument.\n   *\n   * @param {RegExp} regExp The regular expression to match against URLs.\n   * @param {workbox-routing~handlerCallback} handler A callback\n   * function that returns a Promise resulting in a Response.\n   * @param {string} [method='GET'] The HTTP method to match the Route\n   * against.\n   */\n  constructor(regExp, handler, method) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isInstance(regExp, RegExp, {\n        moduleName: 'workbox-routing',\n        className: 'RegExpRoute',\n        funcName: 'constructor',\n        paramName: 'pattern'\n      });\n    }\n    const match = _ref => {\n      let {\n        url\n      } = _ref;\n      const result = regExp.exec(url.href);\n      // Return immediately if there's no match.\n      if (!result) {\n        return;\n      }\n      // Require that the match start at the first character in the URL string\n      // if it's a cross-origin request.\n      // See https://github.com/GoogleChrome/workbox/issues/281 for the context\n      // behind this behavior.\n      if (url.origin !== location.origin && result.index !== 0) {\n        if (process.env.NODE_ENV !== 'production') {\n          logger.debug(`The regular expression '${regExp.toString()}' only partially matched ` + `against the cross-origin URL '${url.toString()}'. RegExpRoute's will only ` + `handle cross-origin requests if they match the entire URL.`);\n        }\n        return;\n      }\n      // If the route matches, but there aren't any capture groups defined, then\n      // this will return [], which is truthy and therefore sufficient to\n      // indicate a match.\n      // If there are capture groups, then it will return their values.\n      return result.slice(1);\n    };\n    super(match, handler, method);\n  }\n}\nexport { RegExpRoute };","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { defaultMethod } from './utils/constants.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { normalizeHandler } from './utils/normalizeHandler.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport './_version.js';\n/**\n * The Router can be used to process a `FetchEvent` using one or more\n * {@link workbox-routing.Route}, responding with a `Response` if\n * a matching route exists.\n *\n * If no route matches a given a request, the Router will use a \"default\"\n * handler if one is defined.\n *\n * Should the matching Route throw an error, the Router will use a \"catch\"\n * handler if one is defined to gracefully deal with issues and respond with a\n * Request.\n *\n * If a request matches multiple routes, the **earliest** registered route will\n * be used to respond to the request.\n *\n * @memberof workbox-routing\n */\nclass Router {\n  /**\n   * Initializes a new Router.\n   */\n  constructor() {\n    this._routes = new Map();\n    this._defaultHandlerMap = new Map();\n  }\n  /**\n   * @return {Map<string, Array<workbox-routing.Route>>} routes A `Map` of HTTP\n   * method name ('GET', etc.) to an array of all the corresponding `Route`\n   * instances that are registered.\n   */\n  get routes() {\n    return this._routes;\n  }\n  /**\n   * Adds a fetch event listener to respond to events when a route matches\n   * the event's request.\n   */\n  addFetchListener() {\n    // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n    self.addEventListener('fetch', event => {\n      const {\n        request\n      } = event;\n      const responsePromise = this.handleRequest({\n        request,\n        event\n      });\n      if (responsePromise) {\n        event.respondWith(responsePromise);\n      }\n    });\n  }\n  /**\n   * Adds a message event listener for URLs to cache from the window.\n   * This is useful to cache resources loaded on the page prior to when the\n   * service worker started controlling it.\n   *\n   * The format of the message data sent from the window should be as follows.\n   * Where the `urlsToCache` array may consist of URL strings or an array of\n   * URL string + `requestInit` object (the same as you'd pass to `fetch()`).\n   *\n   * ```\n   * {\n   *   type: 'CACHE_URLS',\n   *   payload: {\n   *     urlsToCache: [\n   *       './script1.js',\n   *       './script2.js',\n   *       ['./script3.js', {mode: 'no-cors'}],\n   *     ],\n   *   },\n   * }\n   * ```\n   */\n  addCacheListener() {\n    // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n    self.addEventListener('message', event => {\n      // event.data is type 'any'\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      if (event.data && event.data.type === 'CACHE_URLS') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        const {\n          payload\n        } = event.data;\n        if (process.env.NODE_ENV !== 'production') {\n          logger.debug(`Caching URLs from the window`, payload.urlsToCache);\n        }\n        const requestPromises = Promise.all(payload.urlsToCache.map(entry => {\n          if (typeof entry === 'string') {\n            entry = [entry];\n          }\n          const request = new Request(...entry);\n          return this.handleRequest({\n            request,\n            event\n          });\n          // TODO(philipwalton): TypeScript errors without this typecast for\n          // some reason (probably a bug). The real type here should work but\n          // doesn't: `Array<Promise<Response> | undefined>`.\n        })); // TypeScript\n        event.waitUntil(requestPromises);\n        // If a MessageChannel was used, reply to the message on success.\n        if (event.ports && event.ports[0]) {\n          void requestPromises.then(() => event.ports[0].postMessage(true));\n        }\n      }\n    });\n  }\n  /**\n   * Apply the routing rules to a FetchEvent object to get a Response from an\n   * appropriate Route's handler.\n   *\n   * @param {Object} options\n   * @param {Request} options.request The request to handle.\n   * @param {ExtendableEvent} options.event The event that triggered the\n   *     request.\n   * @return {Promise<Response>|undefined} A promise is returned if a\n   *     registered route can handle the request. If there is no matching\n   *     route and there's no `defaultHandler`, `undefined` is returned.\n   */\n  handleRequest(_ref) {\n    let {\n      request,\n      event\n    } = _ref;\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isInstance(request, Request, {\n        moduleName: 'workbox-routing',\n        className: 'Router',\n        funcName: 'handleRequest',\n        paramName: 'options.request'\n      });\n    }\n    const url = new URL(request.url, location.href);\n    if (!url.protocol.startsWith('http')) {\n      if (process.env.NODE_ENV !== 'production') {\n        logger.debug(`Workbox Router only supports URLs that start with 'http'.`);\n      }\n      return;\n    }\n    const sameOrigin = url.origin === location.origin;\n    const {\n      params,\n      route\n    } = this.findMatchingRoute({\n      event,\n      request,\n      sameOrigin,\n      url\n    });\n    let handler = route && route.handler;\n    const debugMessages = [];\n    if (process.env.NODE_ENV !== 'production') {\n      if (handler) {\n        debugMessages.push([`Found a route to handle this request:`, route]);\n        if (params) {\n          debugMessages.push([`Passing the following params to the route's handler:`, params]);\n        }\n      }\n    }\n    // If we don't have a handler because there was no matching route, then\n    // fall back to defaultHandler if that's defined.\n    const method = request.method;\n    if (!handler && this._defaultHandlerMap.has(method)) {\n      if (process.env.NODE_ENV !== 'production') {\n        debugMessages.push(`Failed to find a matching route. Falling ` + `back to the default handler for ${method}.`);\n      }\n      handler = this._defaultHandlerMap.get(method);\n    }\n    if (!handler) {\n      if (process.env.NODE_ENV !== 'production') {\n        // No handler so Workbox will do nothing. If logs is set of debug\n        // i.e. verbose, we should print out this information.\n        logger.debug(`No route found for: ${getFriendlyURL(url)}`);\n      }\n      return;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      // We have a handler, meaning Workbox is going to handle the route.\n      // print the routing details to the console.\n      logger.groupCollapsed(`Router is responding to: ${getFriendlyURL(url)}`);\n      debugMessages.forEach(msg => {\n        if (Array.isArray(msg)) {\n          logger.log(...msg);\n        } else {\n          logger.log(msg);\n        }\n      });\n      logger.groupEnd();\n    }\n    // Wrap in try and catch in case the handle method throws a synchronous\n    // error. It should still callback to the catch handler.\n    let responsePromise;\n    try {\n      responsePromise = handler.handle({\n        url,\n        request,\n        event,\n        params\n      });\n    } catch (err) {\n      responsePromise = Promise.reject(err);\n    }\n    // Get route's catch handler, if it exists\n    const catchHandler = route && route.catchHandler;\n    if (responsePromise instanceof Promise && (this._catchHandler || catchHandler)) {\n      responsePromise = responsePromise.catch(async err => {\n        // If there's a route catch handler, process that first\n        if (catchHandler) {\n          if (process.env.NODE_ENV !== 'production') {\n            // Still include URL here as it will be async from the console group\n            // and may not make sense without the URL\n            logger.groupCollapsed(`Error thrown when responding to: ` + ` ${getFriendlyURL(url)}. Falling back to route's Catch Handler.`);\n            logger.error(`Error thrown by:`, route);\n            logger.error(err);\n            logger.groupEnd();\n          }\n          try {\n            return await catchHandler.handle({\n              url,\n              request,\n              event,\n              params\n            });\n          } catch (catchErr) {\n            if (catchErr instanceof Error) {\n              err = catchErr;\n            }\n          }\n        }\n        if (this._catchHandler) {\n          if (process.env.NODE_ENV !== 'production') {\n            // Still include URL here as it will be async from the console group\n            // and may not make sense without the URL\n            logger.groupCollapsed(`Error thrown when responding to: ` + ` ${getFriendlyURL(url)}. Falling back to global Catch Handler.`);\n            logger.error(`Error thrown by:`, route);\n            logger.error(err);\n            logger.groupEnd();\n          }\n          return this._catchHandler.handle({\n            url,\n            request,\n            event\n          });\n        }\n        throw err;\n      });\n    }\n    return responsePromise;\n  }\n  /**\n   * Checks a request and URL (and optionally an event) against the list of\n   * registered routes, and if there's a match, returns the corresponding\n   * route along with any params generated by the match.\n   *\n   * @param {Object} options\n   * @param {URL} options.url\n   * @param {boolean} options.sameOrigin The result of comparing `url.origin`\n   *     against the current origin.\n   * @param {Request} options.request The request to match.\n   * @param {Event} options.event The corresponding event.\n   * @return {Object} An object with `route` and `params` properties.\n   *     They are populated if a matching route was found or `undefined`\n   *     otherwise.\n   */\n  findMatchingRoute(_ref2) {\n    let {\n      url,\n      sameOrigin,\n      request,\n      event\n    } = _ref2;\n    const routes = this._routes.get(request.method) || [];\n    for (const route of routes) {\n      let params;\n      // route.match returns type any, not possible to change right now.\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const matchResult = route.match({\n        url,\n        sameOrigin,\n        request,\n        event\n      });\n      if (matchResult) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Warn developers that using an async matchCallback is almost always\n          // not the right thing to do.\n          if (matchResult instanceof Promise) {\n            logger.warn(`While routing ${getFriendlyURL(url)}, an async ` + `matchCallback function was used. Please convert the ` + `following route to use a synchronous matchCallback function:`, route);\n          }\n        }\n        // See https://github.com/GoogleChrome/workbox/issues/2079\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        params = matchResult;\n        if (Array.isArray(params) && params.length === 0) {\n          // Instead of passing an empty array in as params, use undefined.\n          params = undefined;\n        } else if (matchResult.constructor === Object &&\n        // eslint-disable-line\n        Object.keys(matchResult).length === 0) {\n          // Instead of passing an empty object in as params, use undefined.\n          params = undefined;\n        } else if (typeof matchResult === 'boolean') {\n          // For the boolean value true (rather than just something truth-y),\n          // don't set params.\n          // See https://github.com/GoogleChrome/workbox/pull/2134#issuecomment-513924353\n          params = undefined;\n        }\n        // Return early if have a match.\n        return {\n          route,\n          params\n        };\n      }\n    }\n    // If no match was found above, return and empty object.\n    return {};\n  }\n  /**\n   * Define a default `handler` that's called when no routes explicitly\n   * match the incoming request.\n   *\n   * Each HTTP method ('GET', 'POST', etc.) gets its own default handler.\n   *\n   * Without a default handler, unmatched requests will go against the\n   * network as if there were no service worker present.\n   *\n   * @param {workbox-routing~handlerCallback} handler A callback\n   * function that returns a Promise resulting in a Response.\n   * @param {string} [method='GET'] The HTTP method to associate with this\n   * default handler. Each method has its own default.\n   */\n  setDefaultHandler(handler, method) {\n    if (method === void 0) {\n      method = defaultMethod;\n    }\n    this._defaultHandlerMap.set(method, normalizeHandler(handler));\n  }\n  /**\n   * If a Route throws an error while handling a request, this `handler`\n   * will be called and given a chance to provide a response.\n   *\n   * @param {workbox-routing~handlerCallback} handler A callback\n   * function that returns a Promise resulting in a Response.\n   */\n  setCatchHandler(handler) {\n    this._catchHandler = normalizeHandler(handler);\n  }\n  /**\n   * Registers a route with the router.\n   *\n   * @param {workbox-routing.Route} route The route to register.\n   */\n  registerRoute(route) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isType(route, 'object', {\n        moduleName: 'workbox-routing',\n        className: 'Router',\n        funcName: 'registerRoute',\n        paramName: 'route'\n      });\n      assert.hasMethod(route, 'match', {\n        moduleName: 'workbox-routing',\n        className: 'Router',\n        funcName: 'registerRoute',\n        paramName: 'route'\n      });\n      assert.isType(route.handler, 'object', {\n        moduleName: 'workbox-routing',\n        className: 'Router',\n        funcName: 'registerRoute',\n        paramName: 'route'\n      });\n      assert.hasMethod(route.handler, 'handle', {\n        moduleName: 'workbox-routing',\n        className: 'Router',\n        funcName: 'registerRoute',\n        paramName: 'route.handler'\n      });\n      assert.isType(route.method, 'string', {\n        moduleName: 'workbox-routing',\n        className: 'Router',\n        funcName: 'registerRoute',\n        paramName: 'route.method'\n      });\n    }\n    if (!this._routes.has(route.method)) {\n      this._routes.set(route.method, []);\n    }\n    // Give precedence to all of the earlier routes by adding this additional\n    // route to the end of the array.\n    this._routes.get(route.method).push(route);\n  }\n  /**\n   * Unregisters a route with the router.\n   *\n   * @param {workbox-routing.Route} route The route to unregister.\n   */\n  unregisterRoute(route) {\n    if (!this._routes.has(route.method)) {\n      throw new WorkboxError('unregister-route-but-not-found-with-method', {\n        method: route.method\n      });\n    }\n    const routeIndex = this._routes.get(route.method).indexOf(route);\n    if (routeIndex > -1) {\n      this._routes.get(route.method).splice(routeIndex, 1);\n    } else {\n      throw new WorkboxError('unregister-route-route-not-registered');\n    }\n  }\n}\nexport { Router };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { Router } from '../Router.js';\nimport '../_version.js';\nlet defaultRouter;\n/**\n * Creates a new, singleton Router instance if one does not exist. If one\n * does already exist, that instance is returned.\n *\n * @private\n * @return {Router}\n */\nexport const getOrCreateDefaultRouter = () => {\n  if (!defaultRouter) {\n    defaultRouter = new Router();\n    // The helpers that use the default Router assume these listeners exist.\n    defaultRouter.addFetchListener();\n    defaultRouter.addCacheListener();\n  }\n  return defaultRouter;\n};","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { Route } from './Route.js';\nimport { RegExpRoute } from './RegExpRoute.js';\nimport { getOrCreateDefaultRouter } from './utils/getOrCreateDefaultRouter.js';\nimport './_version.js';\n/**\n * Easily register a RegExp, string, or function with a caching\n * strategy to a singleton Router instance.\n *\n * This method will generate a Route for you if needed and\n * call {@link workbox-routing.Router#registerRoute}.\n *\n * @param {RegExp|string|workbox-routing.Route~matchCallback|workbox-routing.Route} capture\n * If the capture param is a `Route`, all other arguments will be ignored.\n * @param {workbox-routing~handlerCallback} [handler] A callback\n * function that returns a Promise resulting in a Response. This parameter\n * is required if `capture` is not a `Route` object.\n * @param {string} [method='GET'] The HTTP method to match the Route\n * against.\n * @return {workbox-routing.Route} The generated `Route`.\n *\n * @memberof workbox-routing\n */\nfunction registerRoute(capture, handler, method) {\n  let route;\n  if (typeof capture === 'string') {\n    const captureUrl = new URL(capture, location.href);\n    if (process.env.NODE_ENV !== 'production') {\n      if (!(capture.startsWith('/') || capture.startsWith('http'))) {\n        throw new WorkboxError('invalid-string', {\n          moduleName: 'workbox-routing',\n          funcName: 'registerRoute',\n          paramName: 'capture'\n        });\n      }\n      // We want to check if Express-style wildcards are in the pathname only.\n      // TODO: Remove this log message in v4.\n      const valueToCheck = capture.startsWith('http') ? captureUrl.pathname : capture;\n      // See https://github.com/pillarjs/path-to-regexp#parameters\n      const wildcards = '[*:?+]';\n      if (new RegExp(`${wildcards}`).exec(valueToCheck)) {\n        logger.debug(`The '$capture' parameter contains an Express-style wildcard ` + `character (${wildcards}). Strings are now always interpreted as ` + `exact matches; use a RegExp for partial or wildcard matches.`);\n      }\n    }\n    const matchCallback = _ref => {\n      let {\n        url\n      } = _ref;\n      if (process.env.NODE_ENV !== 'production') {\n        if (url.pathname === captureUrl.pathname && url.origin !== captureUrl.origin) {\n          logger.debug(`${capture} only partially matches the cross-origin URL ` + `${url.toString()}. This route will only handle cross-origin requests ` + `if they match the entire URL.`);\n        }\n      }\n      return url.href === captureUrl.href;\n    };\n    // If `capture` is a string then `handler` and `method` must be present.\n    route = new Route(matchCallback, handler, method);\n  } else if (capture instanceof RegExp) {\n    // If `capture` is a `RegExp` then `handler` and `method` must be present.\n    route = new RegExpRoute(capture, handler, method);\n  } else if (typeof capture === 'function') {\n    // If `capture` is a function then `handler` and `method` must be present.\n    route = new Route(capture, handler, method);\n  } else if (capture instanceof Route) {\n    route = capture;\n  } else {\n    throw new WorkboxError('unsupported-route-type', {\n      moduleName: 'workbox-routing',\n      funcName: 'registerRoute',\n      paramName: 'capture'\n    });\n  }\n  const defaultRouter = getOrCreateDefaultRouter();\n  defaultRouter.registerRoute(route);\n  return route;\n}\nexport { registerRoute };","/*\n  Copyright 2020 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { getFriendlyURL } from 'workbox-core/_private/getFriendlyURL.js';\nimport { Route } from 'workbox-routing/Route.js';\nimport { generateURLVariations } from './utils/generateURLVariations.js';\nimport './_version.js';\n/**\n * A subclass of {@link workbox-routing.Route} that takes a\n * {@link workbox-precaching.PrecacheController}\n * instance and uses it to match incoming requests and handle fetching\n * responses from the precache.\n *\n * @memberof workbox-precaching\n * @extends workbox-routing.Route\n */\nclass PrecacheRoute extends Route {\n  /**\n   * @param {PrecacheController} precacheController A `PrecacheController`\n   * instance used to both match requests and respond to fetch events.\n   * @param {Object} [options] Options to control how requests are matched\n   * against the list of precached URLs.\n   * @param {string} [options.directoryIndex=index.html] The `directoryIndex` will\n   * check cache entries for a URLs ending with '/' to see if there is a hit when\n   * appending the `directoryIndex` value.\n   * @param {Array<RegExp>} [options.ignoreURLParametersMatching=[/^utm_/, /^fbclid$/]] An\n   * array of regex's to remove search params when looking for a cache match.\n   * @param {boolean} [options.cleanURLs=true] The `cleanURLs` option will\n   * check the cache for the URL with a `.html` added to the end of the end.\n   * @param {workbox-precaching~urlManipulation} [options.urlManipulation]\n   * This is a function that should take a URL and return an array of\n   * alternative URLs that should be checked for precache matches.\n   */\n  constructor(precacheController, options) {\n    const match = _ref => {\n      let {\n        request\n      } = _ref;\n      const urlsToCacheKeys = precacheController.getURLsToCacheKeys();\n      for (const possibleURL of generateURLVariations(request.url, options)) {\n        const cacheKey = urlsToCacheKeys.get(possibleURL);\n        if (cacheKey) {\n          const integrity = precacheController.getIntegrityForCacheKey(cacheKey);\n          return {\n            cacheKey,\n            integrity\n          };\n        }\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        logger.debug(`Precaching did not find a match for ` + getFriendlyURL(request.url));\n      }\n      return;\n    };\n    super(match, precacheController.strategy);\n  }\n}\nexport { PrecacheRoute };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { removeIgnoredSearchParams } from './removeIgnoredSearchParams.js';\nimport '../_version.js';\n/**\n * Generator function that yields possible variations on the original URL to\n * check, one at a time.\n *\n * @param {string} url\n * @param {Object} options\n *\n * @private\n * @memberof workbox-precaching\n */\nexport function generateURLVariations(url, _temp) {\n  let {\n    ignoreURLParametersMatching = [/^utm_/, /^fbclid$/],\n    directoryIndex = 'index.html',\n    cleanURLs = true,\n    urlManipulation\n  } = _temp === void 0 ? {} : _temp;\n  return function* () {\n    const urlObject = new URL(url, location.href);\n    urlObject.hash = '';\n    yield urlObject.href;\n    const urlWithoutIgnoredParams = removeIgnoredSearchParams(urlObject, ignoreURLParametersMatching);\n    yield urlWithoutIgnoredParams.href;\n    if (directoryIndex && urlWithoutIgnoredParams.pathname.endsWith('/')) {\n      const directoryURL = new URL(urlWithoutIgnoredParams.href);\n      directoryURL.pathname += directoryIndex;\n      yield directoryURL.href;\n    }\n    if (cleanURLs) {\n      const cleanURL = new URL(urlWithoutIgnoredParams.href);\n      cleanURL.pathname += '.html';\n      yield cleanURL.href;\n    }\n    if (urlManipulation) {\n      const additionalURLs = urlManipulation({\n        url: urlObject\n      });\n      for (const urlToAttempt of additionalURLs) {\n        yield urlToAttempt.href;\n      }\n    }\n  }();\n}","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport '../_version.js';\n/**\n * Removes any URL search parameters that should be ignored.\n *\n * @param {URL} urlObject The original URL.\n * @param {Array<RegExp>} ignoreURLParametersMatching RegExps to test against\n * each search parameter name. Matches mean that the search parameter should be\n * ignored.\n * @return {URL} The URL with any ignored search parameters removed.\n *\n * @private\n * @memberof workbox-precaching\n */\nexport function removeIgnoredSearchParams(urlObject, ignoreURLParametersMatching) {\n  if (ignoreURLParametersMatching === void 0) {\n    ignoreURLParametersMatching = [];\n  }\n  // Convert the iterable into an array at the start of the loop to make sure\n  // deletion doesn't mess up iteration.\n  for (const paramName of [...urlObject.searchParams.keys()]) {\n    if (ignoreURLParametersMatching.some(regExp => regExp.test(paramName))) {\n      urlObject.searchParams.delete(paramName);\n    }\n  }\n  return urlObject;\n}","/*\n  Copyright 2018 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { assert } from 'workbox-core/_private/assert.js';\nimport { logger } from 'workbox-core/_private/logger.js';\nimport { WorkboxError } from 'workbox-core/_private/WorkboxError.js';\nimport { Strategy } from './Strategy.js';\nimport { messages } from './utils/messages.js';\nimport './_version.js';\n/**\n * An implementation of a [cache-first](https://developer.chrome.com/docs/workbox/caching-strategies-overview/#cache-first-falling-back-to-network)\n * request strategy.\n *\n * A cache first strategy is useful for assets that have been revisioned,\n * such as URLs like `/styles/example.a8f5f1.css`, since they\n * can be cached for long periods of time.\n *\n * If the network request fails, and there is no cache match, this will throw\n * a `WorkboxError` exception.\n *\n * @extends workbox-strategies.Strategy\n * @memberof workbox-strategies\n */\nclass CacheFirst extends Strategy {\n  /**\n   * @private\n   * @param {Request|string} request A request to run this strategy for.\n   * @param {workbox-strategies.StrategyHandler} handler The event that\n   *     triggered the request.\n   * @return {Promise<Response>}\n   */\n  async _handle(request, handler) {\n    const logs = [];\n    if (process.env.NODE_ENV !== 'production') {\n      assert.isInstance(request, Request, {\n        moduleName: 'workbox-strategies',\n        className: this.constructor.name,\n        funcName: 'makeRequest',\n        paramName: 'request'\n      });\n    }\n    let response = await handler.cacheMatch(request);\n    let error = undefined;\n    if (!response) {\n      if (process.env.NODE_ENV !== 'production') {\n        logs.push(`No response found in the '${this.cacheName}' cache. ` + `Will respond with a network request.`);\n      }\n      try {\n        response = await handler.fetchAndCachePut(request);\n      } catch (err) {\n        if (err instanceof Error) {\n          error = err;\n        }\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        if (response) {\n          logs.push(`Got response from network.`);\n        } else {\n          logs.push(`Unable to get a response from the network.`);\n        }\n      }\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        logs.push(`Found a cached response in the '${this.cacheName}' cache.`);\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      logger.groupCollapsed(messages.strategyStart(this.constructor.name, request));\n      for (const log of logs) {\n        logger.log(log);\n      }\n      messages.printFinalResponse(response);\n      logger.groupEnd();\n    }\n    if (!response) {\n      throw new WorkboxError('no-response', {\n        url: request.url,\n        error\n      });\n    }\n    return response;\n  }\n}\nexport { CacheFirst };","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nexport var __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n}\n;\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n}\n;\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n}\n;\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", {\n    configurable: true,\n    value: prefix ? \"\".concat(prefix, \" \", name) : name\n  });\n}\n;\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n    i,\n    q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: false\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n    i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n  return cooked;\n}\n;\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || typeof receiver !== \"object\" && typeof receiver !== \"function\") throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({\n      value: value,\n      dispose: dispose,\n      async: async\n    });\n  } else if (async) {\n    env.stack.push({\n      async: true\n    });\n  }\n  return value;\n}\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function (e) {\n          fail(e);\n          return next();\n        });\n      } catch (e) {\n        fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\nexport default {\n  __extends: __extends,\n  __assign: __assign,\n  __rest: __rest,\n  __decorate: __decorate,\n  __param: __param,\n  __metadata: __metadata,\n  __awaiter: __awaiter,\n  __generator: __generator,\n  __createBinding: __createBinding,\n  __exportStar: __exportStar,\n  __values: __values,\n  __read: __read,\n  __spread: __spread,\n  __spreadArrays: __spreadArrays,\n  __spreadArray: __spreadArray,\n  __await: __await,\n  __asyncGenerator: __asyncGenerator,\n  __asyncDelegator: __asyncDelegator,\n  __asyncValues: __asyncValues,\n  __makeTemplateObject: __makeTemplateObject,\n  __importStar: __importStar,\n  __importDefault: __importDefault,\n  __classPrivateFieldGet: __classPrivateFieldGet,\n  __classPrivateFieldSet: __classPrivateFieldSet,\n  __classPrivateFieldIn: __classPrivateFieldIn,\n  __addDisposableResource: __addDisposableResource,\n  __disposeResources: __disposeResources\n};","export var ErrorKind;\n(function (ErrorKind) {\n  /** Argument is unclosed (e.g. `{0`) */\n  ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n  /** Argument is empty (e.g. `{}`). */\n  ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n  /** Argument is malformed (e.g. `{foo!}``) */\n  ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n  /** Expect an argument type (e.g. `{foo,}`) */\n  ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n  /** Unsupported argument type (e.g. `{foo,foo}`) */\n  ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n  /** Expect an argument style (e.g. `{foo, number, }`) */\n  ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n  /** The number skeleton is invalid. */\n  ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n  /** The date time skeleton is invalid. */\n  ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n  /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n  ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n  /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n  ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n  /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n  ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n  /** Missing select argument options (e.g. `{foo, select}`) */\n  ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n  /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n  ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n  /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n  ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n  /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n  ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n  /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n  ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n  /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n  ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n  /**\n   * Expecting a message fragment after the `plural` or `selectordinal` selector\n   * (e.g. `{foo, plural, one}`)\n   */\n  ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n  /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n  ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n  /**\n   * Duplicate selectors in `plural` or `selectordinal` argument.\n   * (e.g. {foo, plural, one {#} one {#}})\n   */\n  ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n  /** Duplicate selectors in `select` argument.\n   * (e.g. {foo, select, apple {apple} apple {apple}})\n   */\n  ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n  /** Plural or select argument option must have `other` clause. */\n  ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n  /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n  ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n  /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n  ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n  /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n  ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n  /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n  ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));","export var TYPE;\n(function (TYPE) {\n  /**\n   * Raw text\n   */\n  TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n  /**\n   * Variable w/o any format, e.g `var` in `this is a {var}`\n   */\n  TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n  /**\n   * Variable w/ number format\n   */\n  TYPE[TYPE[\"number\"] = 2] = \"number\";\n  /**\n   * Variable w/ date format\n   */\n  TYPE[TYPE[\"date\"] = 3] = \"date\";\n  /**\n   * Variable w/ time format\n   */\n  TYPE[TYPE[\"time\"] = 4] = \"time\";\n  /**\n   * Variable w/ select format\n   */\n  TYPE[TYPE[\"select\"] = 5] = \"select\";\n  /**\n   * Variable w/ plural format\n   */\n  TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n  /**\n   * Only possible within plural argument.\n   * This is the `#` symbol that will be substituted with the count.\n   */\n  TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n  /**\n   * XML-like tag\n   */\n  TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n  SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n  SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n  return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n  return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n  return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n  return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n  return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n  return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n  return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n  return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n  return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n  return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n  return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n  return {\n    type: TYPE.literal,\n    value: value\n  };\n}\nexport function createNumberElement(value, style) {\n  return {\n    type: TYPE.number,\n    value: value,\n    style: style\n  };\n}","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n  var result = {};\n  skeleton.replace(DATE_TIME_REGEX, function (match) {\n    var len = match.length;\n    switch (match[0]) {\n      // Era\n      case 'G':\n        result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n        break;\n      // Year\n      case 'y':\n        result.year = len === 2 ? '2-digit' : 'numeric';\n        break;\n      case 'Y':\n      case 'u':\n      case 'U':\n      case 'r':\n        throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n      // Quarter\n      case 'q':\n      case 'Q':\n        throw new RangeError('`q/Q` (quarter) patterns are not supported');\n      // Month\n      case 'M':\n      case 'L':\n        result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n        break;\n      // Week\n      case 'w':\n      case 'W':\n        throw new RangeError('`w/W` (week) patterns are not supported');\n      case 'd':\n        result.day = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'D':\n      case 'F':\n      case 'g':\n        throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n      // Weekday\n      case 'E':\n        result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';\n        break;\n      case 'e':\n        if (len < 4) {\n          throw new RangeError('`e..eee` (weekday) patterns are not supported');\n        }\n        result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n        break;\n      case 'c':\n        if (len < 4) {\n          throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n        }\n        result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n        break;\n      // Period\n      case 'a':\n        // AM, PM\n        result.hour12 = true;\n        break;\n      case 'b': // am, pm, noon, midnight\n      case 'B':\n        // flexible day periods\n        throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n      // Hour\n      case 'h':\n        result.hourCycle = 'h12';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'H':\n        result.hourCycle = 'h23';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'K':\n        result.hourCycle = 'h11';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'k':\n        result.hourCycle = 'h24';\n        result.hour = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'j':\n      case 'J':\n      case 'C':\n        throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n      // Minute\n      case 'm':\n        result.minute = ['numeric', '2-digit'][len - 1];\n        break;\n      // Second\n      case 's':\n        result.second = ['numeric', '2-digit'][len - 1];\n        break;\n      case 'S':\n      case 'A':\n        throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n      // Zone\n      case 'z':\n        // 1..3, 4: specific non-location format\n        result.timeZoneName = len < 4 ? 'short' : 'long';\n        break;\n      case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n      case 'O': // 1, 4: miliseconds in day short, long\n      case 'v': // 1, 4: generic non-location format\n      case 'V': // 1, 2, 3, 4: time zone ID or city\n      case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n      case 'x':\n        // 1, 2, 3, 4: The ISO8601 varios formats\n        throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n    }\n    return '';\n  });\n  return result;\n}","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n  if (skeleton.length === 0) {\n    throw new Error('Number skeleton cannot be empty');\n  }\n  // Parse the skeleton\n  var stringTokens = skeleton.split(WHITE_SPACE_REGEX).filter(function (x) {\n    return x.length > 0;\n  });\n  var tokens = [];\n  for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n    var stringToken = stringTokens_1[_i];\n    var stemAndOptions = stringToken.split('/');\n    if (stemAndOptions.length === 0) {\n      throw new Error('Invalid number skeleton');\n    }\n    var stem = stemAndOptions[0],\n      options = stemAndOptions.slice(1);\n    for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n      var option = options_1[_a];\n      if (option.length === 0) {\n        throw new Error('Invalid number skeleton');\n      }\n    }\n    tokens.push({\n      stem: stem,\n      options: options\n    });\n  }\n  return tokens;\n}\nfunction icuUnitToEcma(unit) {\n  return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n  var result = {};\n  if (str[str.length - 1] === 'r') {\n    result.roundingPriority = 'morePrecision';\n  } else if (str[str.length - 1] === 's') {\n    result.roundingPriority = 'lessPrecision';\n  }\n  str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n    // @@@ case\n    if (typeof g2 !== 'string') {\n      result.minimumSignificantDigits = g1.length;\n      result.maximumSignificantDigits = g1.length;\n    }\n    // @@@+ case\n    else if (g2 === '+') {\n      result.minimumSignificantDigits = g1.length;\n    }\n    // .### case\n    else if (g1[0] === '#') {\n      result.maximumSignificantDigits = g1.length;\n    }\n    // .@@## or .@@@ case\n    else {\n      result.minimumSignificantDigits = g1.length;\n      result.maximumSignificantDigits = g1.length + (typeof g2 === 'string' ? g2.length : 0);\n    }\n    return '';\n  });\n  return result;\n}\nfunction parseSign(str) {\n  switch (str) {\n    case 'sign-auto':\n      return {\n        signDisplay: 'auto'\n      };\n    case 'sign-accounting':\n    case '()':\n      return {\n        currencySign: 'accounting'\n      };\n    case 'sign-always':\n    case '+!':\n      return {\n        signDisplay: 'always'\n      };\n    case 'sign-accounting-always':\n    case '()!':\n      return {\n        signDisplay: 'always',\n        currencySign: 'accounting'\n      };\n    case 'sign-except-zero':\n    case '+?':\n      return {\n        signDisplay: 'exceptZero'\n      };\n    case 'sign-accounting-except-zero':\n    case '()?':\n      return {\n        signDisplay: 'exceptZero',\n        currencySign: 'accounting'\n      };\n    case 'sign-never':\n    case '+_':\n      return {\n        signDisplay: 'never'\n      };\n  }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n  // Engineering\n  var result;\n  if (stem[0] === 'E' && stem[1] === 'E') {\n    result = {\n      notation: 'engineering'\n    };\n    stem = stem.slice(2);\n  } else if (stem[0] === 'E') {\n    result = {\n      notation: 'scientific'\n    };\n    stem = stem.slice(1);\n  }\n  if (result) {\n    var signDisplay = stem.slice(0, 2);\n    if (signDisplay === '+!') {\n      result.signDisplay = 'always';\n      stem = stem.slice(2);\n    } else if (signDisplay === '+?') {\n      result.signDisplay = 'exceptZero';\n      stem = stem.slice(2);\n    }\n    if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n      throw new Error('Malformed concise eng/scientific notation');\n    }\n    result.minimumIntegerDigits = stem.length;\n  }\n  return result;\n}\nfunction parseNotationOptions(opt) {\n  var result = {};\n  var signOpts = parseSign(opt);\n  if (signOpts) {\n    return signOpts;\n  }\n  return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n  var result = {};\n  for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n    var token = tokens_1[_i];\n    switch (token.stem) {\n      case 'percent':\n      case '%':\n        result.style = 'percent';\n        continue;\n      case '%x100':\n        result.style = 'percent';\n        result.scale = 100;\n        continue;\n      case 'currency':\n        result.style = 'currency';\n        result.currency = token.options[0];\n        continue;\n      case 'group-off':\n      case ',_':\n        result.useGrouping = false;\n        continue;\n      case 'precision-integer':\n      case '.':\n        result.maximumFractionDigits = 0;\n        continue;\n      case 'measure-unit':\n      case 'unit':\n        result.style = 'unit';\n        result.unit = icuUnitToEcma(token.options[0]);\n        continue;\n      case 'compact-short':\n      case 'K':\n        result.notation = 'compact';\n        result.compactDisplay = 'short';\n        continue;\n      case 'compact-long':\n      case 'KK':\n        result.notation = 'compact';\n        result.compactDisplay = 'long';\n        continue;\n      case 'scientific':\n        result = __assign(__assign(__assign({}, result), {\n          notation: 'scientific'\n        }), token.options.reduce(function (all, opt) {\n          return __assign(__assign({}, all), parseNotationOptions(opt));\n        }, {}));\n        continue;\n      case 'engineering':\n        result = __assign(__assign(__assign({}, result), {\n          notation: 'engineering'\n        }), token.options.reduce(function (all, opt) {\n          return __assign(__assign({}, all), parseNotationOptions(opt));\n        }, {}));\n        continue;\n      case 'notation-simple':\n        result.notation = 'standard';\n        continue;\n      // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n      case 'unit-width-narrow':\n        result.currencyDisplay = 'narrowSymbol';\n        result.unitDisplay = 'narrow';\n        continue;\n      case 'unit-width-short':\n        result.currencyDisplay = 'code';\n        result.unitDisplay = 'short';\n        continue;\n      case 'unit-width-full-name':\n        result.currencyDisplay = 'name';\n        result.unitDisplay = 'long';\n        continue;\n      case 'unit-width-iso-code':\n        result.currencyDisplay = 'symbol';\n        continue;\n      case 'scale':\n        result.scale = parseFloat(token.options[0]);\n        continue;\n      // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n      case 'integer-width':\n        if (token.options.length > 1) {\n          throw new RangeError('integer-width stems only accept a single optional option');\n        }\n        token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n          if (g1) {\n            result.minimumIntegerDigits = g2.length;\n          } else if (g3 && g4) {\n            throw new Error('We currently do not support maximum integer digits');\n          } else if (g5) {\n            throw new Error('We currently do not support exact integer digits');\n          }\n          return '';\n        });\n        continue;\n    }\n    // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n    if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n      result.minimumIntegerDigits = token.stem.length;\n      continue;\n    }\n    if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n      // Precision\n      // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n      // precision-integer case\n      if (token.options.length > 1) {\n        throw new RangeError('Fraction-precision stems only accept a single optional option');\n      }\n      token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n        // .000* case (before ICU67 it was .000+)\n        if (g2 === '*') {\n          result.minimumFractionDigits = g1.length;\n        }\n        // .### case\n        else if (g3 && g3[0] === '#') {\n          result.maximumFractionDigits = g3.length;\n        }\n        // .00## case\n        else if (g4 && g5) {\n          result.minimumFractionDigits = g4.length;\n          result.maximumFractionDigits = g4.length + g5.length;\n        } else {\n          result.minimumFractionDigits = g1.length;\n          result.maximumFractionDigits = g1.length;\n        }\n        return '';\n      });\n      var opt = token.options[0];\n      // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n      if (opt === 'w') {\n        result = __assign(__assign({}, result), {\n          trailingZeroDisplay: 'stripIfInteger'\n        });\n      } else if (opt) {\n        result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n      }\n      continue;\n    }\n    // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n    if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n      result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n      continue;\n    }\n    var signOpts = parseSign(token.stem);\n    if (signOpts) {\n      result = __assign(__assign({}, result), signOpts);\n    }\n    var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n    if (conciseScientificAndEngineeringOpts) {\n      result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n    }\n  }\n  return result;\n}","// @generated from time-data-gen.ts\n// prettier-ignore  \nexport var timeData = {\n  \"001\": [\"H\", \"h\"],\n  \"AC\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"AD\": [\"H\", \"hB\"],\n  \"AE\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"AF\": [\"H\", \"hb\", \"hB\", \"h\"],\n  \"AG\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"AI\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"AL\": [\"h\", \"H\", \"hB\"],\n  \"AM\": [\"H\", \"hB\"],\n  \"AO\": [\"H\", \"hB\"],\n  \"AR\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"AS\": [\"h\", \"H\"],\n  \"AT\": [\"H\", \"hB\"],\n  \"AU\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"AW\": [\"H\", \"hB\"],\n  \"AX\": [\"H\"],\n  \"AZ\": [\"H\", \"hB\", \"h\"],\n  \"BA\": [\"H\", \"hB\", \"h\"],\n  \"BB\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"BD\": [\"h\", \"hB\", \"H\"],\n  \"BE\": [\"H\", \"hB\"],\n  \"BF\": [\"H\", \"hB\"],\n  \"BG\": [\"H\", \"hB\", \"h\"],\n  \"BH\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"BJ\": [\"H\", \"hB\"],\n  \"BL\": [\"H\", \"hB\"],\n  \"BM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"BN\": [\"hb\", \"hB\", \"h\", \"H\"],\n  \"BO\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"BQ\": [\"H\"],\n  \"BR\": [\"H\", \"hB\"],\n  \"BS\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"BT\": [\"h\", \"H\"],\n  \"BW\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"BZ\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"CA\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"CC\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"CD\": [\"hB\", \"H\"],\n  \"CF\": [\"H\", \"h\", \"hB\"],\n  \"CG\": [\"H\", \"hB\"],\n  \"CH\": [\"H\", \"hB\", \"h\"],\n  \"CI\": [\"H\", \"hB\"],\n  \"CK\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"CL\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"CM\": [\"H\", \"h\", \"hB\"],\n  \"CN\": [\"H\", \"hB\", \"hb\", \"h\"],\n  \"CO\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"CP\": [\"H\"],\n  \"CR\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"CU\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"CV\": [\"H\", \"hB\"],\n  \"CX\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"CY\": [\"h\", \"H\", \"hb\", \"hB\"],\n  \"CZ\": [\"H\"],\n  \"DE\": [\"H\", \"hB\"],\n  \"DG\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"DJ\": [\"h\", \"H\"],\n  \"DK\": [\"H\"],\n  \"DM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"DO\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"DZ\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"EA\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"EC\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"EE\": [\"H\", \"hB\"],\n  \"EG\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"EH\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"ER\": [\"h\", \"H\"],\n  \"ES\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"ET\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"FI\": [\"H\"],\n  \"FJ\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"FK\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"FM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"FR\": [\"H\", \"hB\"],\n  \"GA\": [\"H\", \"hB\"],\n  \"GB\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"GD\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"GE\": [\"H\", \"hB\", \"h\"],\n  \"GF\": [\"H\", \"hB\"],\n  \"GG\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"GH\": [\"h\", \"H\"],\n  \"GI\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"GM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"GN\": [\"H\", \"hB\"],\n  \"GP\": [\"H\", \"hB\"],\n  \"GQ\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"GR\": [\"h\", \"H\", \"hb\", \"hB\"],\n  \"GT\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"GU\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"GW\": [\"H\", \"hB\"],\n  \"GY\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"HK\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"HN\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"HR\": [\"H\", \"hB\"],\n  \"IC\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"ID\": [\"H\"],\n  \"IE\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"IL\": [\"H\", \"hB\"],\n  \"IM\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"IN\": [\"h\", \"H\"],\n  \"IO\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"IQ\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"IR\": [\"hB\", \"H\"],\n  \"IS\": [\"H\"],\n  \"IT\": [\"H\", \"hB\"],\n  \"JE\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"JM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"JO\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"JP\": [\"H\", \"h\", \"K\"],\n  \"KE\": [\"hB\", \"hb\", \"H\", \"h\"],\n  \"KG\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"KH\": [\"hB\", \"h\", \"H\", \"hb\"],\n  \"KI\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"KM\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"KN\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"KP\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"KR\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"KW\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"KY\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"KZ\": [\"H\", \"hB\"],\n  \"LA\": [\"H\", \"hb\", \"hB\", \"h\"],\n  \"LB\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"LC\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"LI\": [\"H\", \"hB\", \"h\"],\n  \"LK\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"LR\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"LS\": [\"h\", \"H\"],\n  \"LT\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"LU\": [\"H\", \"h\", \"hB\"],\n  \"LV\": [\"H\", \"hB\", \"hb\", \"h\"],\n  \"LY\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"MA\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"MC\": [\"H\", \"hB\"],\n  \"MD\": [\"H\", \"hB\"],\n  \"ME\": [\"H\", \"hB\", \"h\"],\n  \"MF\": [\"H\", \"hB\"],\n  \"MH\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"MK\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"ML\": [\"H\"],\n  \"MM\": [\"hB\", \"hb\", \"H\", \"h\"],\n  \"MN\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"MO\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"MP\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"MQ\": [\"H\", \"hB\"],\n  \"MR\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"MS\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"MW\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"MX\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"MY\": [\"hb\", \"hB\", \"h\", \"H\"],\n  \"MZ\": [\"H\", \"hB\"],\n  \"NA\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"NC\": [\"H\", \"hB\"],\n  \"NE\": [\"H\"],\n  \"NF\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NG\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NI\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"NL\": [\"H\", \"hB\"],\n  \"NP\": [\"H\", \"h\", \"hB\"],\n  \"NR\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NU\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"NZ\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"OM\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"PA\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"PE\": [\"H\", \"hB\", \"h\", \"hb\"],\n  \"PF\": [\"H\", \"h\", \"hB\"],\n  \"PG\": [\"h\", \"H\"],\n  \"PH\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"PK\": [\"h\", \"hB\", \"H\"],\n  \"PM\": [\"H\", \"hB\"],\n  \"PN\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"PR\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"PS\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"PT\": [\"H\", \"hB\"],\n  \"PW\": [\"h\", \"H\"],\n  \"PY\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"QA\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"RE\": [\"H\", \"hB\"],\n  \"RO\": [\"H\", \"hB\"],\n  \"RS\": [\"H\", \"hB\", \"h\"],\n  \"RU\": [\"H\"],\n  \"SA\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"SB\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SC\": [\"H\", \"h\", \"hB\"],\n  \"SD\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"SE\": [\"H\"],\n  \"SG\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SH\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"SI\": [\"H\", \"hB\"],\n  \"SJ\": [\"H\"],\n  \"SK\": [\"H\"],\n  \"SL\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"SM\": [\"H\", \"h\", \"hB\"],\n  \"SN\": [\"H\", \"h\", \"hB\"],\n  \"SO\": [\"h\", \"H\"],\n  \"SR\": [\"H\", \"hB\"],\n  \"SS\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"ST\": [\"H\", \"hB\"],\n  \"SV\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"SX\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"SY\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"SZ\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"TA\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"TC\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"TD\": [\"h\", \"H\", \"hB\"],\n  \"TF\": [\"H\", \"h\", \"hB\"],\n  \"TG\": [\"H\", \"hB\"],\n  \"TL\": [\"H\", \"hB\", \"hb\", \"h\"],\n  \"TN\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"TO\": [\"h\", \"H\"],\n  \"TR\": [\"H\", \"hB\"],\n  \"TT\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"TW\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"TZ\": [\"hB\", \"hb\", \"H\", \"h\"],\n  \"UA\": [\"H\", \"hB\", \"h\"],\n  \"UG\": [\"hB\", \"hb\", \"H\", \"h\"],\n  \"UM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"US\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"UY\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"UZ\": [\"H\", \"hB\", \"h\"],\n  \"VA\": [\"H\", \"h\", \"hB\"],\n  \"VC\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"VE\": [\"h\", \"H\", \"hB\", \"hb\"],\n  \"VG\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"VI\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"VU\": [\"h\", \"H\"],\n  \"WF\": [\"H\", \"hB\"],\n  \"WS\": [\"h\", \"H\"],\n  \"XK\": [\"H\", \"hB\", \"h\"],\n  \"YE\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"YT\": [\"H\", \"hB\"],\n  \"ZA\": [\"H\", \"h\", \"hb\", \"hB\"],\n  \"ZM\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"af-ZA\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"ar-001\": [\"h\", \"hB\", \"hb\", \"H\"],\n  \"ca-ES\": [\"H\", \"h\", \"hB\"],\n  \"en-001\": [\"h\", \"hb\", \"H\", \"hB\"],\n  \"es-BO\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-BR\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-EC\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-ES\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-GQ\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"es-PE\": [\"H\", \"h\", \"hB\", \"hb\"],\n  \"fr-CA\": [\"H\", \"h\", \"hB\"],\n  \"gl-ES\": [\"H\", \"h\", \"hB\"],\n  \"gu-IN\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"hi-IN\": [\"hB\", \"h\", \"H\"],\n  \"it-CH\": [\"H\", \"h\", \"hB\"],\n  \"it-IT\": [\"H\", \"h\", \"hB\"],\n  \"kn-IN\": [\"hB\", \"h\", \"H\"],\n  \"ml-IN\": [\"hB\", \"h\", \"H\"],\n  \"mr-IN\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"pa-IN\": [\"hB\", \"hb\", \"h\", \"H\"],\n  \"ta-IN\": [\"hB\", \"h\", \"hb\", \"H\"],\n  \"te-IN\": [\"hB\", \"h\", \"H\"],\n  \"zu-ZA\": [\"H\", \"hB\", \"hb\", \"h\"]\n};","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton } from '@formatjs/icu-skeleton-parser';\nimport { getBestPattern } from './date-time-pattern-generator';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n  return {\n    start: start,\n    end: end\n  };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith && '_a'.startsWith('a', 1);\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger ? Number.isSafeInteger : function (n) {\n  return typeof n === 'number' && isFinite(n) && Math.floor(n) === n && Math.abs(n) <= 0x1fffffffffffff;\n};\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n  var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n  /**\n   * legacy Edge or Xbox One browser\n   * Unicode flag support: supported\n   * Pattern_Syntax support: not supported\n   * See https://github.com/formatjs/formatjs/issues/2822\n   */\n  REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n} catch (_) {\n  REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith ?\n// Native\nfunction startsWith(s, search, position) {\n  return s.startsWith(search, position);\n} :\n// For IE11\nfunction startsWith(s, search, position) {\n  return s.slice(position, position + search.length) === search;\n};\nvar fromCodePoint = hasNativeFromCodePoint ? String.fromCodePoint :\n// IE11\nfunction fromCodePoint() {\n  var codePoints = [];\n  for (var _i = 0; _i < arguments.length; _i++) {\n    codePoints[_i] = arguments[_i];\n  }\n  var elements = '';\n  var length = codePoints.length;\n  var i = 0;\n  var code;\n  while (length > i) {\n    code = codePoints[i++];\n    if (code > 0x10ffff) throw RangeError(code + ' is not a valid code point');\n    elements += code < 0x10000 ? String.fromCharCode(code) : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00);\n  }\n  return elements;\n};\nvar fromEntries =\n// native\nhasNativeFromEntries ? Object.fromEntries :\n// Ponyfill\nfunction fromEntries(entries) {\n  var obj = {};\n  for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n    var _a = entries_1[_i],\n      k = _a[0],\n      v = _a[1];\n    obj[k] = v;\n  }\n  return obj;\n};\nvar codePointAt = hasNativeCodePointAt ?\n// Native\nfunction codePointAt(s, index) {\n  return s.codePointAt(index);\n} :\n// IE 11\nfunction codePointAt(s, index) {\n  var size = s.length;\n  if (index < 0 || index >= size) {\n    return undefined;\n  }\n  var first = s.charCodeAt(index);\n  var second;\n  return first < 0xd800 || first > 0xdbff || index + 1 === size || (second = s.charCodeAt(index + 1)) < 0xdc00 || second > 0xdfff ? first : (first - 0xd800 << 10) + (second - 0xdc00) + 0x10000;\n};\nvar trimStart = hasTrimStart ?\n// Native\nfunction trimStart(s) {\n  return s.trimStart();\n} :\n// Ponyfill\nfunction trimStart(s) {\n  return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n};\nvar trimEnd = hasTrimEnd ?\n// Native\nfunction trimEnd(s) {\n  return s.trimEnd();\n} :\n// Ponyfill\nfunction trimEnd(s) {\n  return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n};\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n  return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n  // Native\n  var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n  matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n    var _a;\n    IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n    var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n    return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n  };\n} else {\n  // IE11\n  matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n    var match = [];\n    while (true) {\n      var c = codePointAt(s, index);\n      if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n        break;\n      }\n      match.push(c);\n      index += c >= 0x10000 ? 2 : 1;\n    }\n    return fromCodePoint.apply(void 0, match);\n  };\n}\nvar Parser = /** @class */function () {\n  function Parser(message, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    this.message = message;\n    this.position = {\n      offset: 0,\n      line: 1,\n      column: 1\n    };\n    this.ignoreTag = !!options.ignoreTag;\n    this.locale = options.locale;\n    this.requiresOtherClause = !!options.requiresOtherClause;\n    this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n  }\n  Parser.prototype.parse = function () {\n    if (this.offset() !== 0) {\n      throw Error('parser can only be used once');\n    }\n    return this.parseMessage(0, '', false);\n  };\n  Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n    var elements = [];\n    while (!this.isEOF()) {\n      var char = this.char();\n      if (char === 123 /* `{` */) {\n        var result = this.parseArgument(nestingLevel, expectingCloseTag);\n        if (result.err) {\n          return result;\n        }\n        elements.push(result.val);\n      } else if (char === 125 /* `}` */ && nestingLevel > 0) {\n        break;\n      } else if (char === 35 /* `#` */ && (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n        var position = this.clonePosition();\n        this.bump();\n        elements.push({\n          type: TYPE.pound,\n          location: createLocation(position, this.clonePosition())\n        });\n      } else if (char === 60 /* `<` */ && !this.ignoreTag && this.peek() === 47 // char code for '/'\n      ) {\n        if (expectingCloseTag) {\n          break;\n        } else {\n          return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n      } else if (char === 60 /* `<` */ && !this.ignoreTag && _isAlpha(this.peek() || 0)) {\n        var result = this.parseTag(nestingLevel, parentArgType);\n        if (result.err) {\n          return result;\n        }\n        elements.push(result.val);\n      } else {\n        var result = this.parseLiteral(nestingLevel, parentArgType);\n        if (result.err) {\n          return result;\n        }\n        elements.push(result.val);\n      }\n    }\n    return {\n      val: elements,\n      err: null\n    };\n  };\n  /**\n   * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n   * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n   * are accepted:\n   *\n   * ```\n   * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n   * tagName ::= [a-z] (PENChar)*\n   * PENChar ::=\n   *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n   *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n   *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n   * ```\n   *\n   * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n   * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n   * since other tag-based engines like React allow it\n   */\n  Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n    var startPosition = this.clonePosition();\n    this.bump(); // `<`\n    var tagName = this.parseTagName();\n    this.bumpSpace();\n    if (this.bumpIf('/>')) {\n      // Self closing tag\n      return {\n        val: {\n          type: TYPE.literal,\n          value: \"<\".concat(tagName, \"/>\"),\n          location: createLocation(startPosition, this.clonePosition())\n        },\n        err: null\n      };\n    } else if (this.bumpIf('>')) {\n      var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n      if (childrenResult.err) {\n        return childrenResult;\n      }\n      var children = childrenResult.val;\n      // Expecting a close tag\n      var endTagStartPosition = this.clonePosition();\n      if (this.bumpIf('</')) {\n        if (this.isEOF() || !_isAlpha(this.char())) {\n          return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n        }\n        var closingTagNameStartPosition = this.clonePosition();\n        var closingTagName = this.parseTagName();\n        if (tagName !== closingTagName) {\n          return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (!this.bumpIf('>')) {\n          return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n        }\n        return {\n          val: {\n            type: TYPE.tag,\n            value: tagName,\n            children: children,\n            location: createLocation(startPosition, this.clonePosition())\n          },\n          err: null\n        };\n      } else {\n        return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n      }\n    } else {\n      return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n    }\n  };\n  /**\n   * This method assumes that the caller has peeked ahead for the first tag character.\n   */\n  Parser.prototype.parseTagName = function () {\n    var startOffset = this.offset();\n    this.bump(); // the first tag name character\n    while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n      this.bump();\n    }\n    return this.message.slice(startOffset, this.offset());\n  };\n  Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n    var start = this.clonePosition();\n    var value = '';\n    while (true) {\n      var parseQuoteResult = this.tryParseQuote(parentArgType);\n      if (parseQuoteResult) {\n        value += parseQuoteResult;\n        continue;\n      }\n      var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n      if (parseUnquotedResult) {\n        value += parseUnquotedResult;\n        continue;\n      }\n      var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n      if (parseLeftAngleResult) {\n        value += parseLeftAngleResult;\n        continue;\n      }\n      break;\n    }\n    var location = createLocation(start, this.clonePosition());\n    return {\n      val: {\n        type: TYPE.literal,\n        value: value,\n        location: location\n      },\n      err: null\n    };\n  };\n  Parser.prototype.tryParseLeftAngleBracket = function () {\n    if (!this.isEOF() && this.char() === 60 /* `<` */ && (this.ignoreTag ||\n    // If at the opening tag or closing tag position, bail.\n    !_isAlphaOrSlash(this.peek() || 0))) {\n      this.bump(); // `<`\n      return '<';\n    }\n    return null;\n  };\n  /**\n   * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n   * a character that requires quoting (that is, \"only where needed\"), and works the same in\n   * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n   */\n  Parser.prototype.tryParseQuote = function (parentArgType) {\n    if (this.isEOF() || this.char() !== 39 /* `'` */) {\n      return null;\n    }\n    // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n    // Check if is valid escaped character\n    switch (this.peek()) {\n      case 39 /* `'` */:\n        // double quote, should return as a single quote.\n        this.bump();\n        this.bump();\n        return \"'\";\n      // '{', '<', '>', '}'\n      case 123:\n      case 60:\n      case 62:\n      case 125:\n        break;\n      case 35:\n        // '#'\n        if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n          break;\n        }\n        return null;\n      default:\n        return null;\n    }\n    this.bump(); // apostrophe\n    var codePoints = [this.char()]; // escaped char\n    this.bump();\n    // read chars until the optional closing apostrophe is found\n    while (!this.isEOF()) {\n      var ch = this.char();\n      if (ch === 39 /* `'` */) {\n        if (this.peek() === 39 /* `'` */) {\n          codePoints.push(39);\n          // Bump one more time because we need to skip 2 characters.\n          this.bump();\n        } else {\n          // Optional closing apostrophe.\n          this.bump();\n          break;\n        }\n      } else {\n        codePoints.push(ch);\n      }\n      this.bump();\n    }\n    return fromCodePoint.apply(void 0, codePoints);\n  };\n  Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n    if (this.isEOF()) {\n      return null;\n    }\n    var ch = this.char();\n    if (ch === 60 /* `<` */ || ch === 123 /* `{` */ || ch === 35 /* `#` */ && (parentArgType === 'plural' || parentArgType === 'selectordinal') || ch === 125 /* `}` */ && nestingLevel > 0) {\n      return null;\n    } else {\n      this.bump();\n      return fromCodePoint(ch);\n    }\n  };\n  Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n    var openingBracePosition = this.clonePosition();\n    this.bump(); // `{`\n    this.bumpSpace();\n    if (this.isEOF()) {\n      return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    if (this.char() === 125 /* `}` */) {\n      this.bump();\n      return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    // argument name\n    var value = this.parseIdentifierIfPossible().value;\n    if (!value) {\n      return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    this.bumpSpace();\n    if (this.isEOF()) {\n      return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    switch (this.char()) {\n      // Simple argument: `{name}`\n      case 125 /* `}` */:\n        {\n          this.bump(); // `}`\n          return {\n            val: {\n              type: TYPE.argument,\n              // value does not include the opening and closing braces.\n              value: value,\n              location: createLocation(openingBracePosition, this.clonePosition())\n            },\n            err: null\n          };\n        }\n      // Argument with options: `{name, format, ...}`\n      case 44 /* `,` */:\n        {\n          this.bump(); // `,`\n          this.bumpSpace();\n          if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n          }\n          return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n        }\n      default:\n        return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n    }\n  };\n  /**\n   * Advance the parser until the end of the identifier, if it is currently on\n   * an identifier character. Return an empty string otherwise.\n   */\n  Parser.prototype.parseIdentifierIfPossible = function () {\n    var startingPosition = this.clonePosition();\n    var startOffset = this.offset();\n    var value = matchIdentifierAtIndex(this.message, startOffset);\n    var endOffset = startOffset + value.length;\n    this.bumpTo(endOffset);\n    var endPosition = this.clonePosition();\n    var location = createLocation(startingPosition, endPosition);\n    return {\n      value: value,\n      location: location\n    };\n  };\n  Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n    var _a;\n    // Parse this range:\n    // {name, type, style}\n    //        ^---^\n    var typeStartPosition = this.clonePosition();\n    var argType = this.parseIdentifierIfPossible().value;\n    var typeEndPosition = this.clonePosition();\n    switch (argType) {\n      case '':\n        // Expecting a style string number, date, time, plural, selectordinal, or select.\n        return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n      case 'number':\n      case 'date':\n      case 'time':\n        {\n          // Parse this range:\n          // {name, number, style}\n          //              ^-------^\n          this.bumpSpace();\n          var styleAndLocation = null;\n          if (this.bumpIf(',')) {\n            this.bumpSpace();\n            var styleStartPosition = this.clonePosition();\n            var result = this.parseSimpleArgStyleIfPossible();\n            if (result.err) {\n              return result;\n            }\n            var style = trimEnd(result.val);\n            if (style.length === 0) {\n              return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n            styleAndLocation = {\n              style: style,\n              styleLocation: styleLocation\n            };\n          }\n          var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n          if (argCloseResult.err) {\n            return argCloseResult;\n          }\n          var location_1 = createLocation(openingBracePosition, this.clonePosition());\n          // Extract style or skeleton\n          if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n            // Skeleton starts with `::`.\n            var skeleton = trimStart(styleAndLocation.style.slice(2));\n            if (argType === 'number') {\n              var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n              if (result.err) {\n                return result;\n              }\n              return {\n                val: {\n                  type: TYPE.number,\n                  value: value,\n                  location: location_1,\n                  style: result.val\n                },\n                err: null\n              };\n            } else {\n              if (skeleton.length === 0) {\n                return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n              }\n              var dateTimePattern = skeleton;\n              // Get \"best match\" pattern only if locale is passed, if not, let it\n              // pass as-is where `parseDateTimeSkeleton()` will throw an error\n              // for unsupported patterns.\n              if (this.locale) {\n                dateTimePattern = getBestPattern(skeleton, this.locale);\n              }\n              var style = {\n                type: SKELETON_TYPE.dateTime,\n                pattern: dateTimePattern,\n                location: styleAndLocation.styleLocation,\n                parsedOptions: this.shouldParseSkeletons ? parseDateTimeSkeleton(dateTimePattern) : {}\n              };\n              var type = argType === 'date' ? TYPE.date : TYPE.time;\n              return {\n                val: {\n                  type: type,\n                  value: value,\n                  location: location_1,\n                  style: style\n                },\n                err: null\n              };\n            }\n          }\n          // Regular style or no style.\n          return {\n            val: {\n              type: argType === 'number' ? TYPE.number : argType === 'date' ? TYPE.date : TYPE.time,\n              value: value,\n              location: location_1,\n              style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null\n            },\n            err: null\n          };\n        }\n      case 'plural':\n      case 'selectordinal':\n      case 'select':\n        {\n          // Parse this range:\n          // {name, plural, options}\n          //              ^---------^\n          var typeEndPosition_1 = this.clonePosition();\n          this.bumpSpace();\n          if (!this.bumpIf(',')) {\n            return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n          }\n          this.bumpSpace();\n          // Parse offset:\n          // {name, plural, offset:1, options}\n          //                ^-----^\n          //\n          // or the first option:\n          //\n          // {name, plural, one {...} other {...}}\n          //                ^--^\n          var identifierAndLocation = this.parseIdentifierIfPossible();\n          var pluralOffset = 0;\n          if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n            if (!this.bumpIf(':')) {\n              return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            this.bumpSpace();\n            var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n            if (result.err) {\n              return result;\n            }\n            // Parse another identifier for option parsing\n            this.bumpSpace();\n            identifierAndLocation = this.parseIdentifierIfPossible();\n            pluralOffset = result.val;\n          }\n          var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n          if (optionsResult.err) {\n            return optionsResult;\n          }\n          var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n          if (argCloseResult.err) {\n            return argCloseResult;\n          }\n          var location_2 = createLocation(openingBracePosition, this.clonePosition());\n          if (argType === 'select') {\n            return {\n              val: {\n                type: TYPE.select,\n                value: value,\n                options: fromEntries(optionsResult.val),\n                location: location_2\n              },\n              err: null\n            };\n          } else {\n            return {\n              val: {\n                type: TYPE.plural,\n                value: value,\n                options: fromEntries(optionsResult.val),\n                offset: pluralOffset,\n                pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                location: location_2\n              },\n              err: null\n            };\n          }\n        }\n      default:\n        return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n    }\n  };\n  Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n    // Parse: {value, number, ::currency/GBP }\n    //\n    if (this.isEOF() || this.char() !== 125 /* `}` */) {\n      return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n    }\n    this.bump(); // `}`\n    return {\n      val: true,\n      err: null\n    };\n  };\n  /**\n   * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n   */\n  Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n    var nestedBraces = 0;\n    var startPosition = this.clonePosition();\n    while (!this.isEOF()) {\n      var ch = this.char();\n      switch (ch) {\n        case 39 /* `'` */:\n          {\n            // Treat apostrophe as quoting but include it in the style part.\n            // Find the end of the quoted literal text.\n            this.bump();\n            var apostrophePosition = this.clonePosition();\n            if (!this.bumpUntil(\"'\")) {\n              return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n            }\n            this.bump();\n            break;\n          }\n        case 123 /* `{` */:\n          {\n            nestedBraces += 1;\n            this.bump();\n            break;\n          }\n        case 125 /* `}` */:\n          {\n            if (nestedBraces > 0) {\n              nestedBraces -= 1;\n            } else {\n              return {\n                val: this.message.slice(startPosition.offset, this.offset()),\n                err: null\n              };\n            }\n            break;\n          }\n        default:\n          this.bump();\n          break;\n      }\n    }\n    return {\n      val: this.message.slice(startPosition.offset, this.offset()),\n      err: null\n    };\n  };\n  Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n    var tokens = [];\n    try {\n      tokens = parseNumberSkeletonFromString(skeleton);\n    } catch (e) {\n      return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n    }\n    return {\n      val: {\n        type: SKELETON_TYPE.number,\n        tokens: tokens,\n        location: location,\n        parsedOptions: this.shouldParseSkeletons ? parseNumberSkeleton(tokens) : {}\n      },\n      err: null\n    };\n  };\n  /**\n   * @param nesting_level The current nesting level of messages.\n   *     This can be positive when parsing message fragment in select or plural argument options.\n   * @param parent_arg_type The parent argument's type.\n   * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n   *     the argument. It is a by-product of a previous parsing attempt.\n   * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n   *     between a pair of opening and closing tags. The nested message will not parse beyond\n   *     the closing tag boundary.\n   */\n  Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n    var _a;\n    var hasOtherClause = false;\n    var options = [];\n    var parsedSelectors = new Set();\n    var selector = parsedFirstIdentifier.value,\n      selectorLocation = parsedFirstIdentifier.location;\n    // Parse:\n    // one {one apple}\n    // ^--^\n    while (true) {\n      if (selector.length === 0) {\n        var startPosition = this.clonePosition();\n        if (parentArgType !== 'select' && this.bumpIf('=')) {\n          // Try parse `={number}` selector\n          var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n          if (result.err) {\n            return result;\n          }\n          selectorLocation = createLocation(startPosition, this.clonePosition());\n          selector = this.message.slice(startPosition.offset, this.offset());\n        } else {\n          break;\n        }\n      }\n      // Duplicate selector clauses\n      if (parsedSelectors.has(selector)) {\n        return this.error(parentArgType === 'select' ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n      }\n      if (selector === 'other') {\n        hasOtherClause = true;\n      }\n      // Parse:\n      // one {one apple}\n      //     ^----------^\n      this.bumpSpace();\n      var openingBracePosition = this.clonePosition();\n      if (!this.bumpIf('{')) {\n        return this.error(parentArgType === 'select' ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n      }\n      var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n      if (fragmentResult.err) {\n        return fragmentResult;\n      }\n      var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n      if (argCloseResult.err) {\n        return argCloseResult;\n      }\n      options.push([selector, {\n        value: fragmentResult.val,\n        location: createLocation(openingBracePosition, this.clonePosition())\n      }]);\n      // Keep track of the existing selectors\n      parsedSelectors.add(selector);\n      // Prep next selector clause.\n      this.bumpSpace();\n      _a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location;\n    }\n    if (options.length === 0) {\n      return this.error(parentArgType === 'select' ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n    }\n    if (this.requiresOtherClause && !hasOtherClause) {\n      return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n    }\n    return {\n      val: options,\n      err: null\n    };\n  };\n  Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n    var sign = 1;\n    var startingPosition = this.clonePosition();\n    if (this.bumpIf('+')) {} else if (this.bumpIf('-')) {\n      sign = -1;\n    }\n    var hasDigits = false;\n    var decimal = 0;\n    while (!this.isEOF()) {\n      var ch = this.char();\n      if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n        hasDigits = true;\n        decimal = decimal * 10 + (ch - 48);\n        this.bump();\n      } else {\n        break;\n      }\n    }\n    var location = createLocation(startingPosition, this.clonePosition());\n    if (!hasDigits) {\n      return this.error(expectNumberError, location);\n    }\n    decimal *= sign;\n    if (!isSafeInteger(decimal)) {\n      return this.error(invalidNumberError, location);\n    }\n    return {\n      val: decimal,\n      err: null\n    };\n  };\n  Parser.prototype.offset = function () {\n    return this.position.offset;\n  };\n  Parser.prototype.isEOF = function () {\n    return this.offset() === this.message.length;\n  };\n  Parser.prototype.clonePosition = function () {\n    // This is much faster than `Object.assign` or spread.\n    return {\n      offset: this.position.offset,\n      line: this.position.line,\n      column: this.position.column\n    };\n  };\n  /**\n   * Return the code point at the current position of the parser.\n   * Throws if the index is out of bound.\n   */\n  Parser.prototype.char = function () {\n    var offset = this.position.offset;\n    if (offset >= this.message.length) {\n      throw Error('out of bound');\n    }\n    var code = codePointAt(this.message, offset);\n    if (code === undefined) {\n      throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n    }\n    return code;\n  };\n  Parser.prototype.error = function (kind, location) {\n    return {\n      val: null,\n      err: {\n        kind: kind,\n        message: this.message,\n        location: location\n      }\n    };\n  };\n  /** Bump the parser to the next UTF-16 code unit. */\n  Parser.prototype.bump = function () {\n    if (this.isEOF()) {\n      return;\n    }\n    var code = this.char();\n    if (code === 10 /* '\\n' */) {\n      this.position.line += 1;\n      this.position.column = 1;\n      this.position.offset += 1;\n    } else {\n      this.position.column += 1;\n      // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n      this.position.offset += code < 0x10000 ? 1 : 2;\n    }\n  };\n  /**\n   * If the substring starting at the current position of the parser has\n   * the given prefix, then bump the parser to the character immediately\n   * following the prefix and return true. Otherwise, don't bump the parser\n   * and return false.\n   */\n  Parser.prototype.bumpIf = function (prefix) {\n    if (startsWith(this.message, prefix, this.offset())) {\n      for (var i = 0; i < prefix.length; i++) {\n        this.bump();\n      }\n      return true;\n    }\n    return false;\n  };\n  /**\n   * Bump the parser until the pattern character is found and return `true`.\n   * Otherwise bump to the end of the file and return `false`.\n   */\n  Parser.prototype.bumpUntil = function (pattern) {\n    var currentOffset = this.offset();\n    var index = this.message.indexOf(pattern, currentOffset);\n    if (index >= 0) {\n      this.bumpTo(index);\n      return true;\n    } else {\n      this.bumpTo(this.message.length);\n      return false;\n    }\n  };\n  /**\n   * Bump the parser to the target offset.\n   * If target offset is beyond the end of the input, bump the parser to the end of the input.\n   */\n  Parser.prototype.bumpTo = function (targetOffset) {\n    if (this.offset() > targetOffset) {\n      throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n    }\n    targetOffset = Math.min(targetOffset, this.message.length);\n    while (true) {\n      var offset = this.offset();\n      if (offset === targetOffset) {\n        break;\n      }\n      if (offset > targetOffset) {\n        throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n      }\n      this.bump();\n      if (this.isEOF()) {\n        break;\n      }\n    }\n  };\n  /** advance the parser through all whitespace to the next non-whitespace code unit. */\n  Parser.prototype.bumpSpace = function () {\n    while (!this.isEOF() && _isWhiteSpace(this.char())) {\n      this.bump();\n    }\n  };\n  /**\n   * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n   * If the input has been exhausted, then this returns null.\n   */\n  Parser.prototype.peek = function () {\n    if (this.isEOF()) {\n      return null;\n    }\n    var code = this.char();\n    var offset = this.offset();\n    var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n    return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n  };\n  return Parser;\n}();\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n  return codepoint >= 97 && codepoint <= 122 || codepoint >= 65 && codepoint <= 90;\n}\nfunction _isAlphaOrSlash(codepoint) {\n  return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n  return c === 45 /* '-' */ || c === 46 /* '.' */ || c >= 48 && c <= 57 /* 0..9 */ || c === 95 /* '_' */ || c >= 97 && c <= 122 /** a..z */ || c >= 65 && c <= 90 /* A..Z */ || c == 0xb7 || c >= 0xc0 && c <= 0xd6 || c >= 0xd8 && c <= 0xf6 || c >= 0xf8 && c <= 0x37d || c >= 0x37f && c <= 0x1fff || c >= 0x200c && c <= 0x200d || c >= 0x203f && c <= 0x2040 || c >= 0x2070 && c <= 0x218f || c >= 0x2c00 && c <= 0x2fef || c >= 0x3001 && c <= 0xd7ff || c >= 0xf900 && c <= 0xfdcf || c >= 0xfdf0 && c <= 0xfffd || c >= 0x10000 && c <= 0xeffff;\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n  return c >= 0x0009 && c <= 0x000d || c === 0x0020 || c === 0x0085 || c >= 0x200e && c <= 0x200f || c === 0x2028 || c === 0x2029;\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n  return c >= 0x0021 && c <= 0x0023 || c === 0x0024 || c >= 0x0025 && c <= 0x0027 || c === 0x0028 || c === 0x0029 || c === 0x002a || c === 0x002b || c === 0x002c || c === 0x002d || c >= 0x002e && c <= 0x002f || c >= 0x003a && c <= 0x003b || c >= 0x003c && c <= 0x003e || c >= 0x003f && c <= 0x0040 || c === 0x005b || c === 0x005c || c === 0x005d || c === 0x005e || c === 0x0060 || c === 0x007b || c === 0x007c || c === 0x007d || c === 0x007e || c === 0x00a1 || c >= 0x00a2 && c <= 0x00a5 || c === 0x00a6 || c === 0x00a7 || c === 0x00a9 || c === 0x00ab || c === 0x00ac || c === 0x00ae || c === 0x00b0 || c === 0x00b1 || c === 0x00b6 || c === 0x00bb || c === 0x00bf || c === 0x00d7 || c === 0x00f7 || c >= 0x2010 && c <= 0x2015 || c >= 0x2016 && c <= 0x2017 || c === 0x2018 || c === 0x2019 || c === 0x201a || c >= 0x201b && c <= 0x201c || c === 0x201d || c === 0x201e || c === 0x201f || c >= 0x2020 && c <= 0x2027 || c >= 0x2030 && c <= 0x2038 || c === 0x2039 || c === 0x203a || c >= 0x203b && c <= 0x203e || c >= 0x2041 && c <= 0x2043 || c === 0x2044 || c === 0x2045 || c === 0x2046 || c >= 0x2047 && c <= 0x2051 || c === 0x2052 || c === 0x2053 || c >= 0x2055 && c <= 0x205e || c >= 0x2190 && c <= 0x2194 || c >= 0x2195 && c <= 0x2199 || c >= 0x219a && c <= 0x219b || c >= 0x219c && c <= 0x219f || c === 0x21a0 || c >= 0x21a1 && c <= 0x21a2 || c === 0x21a3 || c >= 0x21a4 && c <= 0x21a5 || c === 0x21a6 || c >= 0x21a7 && c <= 0x21ad || c === 0x21ae || c >= 0x21af && c <= 0x21cd || c >= 0x21ce && c <= 0x21cf || c >= 0x21d0 && c <= 0x21d1 || c === 0x21d2 || c === 0x21d3 || c === 0x21d4 || c >= 0x21d5 && c <= 0x21f3 || c >= 0x21f4 && c <= 0x22ff || c >= 0x2300 && c <= 0x2307 || c === 0x2308 || c === 0x2309 || c === 0x230a || c === 0x230b || c >= 0x230c && c <= 0x231f || c >= 0x2320 && c <= 0x2321 || c >= 0x2322 && c <= 0x2328 || c === 0x2329 || c === 0x232a || c >= 0x232b && c <= 0x237b || c === 0x237c || c >= 0x237d && c <= 0x239a || c >= 0x239b && c <= 0x23b3 || c >= 0x23b4 && c <= 0x23db || c >= 0x23dc && c <= 0x23e1 || c >= 0x23e2 && c <= 0x2426 || c >= 0x2427 && c <= 0x243f || c >= 0x2440 && c <= 0x244a || c >= 0x244b && c <= 0x245f || c >= 0x2500 && c <= 0x25b6 || c === 0x25b7 || c >= 0x25b8 && c <= 0x25c0 || c === 0x25c1 || c >= 0x25c2 && c <= 0x25f7 || c >= 0x25f8 && c <= 0x25ff || c >= 0x2600 && c <= 0x266e || c === 0x266f || c >= 0x2670 && c <= 0x2767 || c === 0x2768 || c === 0x2769 || c === 0x276a || c === 0x276b || c === 0x276c || c === 0x276d || c === 0x276e || c === 0x276f || c === 0x2770 || c === 0x2771 || c === 0x2772 || c === 0x2773 || c === 0x2774 || c === 0x2775 || c >= 0x2794 && c <= 0x27bf || c >= 0x27c0 && c <= 0x27c4 || c === 0x27c5 || c === 0x27c6 || c >= 0x27c7 && c <= 0x27e5 || c === 0x27e6 || c === 0x27e7 || c === 0x27e8 || c === 0x27e9 || c === 0x27ea || c === 0x27eb || c === 0x27ec || c === 0x27ed || c === 0x27ee || c === 0x27ef || c >= 0x27f0 && c <= 0x27ff || c >= 0x2800 && c <= 0x28ff || c >= 0x2900 && c <= 0x2982 || c === 0x2983 || c === 0x2984 || c === 0x2985 || c === 0x2986 || c === 0x2987 || c === 0x2988 || c === 0x2989 || c === 0x298a || c === 0x298b || c === 0x298c || c === 0x298d || c === 0x298e || c === 0x298f || c === 0x2990 || c === 0x2991 || c === 0x2992 || c === 0x2993 || c === 0x2994 || c === 0x2995 || c === 0x2996 || c === 0x2997 || c === 0x2998 || c >= 0x2999 && c <= 0x29d7 || c === 0x29d8 || c === 0x29d9 || c === 0x29da || c === 0x29db || c >= 0x29dc && c <= 0x29fb || c === 0x29fc || c === 0x29fd || c >= 0x29fe && c <= 0x2aff || c >= 0x2b00 && c <= 0x2b2f || c >= 0x2b30 && c <= 0x2b44 || c >= 0x2b45 && c <= 0x2b46 || c >= 0x2b47 && c <= 0x2b4c || c >= 0x2b4d && c <= 0x2b73 || c >= 0x2b74 && c <= 0x2b75 || c >= 0x2b76 && c <= 0x2b95 || c === 0x2b96 || c >= 0x2b97 && c <= 0x2bff || c >= 0x2e00 && c <= 0x2e01 || c === 0x2e02 || c === 0x2e03 || c === 0x2e04 || c === 0x2e05 || c >= 0x2e06 && c <= 0x2e08 || c === 0x2e09 || c === 0x2e0a || c === 0x2e0b || c === 0x2e0c || c === 0x2e0d || c >= 0x2e0e && c <= 0x2e16 || c === 0x2e17 || c >= 0x2e18 && c <= 0x2e19 || c === 0x2e1a || c === 0x2e1b || c === 0x2e1c || c === 0x2e1d || c >= 0x2e1e && c <= 0x2e1f || c === 0x2e20 || c === 0x2e21 || c === 0x2e22 || c === 0x2e23 || c === 0x2e24 || c === 0x2e25 || c === 0x2e26 || c === 0x2e27 || c === 0x2e28 || c === 0x2e29 || c >= 0x2e2a && c <= 0x2e2e || c === 0x2e2f || c >= 0x2e30 && c <= 0x2e39 || c >= 0x2e3a && c <= 0x2e3b || c >= 0x2e3c && c <= 0x2e3f || c === 0x2e40 || c === 0x2e41 || c === 0x2e42 || c >= 0x2e43 && c <= 0x2e4f || c >= 0x2e50 && c <= 0x2e51 || c === 0x2e52 || c >= 0x2e53 && c <= 0x2e7f || c >= 0x3001 && c <= 0x3003 || c === 0x3008 || c === 0x3009 || c === 0x300a || c === 0x300b || c === 0x300c || c === 0x300d || c === 0x300e || c === 0x300f || c === 0x3010 || c === 0x3011 || c >= 0x3012 && c <= 0x3013 || c === 0x3014 || c === 0x3015 || c === 0x3016 || c === 0x3017 || c === 0x3018 || c === 0x3019 || c === 0x301a || c === 0x301b || c === 0x301c || c === 0x301d || c >= 0x301e && c <= 0x301f || c === 0x3020 || c === 0x3030 || c === 0xfd3e || c === 0xfd3f || c >= 0xfe45 && c <= 0xfe46;\n}","import { timeData } from './time-data.generated';\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nexport function getBestPattern(skeleton, locale) {\n  var skeletonCopy = '';\n  for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n    var patternChar = skeleton.charAt(patternPos);\n    if (patternChar === 'j') {\n      var extraLength = 0;\n      while (patternPos + 1 < skeleton.length && skeleton.charAt(patternPos + 1) === patternChar) {\n        extraLength++;\n        patternPos++;\n      }\n      var hourLen = 1 + (extraLength & 1);\n      var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n      var dayPeriodChar = 'a';\n      var hourChar = getDefaultHourSymbolFromLocale(locale);\n      if (hourChar == 'H' || hourChar == 'k') {\n        dayPeriodLen = 0;\n      }\n      while (dayPeriodLen-- > 0) {\n        skeletonCopy += dayPeriodChar;\n      }\n      while (hourLen-- > 0) {\n        skeletonCopy = hourChar + skeletonCopy;\n      }\n    } else if (patternChar === 'J') {\n      skeletonCopy += 'H';\n    } else {\n      skeletonCopy += patternChar;\n    }\n  }\n  return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n  var hourCycle = locale.hourCycle;\n  if (hourCycle === undefined &&\n  // @ts-ignore hourCycle(s) is not identified yet\n  locale.hourCycles &&\n  // @ts-ignore\n  locale.hourCycles.length) {\n    // @ts-ignore\n    hourCycle = locale.hourCycles[0];\n  }\n  if (hourCycle) {\n    switch (hourCycle) {\n      case 'h24':\n        return 'k';\n      case 'h23':\n        return 'H';\n      case 'h12':\n        return 'h';\n      case 'h11':\n        return 'K';\n      default:\n        throw new Error('Invalid hourCycle');\n    }\n  }\n  // TODO: Once hourCycle is fully supported remove the following with data generation\n  var languageTag = locale.language;\n  var regionTag;\n  if (languageTag !== 'root') {\n    regionTag = locale.maximize().region;\n  }\n  var hourCycles = timeData[regionTag || ''] || timeData[languageTag || ''] || timeData[\"\".concat(languageTag, \"-001\")] || timeData['001'];\n  return hourCycles[0];\n}","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement } from './types';\nfunction pruneLocation(els) {\n  els.forEach(function (el) {\n    delete el.location;\n    if (isSelectElement(el) || isPluralElement(el)) {\n      for (var k in el.options) {\n        delete el.options[k].location;\n        pruneLocation(el.options[k].value);\n      }\n    } else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n      delete el.style.location;\n    } else if ((isDateElement(el) || isTimeElement(el)) && isDateTimeSkeleton(el.style)) {\n      delete el.style.location;\n    } else if (isTagElement(el)) {\n      pruneLocation(el.children);\n    }\n  });\n}\nexport function parse(message, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  opts = __assign({\n    shouldParseSkeletons: true,\n    requiresOtherClause: true\n  }, opts);\n  var result = new Parser(message, opts).parse();\n  if (result.err) {\n    var error = SyntaxError(ErrorKind[result.err.kind]);\n    // @ts-expect-error Assign to error object\n    error.location = result.err.location;\n    // @ts-expect-error Assign to error object\n    error.originalMessage = result.err.message;\n    throw error;\n  }\n  if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n    pruneLocation(result.val);\n  }\n  return result.val;\n}\nexport * from './types';\n// only for testing\nexport var _Parser = Parser;","//\n// Main\n//\nexport function memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n  return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n  return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n  return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n  return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value;\n};\nvar cacheDefault = {\n  create: function create() {\n    // @ts-ignore\n    return new ObjectWithoutPrototypeCache();\n  }\n};\nexport var strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n};","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n  // When we have a placeholder but no value to format\n  ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n  // When value supplied is invalid\n  ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n  // When we need specific Intl API but it's not available\n  ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */function (_super) {\n  __extends(FormatError, _super);\n  function FormatError(msg, code, originalMessage) {\n    var _this = _super.call(this, msg) || this;\n    _this.code = code;\n    _this.originalMessage = originalMessage;\n    return _this;\n  }\n  FormatError.prototype.toString = function () {\n    return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n  };\n  return FormatError;\n}(Error);\nexport { FormatError };\nvar InvalidValueError = /** @class */function (_super) {\n  __extends(InvalidValueError, _super);\n  function InvalidValueError(variableId, value, options, originalMessage) {\n    return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n  }\n  return InvalidValueError;\n}(FormatError);\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */function (_super) {\n  __extends(InvalidValueTypeError, _super);\n  function InvalidValueTypeError(value, type, originalMessage) {\n    return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n  }\n  return InvalidValueTypeError;\n}(FormatError);\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */function (_super) {\n  __extends(MissingValueError, _super);\n  function MissingValueError(variableId, originalMessage) {\n    return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n  }\n  return MissingValueError;\n}(FormatError);\nexport { MissingValueError };","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n  PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n  PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n  if (parts.length < 2) {\n    return parts;\n  }\n  return parts.reduce(function (all, part) {\n    var lastPart = all[all.length - 1];\n    if (!lastPart || lastPart.type !== PART_TYPE.literal || part.type !== PART_TYPE.literal) {\n      all.push(part);\n    } else {\n      lastPart.value += part.value;\n    }\n    return all;\n  }, []);\n}\nexport function isFormatXMLElementFn(el) {\n  return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue,\n// For debugging\noriginalMessage) {\n  // Hot path for straight simple msg translations\n  if (els.length === 1 && isLiteralElement(els[0])) {\n    return [{\n      type: PART_TYPE.literal,\n      value: els[0].value\n    }];\n  }\n  var result = [];\n  for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n    var el = els_1[_i];\n    // Exit early for string parts.\n    if (isLiteralElement(el)) {\n      result.push({\n        type: PART_TYPE.literal,\n        value: el.value\n      });\n      continue;\n    }\n    // TODO: should this part be literal type?\n    // Replace `#` in plural rules with the actual numeric value.\n    if (isPoundElement(el)) {\n      if (typeof currentPluralValue === 'number') {\n        result.push({\n          type: PART_TYPE.literal,\n          value: formatters.getNumberFormat(locales).format(currentPluralValue)\n        });\n      }\n      continue;\n    }\n    var varName = el.value;\n    // Enforce that all required values are provided by the caller.\n    if (!(values && varName in values)) {\n      throw new MissingValueError(varName, originalMessage);\n    }\n    var value = values[varName];\n    if (isArgumentElement(el)) {\n      if (!value || typeof value === 'string' || typeof value === 'number') {\n        value = typeof value === 'string' || typeof value === 'number' ? String(value) : '';\n      }\n      result.push({\n        type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n        value: value\n      });\n      continue;\n    }\n    // Recursively format plural and select parts' option  which can be a\n    // nested pattern structure. The choosing of the option to use is\n    // abstracted-by and delegated-to the part helper object.\n    if (isDateElement(el)) {\n      var style = typeof el.style === 'string' ? formats.date[el.style] : isDateTimeSkeleton(el.style) ? el.style.parsedOptions : undefined;\n      result.push({\n        type: PART_TYPE.literal,\n        value: formatters.getDateTimeFormat(locales, style).format(value)\n      });\n      continue;\n    }\n    if (isTimeElement(el)) {\n      var style = typeof el.style === 'string' ? formats.time[el.style] : isDateTimeSkeleton(el.style) ? el.style.parsedOptions : formats.time.medium;\n      result.push({\n        type: PART_TYPE.literal,\n        value: formatters.getDateTimeFormat(locales, style).format(value)\n      });\n      continue;\n    }\n    if (isNumberElement(el)) {\n      var style = typeof el.style === 'string' ? formats.number[el.style] : isNumberSkeleton(el.style) ? el.style.parsedOptions : undefined;\n      if (style && style.scale) {\n        value = value * (style.scale || 1);\n      }\n      result.push({\n        type: PART_TYPE.literal,\n        value: formatters.getNumberFormat(locales, style).format(value)\n      });\n      continue;\n    }\n    if (isTagElement(el)) {\n      var children = el.children,\n        value_1 = el.value;\n      var formatFn = values[value_1];\n      if (!isFormatXMLElementFn(formatFn)) {\n        throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n      }\n      var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n      var chunks = formatFn(parts.map(function (p) {\n        return p.value;\n      }));\n      if (!Array.isArray(chunks)) {\n        chunks = [chunks];\n      }\n      result.push.apply(result, chunks.map(function (c) {\n        return {\n          type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n          value: c\n        };\n      }));\n    }\n    if (isSelectElement(el)) {\n      var opt = el.options[value] || el.options.other;\n      if (!opt) {\n        throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n      }\n      result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n      continue;\n    }\n    if (isPluralElement(el)) {\n      var opt = el.options[\"=\".concat(value)];\n      if (!opt) {\n        if (!Intl.PluralRules) {\n          throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n        }\n        var rule = formatters.getPluralRules(locales, {\n          type: el.pluralType\n        }).select(value - (el.offset || 0));\n        opt = el.options[rule] || el.options.other;\n      }\n      if (!opt) {\n        throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n      }\n      result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n      continue;\n    }\n  }\n  return mergeLiteral(result);\n}","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport { parse } from '@formatjs/icu-messageformat-parser';\nimport { memoize, strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n  if (!c2) {\n    return c1;\n  }\n  return __assign(__assign(__assign({}, c1 || {}), c2 || {}), Object.keys(c1).reduce(function (all, k) {\n    all[k] = __assign(__assign({}, c1[k]), c2[k] || {});\n    return all;\n  }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n  if (!configs) {\n    return defaultConfig;\n  }\n  return Object.keys(defaultConfig).reduce(function (all, k) {\n    all[k] = mergeConfig(defaultConfig[k], configs[k]);\n    return all;\n  }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n  return {\n    create: function () {\n      return {\n        get: function (key) {\n          return store[key];\n        },\n        set: function (key, value) {\n          store[key] = value;\n        }\n      };\n    }\n  };\n}\nfunction createDefaultFormatters(cache) {\n  if (cache === void 0) {\n    cache = {\n      number: {},\n      dateTime: {},\n      pluralRules: {}\n    };\n  }\n  return {\n    getNumberFormat: memoize(function () {\n      var _a;\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n      cache: createFastMemoizeCache(cache.number),\n      strategy: strategies.variadic\n    }),\n    getDateTimeFormat: memoize(function () {\n      var _a;\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n      cache: createFastMemoizeCache(cache.dateTime),\n      strategy: strategies.variadic\n    }),\n    getPluralRules: memoize(function () {\n      var _a;\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n    }, {\n      cache: createFastMemoizeCache(cache.pluralRules),\n      strategy: strategies.variadic\n    })\n  };\n}\nexport var IntlMessageFormat = /** @class */function () {\n  function IntlMessageFormat(message, locales, overrideFormats, opts) {\n    if (locales === void 0) {\n      locales = IntlMessageFormat.defaultLocale;\n    }\n    var _this = this;\n    this.formatterCache = {\n      number: {},\n      dateTime: {},\n      pluralRules: {}\n    };\n    this.format = function (values) {\n      var parts = _this.formatToParts(values);\n      // Hot path for straight simple msg translations\n      if (parts.length === 1) {\n        return parts[0].value;\n      }\n      var result = parts.reduce(function (all, part) {\n        if (!all.length || part.type !== PART_TYPE.literal || typeof all[all.length - 1] !== 'string') {\n          all.push(part.value);\n        } else {\n          all[all.length - 1] += part.value;\n        }\n        return all;\n      }, []);\n      if (result.length <= 1) {\n        return result[0] || '';\n      }\n      return result;\n    };\n    this.formatToParts = function (values) {\n      return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n    };\n    this.resolvedOptions = function () {\n      var _a;\n      return {\n        locale: ((_a = _this.resolvedLocale) === null || _a === void 0 ? void 0 : _a.toString()) || Intl.NumberFormat.supportedLocalesOf(_this.locales)[0]\n      };\n    };\n    this.getAst = function () {\n      return _this.ast;\n    };\n    // Defined first because it's used to build the format pattern.\n    this.locales = locales;\n    this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n    if (typeof message === 'string') {\n      this.message = message;\n      if (!IntlMessageFormat.__parse) {\n        throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n      }\n      var _a = opts || {},\n        formatters = _a.formatters,\n        parseOpts = __rest(_a, [\"formatters\"]);\n      // Parse string messages into an AST.\n      this.ast = IntlMessageFormat.__parse(message, __assign(__assign({}, parseOpts), {\n        locale: this.resolvedLocale\n      }));\n    } else {\n      this.ast = message;\n    }\n    if (!Array.isArray(this.ast)) {\n      throw new TypeError('A message must be provided as a String or AST.');\n    }\n    // Creates a new object with the specified `formats` merged with the default\n    // formats.\n    this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n    this.formatters = opts && opts.formatters || createDefaultFormatters(this.formatterCache);\n  }\n  Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n    get: function () {\n      if (!IntlMessageFormat.memoizedDefaultLocale) {\n        IntlMessageFormat.memoizedDefaultLocale = new Intl.NumberFormat().resolvedOptions().locale;\n      }\n      return IntlMessageFormat.memoizedDefaultLocale;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  IntlMessageFormat.memoizedDefaultLocale = null;\n  IntlMessageFormat.resolveLocale = function (locales) {\n    if (typeof Intl.Locale === 'undefined') {\n      return;\n    }\n    var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n    if (supportedLocales.length > 0) {\n      return new Intl.Locale(supportedLocales[0]);\n    }\n    return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n  };\n  IntlMessageFormat.__parse = parse;\n  // Default format options used as the prototype of the `formats` provided to the\n  // constructor. These are used when constructing the internal Intl.NumberFormat\n  // and Intl.DateTimeFormat instances.\n  IntlMessageFormat.formats = {\n    number: {\n      integer: {\n        maximumFractionDigits: 0\n      },\n      currency: {\n        style: 'currency'\n      },\n      percent: {\n        style: 'percent'\n      }\n    },\n    date: {\n      short: {\n        month: 'numeric',\n        day: 'numeric',\n        year: '2-digit'\n      },\n      medium: {\n        month: 'short',\n        day: 'numeric',\n        year: 'numeric'\n      },\n      long: {\n        month: 'long',\n        day: 'numeric',\n        year: 'numeric'\n      },\n      full: {\n        weekday: 'long',\n        month: 'long',\n        day: 'numeric',\n        year: 'numeric'\n      }\n    },\n    time: {\n      short: {\n        hour: 'numeric',\n        minute: 'numeric'\n      },\n      medium: {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric'\n      },\n      long: {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        timeZoneName: 'short'\n      },\n      full: {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        timeZoneName: 'short'\n      }\n    }\n  };\n  return IntlMessageFormat;\n}();","import { IntlMessageFormat } from 'intl-messageformat';\n\nimport { unescape } from 'lodash';\n\nimport locales from './web_push_locales';\n\nconst MAX_NOTIFICATIONS = 5;\nconst GROUP_TAG = 'tag';\n\nconst notify = options =>\n  self.registration.getNotifications().then(notifications => {\n    if (notifications.length >= MAX_NOTIFICATIONS) { // Reached the maximum number of notifications, proceed with grouping\n      const group = {\n        title: formatMessage('notifications.group', options.data.preferred_locale, { count: notifications.length + 1 }),\n        body: notifications.sort((n1, n2) => n1.timestamp < n2.timestamp).map(notification => notification.title).join('\\n'),\n        badge: '/badge.png',\n        icon: '/android-chrome-192x192.png',\n        tag: GROUP_TAG,\n        data: {\n          url: (new URL('/notifications', self.location)).href,\n          count: notifications.length + 1,\n          preferred_locale: options.data.preferred_locale,\n        },\n      };\n\n      notifications.forEach(notification => notification.close());\n\n      return self.registration.showNotification(group.title, group);\n    } else if (notifications.length === 1 && notifications[0].tag === GROUP_TAG) { // Already grouped, proceed with appending the notification to the group\n      const group = cloneNotification(notifications[0]);\n\n      group.title = formatMessage('notifications.group', options.data.preferred_locale, { count: group.data.count + 1 });\n      group.body  = `${options.title}\\n${group.body}`;\n      group.data  = { ...group.data, count: group.data.count + 1 };\n\n      return self.registration.showNotification(group.title, group);\n    }\n\n    return self.registration.showNotification(options.title, options);\n  });\n\nconst fetchFromApi = (path, method, accessToken) => {\n  const url = (new URL(path, self.location)).href;\n\n  return fetch(url, {\n    headers: {\n      'Authorization': `Bearer ${accessToken}`,\n      'Content-Type': 'application/json',\n    },\n\n    method: method,\n    credentials: 'include',\n  }).then(res => {\n    if (res.ok) {\n      return res;\n    } else {\n      throw new Error(res.status);\n    }\n  }).then(res => res.json());\n};\n\nconst cloneNotification = notification => {\n  const clone = {};\n  let k;\n\n  // Object.assign() does not work with notifications\n  for(k in notification) {\n    clone[k] = notification[k];\n  }\n\n  return clone;\n};\n\nconst formatMessage = (messageId, locale, values = {}) =>\n  (new IntlMessageFormat(locales[locale][messageId], locale)).format(values);\n\nconst htmlToPlainText = html =>\n  unescape(html.replace(/<br\\s*\\/?>/g, '\\n').replace(/<\\/p><p>/g, '\\n\\n').replace(/<[^>]*>/g, ''));\n\nexport const handlePush = (event) => {\n  const { access_token, notification_id, preferred_locale, title, body, icon } = event.data.json();\n\n  // Placeholder until more information can be loaded\n  event.waitUntil(\n    fetchFromApi(`/api/v1/notifications/${notification_id}`, 'get', access_token).then(notification => {\n      const options = {};\n\n      options.title     = formatMessage(`notification.${notification.type}`, preferred_locale, { name: notification.account.display_name.length > 0 ? notification.account.display_name : notification.account.username });\n      options.body      = notification.status && htmlToPlainText(notification.status.content);\n      options.icon      = notification.account.avatar_static;\n      options.timestamp = notification.created_at && new Date(notification.created_at);\n      options.tag       = notification.id;\n      options.badge     = '/badge.png';\n      options.image     = notification.status && notification.status.media_attachments.length > 0 && notification.status.media_attachments[0].preview_url || undefined;\n      options.data      = { access_token, preferred_locale, id: notification.status ? notification.status.id : notification.account.id };\n\n      if (notification.status) {\n        options.data.url = `/@${notification.status.account.acct}/${notification.status.id}`;\n      } else {\n        options.data.url = `/@${notification.account.acct}`;\n      }\n\n      if (notification.status && notification.status.spoiler_text || notification.status.sensitive) {\n        options.data.hiddenBody  = htmlToPlainText(notification.status.content);\n        options.data.hiddenImage = notification.status.media_attachments.length > 0 && notification.status.media_attachments[0].preview_url;\n\n        if (notification.status.spoiler_text) {\n          options.body    = notification.status.spoiler_text;\n        }\n\n        options.image   = undefined;\n        options.actions = [actionExpand(preferred_locale)];\n      } else if (['mention', 'status'].includes(notification.type)) {\n        options.actions = [actionReblog(preferred_locale), actionFavourite(preferred_locale)];\n      }\n\n      return notify(options);\n    }).catch(() => {\n      return notify({\n        title,\n        body,\n        icon,\n        tag: notification_id,\n        timestamp: new Date(),\n        badge: '/badge.png',\n        data: { access_token, preferred_locale, url: '/notifications' },\n      });\n    }),\n  );\n};\n\nconst actionExpand = preferred_locale => ({\n  action: 'expand',\n  icon: '/web-push-icon_expand.png',\n  title: formatMessage('status.show_more', preferred_locale),\n});\n\nconst actionReblog = preferred_locale => ({\n  action: 'reblog',\n  icon: '/web-push-icon_reblog.png',\n  title: formatMessage('status.reblog', preferred_locale),\n});\n\nconst actionFavourite = preferred_locale => ({\n  action: 'favourite',\n  icon: '/web-push-icon_favourite.png',\n  title: formatMessage('status.favourite', preferred_locale),\n});\n\nconst findBestClient = clients => {\n  const focusedClient = clients.find(client => client.focused);\n  const visibleClient = clients.find(client => client.visibilityState === 'visible');\n\n  return focusedClient || visibleClient || clients[0];\n};\n\nconst expandNotification = notification => {\n  const newNotification = cloneNotification(notification);\n\n  newNotification.body    = newNotification.data.hiddenBody;\n  newNotification.image   = newNotification.data.hiddenImage;\n  newNotification.actions = [actionReblog(notification.data.preferred_locale), actionFavourite(notification.data.preferred_locale)];\n\n  return self.registration.showNotification(newNotification.title, newNotification);\n};\n\nconst removeActionFromNotification = (notification, action) => {\n  const newNotification = cloneNotification(notification);\n\n  newNotification.actions = newNotification.actions.filter(item => item.action !== action);\n\n  return self.registration.showNotification(newNotification.title, newNotification);\n};\n\nconst openUrl = url =>\n  self.clients.matchAll({ type: 'window' }).then(clientList => {\n    if (clientList.length !== 0 && 'navigate' in clientList[0]) { // Chrome 42-48 does not support navigate\n      const client = findBestClient(clientList);\n\n      return client.navigate(url).then(client => client.focus());\n    }\n\n    return self.clients.openWindow(url);\n  });\n\nexport const handleNotificationClick = (event) => {\n  const reactToNotificationClick = new Promise((resolve, reject) => {\n    if (event.action) {\n      if (event.action === 'expand') {\n        resolve(expandNotification(event.notification));\n      } else if (event.action === 'reblog') {\n        const { data } = event.notification;\n        resolve(fetchFromApi(`/api/v1/statuses/${data.id}/reblog`, 'post', data.access_token).then(() => removeActionFromNotification(event.notification, 'reblog')));\n      } else if (event.action === 'favourite') {\n        const { data } = event.notification;\n        resolve(fetchFromApi(`/api/v1/statuses/${data.id}/favourite`, 'post', data.access_token).then(() => removeActionFromNotification(event.notification, 'favourite')));\n      } else {\n        reject(`Unknown action: ${event.action}`);\n      }\n    } else {\n      event.notification.close();\n      resolve(openUrl(event.notification.data.url));\n    }\n  });\n\n  event.waitUntil(reactToNotificationClick);\n};\n","import { ExpirationPlugin } from 'workbox-expiration';\nimport { precacheAndRoute } from 'workbox-precaching';\nimport { registerRoute } from 'workbox-routing';\nimport { CacheFirst } from 'workbox-strategies';\n\nimport { handleNotificationClick, handlePush } from './web_push_notifications';\n\nconst CACHE_NAME_PREFIX = 'mastodon-';\n\nfunction openWebCache() {\n  return caches.open(`${CACHE_NAME_PREFIX}web`);\n}\n\nfunction fetchRoot() {\n  return fetch('/', { credentials: 'include', redirect: 'manual' });\n}\n\nprecacheAndRoute(self.__WB_MANIFEST);\n\nregisterRoute(\n  /locale_.*\\.js$/,\n  new CacheFirst({\n    cacheName: `${CACHE_NAME_PREFIX}locales`,\n    plugins: [\n      new ExpirationPlugin({\n        maxAgeSeconds: 30 * 24 * 60 * 60, // 1 month\n        maxEntries: 5,\n      }),\n    ],\n  }),\n);\n\nregisterRoute(\n  ({ request }) => request.destination === 'font',\n  new CacheFirst({\n    cacheName: `${CACHE_NAME_PREFIX}fonts`,\n    plugins: [\n      new ExpirationPlugin({\n        maxAgeSeconds: 30 * 24 * 60 * 60, // 1 month\n        maxEntries: 5,\n      }),\n    ],\n  }),\n);\n\nregisterRoute(\n  ({ request }) => request.destination === 'image',\n  new CacheFirst({\n    cacheName: `m${CACHE_NAME_PREFIX}media`,\n    plugins: [\n      new ExpirationPlugin({\n        maxAgeSeconds: 7 * 24 * 60 * 60, // 1 week\n        maxEntries: 256,\n      }),\n    ],\n  }),\n);\n\n// Cause a new version of a registered Service Worker to replace an existing one\n// that is already installed, and replace the currently active worker on open pages.\nself.addEventListener('install', function(event) {\n  event.waitUntil(Promise.all([openWebCache(), fetchRoot()]).then(([cache, root]) => cache.put('/', root)));\n});\n\nself.addEventListener('activate', function(event) {\n  event.waitUntil(self.clients.claim());\n});\n\nself.addEventListener('fetch', function(event) {\n  const url = new URL(event.request.url);\n\n  if (url.pathname === '/auth/sign_out') {\n    const asyncResponse = fetch(event.request);\n    const asyncCache = openWebCache();\n\n    event.respondWith(asyncResponse.then(response => {\n      if (response.ok || response.type === 'opaqueredirect') {\n        return Promise.all([\n          asyncCache.then(cache => cache.delete('/')),\n          indexedDB.deleteDatabase('mastodon'),\n        ]).then(() => response);\n      }\n\n      return response;\n    }));\n  }\n});\n\nself.addEventListener('push', handlePush);\nself.addEventListener('notificationclick', handleNotificationClick);\n","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { addRoute } from './addRoute.js';\nimport { precache } from './precache.js';\nimport './_version.js';\n/**\n * This method will add entries to the precache list and add a route to\n * respond to fetch events.\n *\n * This is a convenience method that will call\n * {@link workbox-precaching.precache} and\n * {@link workbox-precaching.addRoute} in a single call.\n *\n * @param {Array<Object|string>} entries Array of entries to precache.\n * @param {Object} [options] See the\n * {@link workbox-precaching.PrecacheRoute} options.\n *\n * @memberof workbox-precaching\n */\nfunction precacheAndRoute(entries, options) {\n  precache(entries);\n  addRoute(options);\n}\nexport { precacheAndRoute };","/*\n  Copyright 2019 Google LLC\n\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { getOrCreatePrecacheController } from './utils/getOrCreatePrecacheController.js';\nimport './_version.js';\n/**\n * Adds items to the precache list, removing any duplicates and\n * stores the files in the\n * {@link workbox-core.cacheNames|\"precache cache\"} when the service\n * worker installs.\n *\n * This method can be called multiple times.\n *\n * Please note: This method **will not** serve any of the cached files for you.\n * It only precaches files. To respond to a network request you call\n * {@link workbox-precaching.addRoute}.\n *\n * If you have a single array of files to precache, you can just call\n * {@link workbox-precaching.precacheAndRoute}.\n *\n * @param {Array<Object|string>} [entries=[]] Array of entries to precache.\n *\n * @memberof workbox-precaching\n */\nfunction precache(entries) {\n  const precacheController = getOrCreatePrecacheController();\n  precacheController.precache(entries);\n}\nexport { precache };","/*\n  Copyright 2019 Google LLC\n  Use of this source code is governed by an MIT-style\n  license that can be found in the LICENSE file or at\n  https://opensource.org/licenses/MIT.\n*/\nimport { registerRoute } from 'workbox-routing/registerRoute.js';\nimport { getOrCreatePrecacheController } from './utils/getOrCreatePrecacheController.js';\nimport { PrecacheRoute } from './PrecacheRoute.js';\nimport './_version.js';\n/**\n * Add a `fetch` listener to the service worker that will\n * respond to\n * [network requests]{@link https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers#Custom_responses_to_requests}\n * with precached assets.\n *\n * Requests for assets that aren't precached, the `FetchEvent` will not be\n * responded to, allowing the event to fall through to other `fetch` event\n * listeners.\n *\n * @param {Object} [options] See the {@link workbox-precaching.PrecacheRoute}\n * options.\n *\n * @memberof workbox-precaching\n */\nfunction addRoute(options) {\n  const precacheController = getOrCreatePrecacheController();\n  const precacheRoute = new PrecacheRoute(precacheController, options);\n  registerRoute(precacheRoute);\n}\nexport { addRoute };"]}